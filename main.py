import os
import random
import sys
import time
import pygame
from pygame.locals import *

import click_handlers
import cutscenes
import gameplay_functions
import graphics
import drawing_functions
import combat_scenario
import character_creation
import shop_scenario
import zone_korlok
import zone_reservoir
import zone_rohir
import zone_stardust
import zone_seldon
import zone_mines
import zone_terra_trail
import zone_eldream
import zone_ectrenos
import zone_marrow
import zone_forge
import zone_altar
import zone_fishing_hut
import zone_castle


# class objects --------------------------------------------------------------------------------------------------------
class Pet(pygame.sprite.Sprite):
    def __init__(self, name, type, stage, energy, image, active, experience):
        super(Pet, self).__init__()
        self.x_coordinate = player.x_coordinate + 5
        self.y_coordinate = player.y_coordinate + 5
        self.surf = image
        self.rect = self.surf.get_rect(midbottom=(self.x_coordinate, self.y_coordinate))
        self.name = name
        self.type = type
        self.stage = stage
        self.energy = energy
        self.active = active
        self.experience = experience

    def update(self, x_coordinate, y_coordinate, screen_width, screen_height, current_zone):
        if x_coordinate > screen_width - 275:
            x_coordinate = screen_width - 275
        if x_coordinate < 0:
            x_coordinate = 0
        if y_coordinate > screen_height:
            y_coordinate = screen_height
        if y_coordinate < 0:
            y_coordinate = 0

        if current_zone == "caldera":
            if x_coordinate < 262:
                x_coordinate = 262
            if y_coordinate < 208:
                y_coordinate = 208
            if x_coordinate > 652:
                x_coordinate = 652
            if y_coordinate > 528:
                y_coordinate = 528
        if current_zone == "castle one":
            if y_coordinate < 115:
                y_coordinate = 115
            if y_coordinate < 552:
                if x_coordinate < 32:
                    x_coordinate = 32
                if x_coordinate > 1000:
                    x_coordinate = 1000
                if x_coordinate > 220:
                    if y_coordinate > 385:
                        if x_coordinate < 245:
                            x_coordinate = 245
                if x_coordinate < 220:
                    if y_coordinate > 385:
                        if x_coordinate > 205:
                            x_coordinate = 205
                if x_coordinate < 808:
                    if y_coordinate > 385:
                        if x_coordinate > 790:
                            x_coordinate = 790
                if x_coordinate > 808:
                    if y_coordinate > 385:
                        if x_coordinate < 826:
                            x_coordinate = 826
                if 795 > x_coordinate > 220:
                    if 390 > x_coordinate or x_coordinate > 634:
                        if y_coordinate > 470:
                            y_coordinate = 470
                    else:
                        if y_coordinate > 490:
                            y_coordinate = 490
            if y_coordinate > 550:
                if 215 < x_coordinate < 810:
                    if y_coordinate < 565:
                        y_coordinate = 565
            if y_coordinate > 705:
                y_coordinate = 705
        if current_zone == "castle two":
            if y_coordinate > 705:
                y_coordinate = 705
            if x_coordinate < 30:
                x_coordinate = 30
            if y_coordinate < 35:
                y_coordinate = 35
            if x_coordinate > 1005:
                x_coordinate = 1005
            if y_coordinate > 552 and x_coordinate > 220:
                if y_coordinate < 570:
                    y_coordinate = 570
            if y_coordinate < 552 and x_coordinate > 220:
                if y_coordinate > 540:
                    y_coordinate = 540
            if 552 > y_coordinate > 390 and x_coordinate > 222:
                if y_coordinate < 402:
                    y_coordinate = 402
                if x_coordinate > 775:
                    x_coordinate = 775
            if 172 < y_coordinate < 395 and x_coordinate < 777:
                if x_coordinate > 215:
                    x_coordinate = 215
            if 222 < x_coordinate < 810 and y_coordinate < 185:
                if y_coordinate > 168:
                    y_coordinate = 168
            if x_coordinate > 798 and 401 > y_coordinate > 170:
                if x_coordinate < 815:
                    x_coordinate = 815
                if y_coordinate > 385:
                    y_coordinate = 385
        if current_zone == "castle three":
            if y_coordinate > 705:
                y_coordinate = 705
            if x_coordinate < 30:
                x_coordinate = 30
            if y_coordinate < 35:
                y_coordinate = 35
            if x_coordinate > 1005:
                x_coordinate = 1005
            if y_coordinate > 550 and x_coordinate < 800:
                if y_coordinate < 570:
                    y_coordinate = 570
            if y_coordinate < 552 and x_coordinate < 800:
                if y_coordinate > 537:
                    y_coordinate = 537
            if 552 > y_coordinate > 183 and x_coordinate > 238:
                if x_coordinate < 260:
                    x_coordinate = 260
            if 552 > y_coordinate > 178:
                if 238 < x_coordinate < 444:
                    if y_coordinate < 200:
                        y_coordinate = 200
                    if y_coordinate < 395:
                        if x_coordinate > 410:
                            x_coordinate = 410
                if 410 < x_coordinate < 808:
                    if y_coordinate < 402:
                        y_coordinate = 402
                if x_coordinate > 800:
                    if y_coordinate < 408:
                        if x_coordinate < 812:
                            x_coordinate = 812
                if x_coordinate < 238:
                    if x_coordinate > 218:
                        x_coordinate = 218
                    if y_coordinate > 386:
                        y_coordinate = 386
            if y_coordinate < 178 and 226 < x_coordinate < 816:
                if y_coordinate > 170:
                    y_coordinate = 170
        if current_zone == "castle lair":
            if y_coordinate < 115:
                y_coordinate = 115
            if x_coordinate < 125:
                x_coordinate = 125
            if x_coordinate > 910:
                x_coordinate = 910
            if y_coordinate > 612:
                y_coordinate = 612
        if current_zone == "fishing alcove":
            if x_coordinate < 25:
                x_coordinate = 25
            if y_coordinate > 525:
                if x_coordinate > 1010:
                    x_coordinate = 1010
            if y_coordinate < 525:
                if x_coordinate > 775:
                    x_coordinate = 775
            if x_coordinate > 775:
                if y_coordinate < 535:
                    y_coordinate = 535
            if y_coordinate <= 405:
                y_coordinate = 405
            elif y_coordinate >= 644:
                y_coordinate = 644
        if current_zone == "rohir":
            if x_coordinate < 50:
                x_coordinate = 50
            elif x_coordinate > 930:
                x_coordinate = 930
            if y_coordinate <= 145:
                y_coordinate = 145
            elif y_coordinate >= 575:
                y_coordinate = 575
            if 160 < x_coordinate < 270:
                if y_coordinate < 210:
                    y_coordinate = 210
                if y_coordinate > 475:
                    y_coordinate = 475
            if y_coordinate < 210 or y_coordinate > 475:
                if x_coordinate < 170:
                    if x_coordinate > 155:
                        x_coordinate = 155
                else:
                    if x_coordinate < 275:
                        x_coordinate = 275
        if current_zone == "nascent":
            if x_coordinate < 340:
                x_coordinate = 340
            elif x_coordinate > 955:
                x_coordinate = 955
            if y_coordinate <= 60:
                y_coordinate = 60
            elif y_coordinate >= 670:
                y_coordinate = 670
            elif 315 >= y_coordinate >= 300:
                y_coordinate = 315
            elif 300 >= y_coordinate >= 230:
                y_coordinate = 230
        if current_zone == "reservoir a":
            if x_coordinate < 50:
                x_coordinate = 50
            elif x_coordinate > 980:
                x_coordinate = 980
            elif x_coordinate < 365:
                if y_coordinate > 350:
                    if x_coordinate > 360:
                        x_coordinate = 365
            elif x_coordinate > 680:
                if y_coordinate > 350:
                    if x_coordinate < 685:
                        x_coordinate = 680
            elif 435 < y_coordinate < 550 and x_coordinate > 600:
                x_coordinate = 600
            elif 435 < y_coordinate < 550 and x_coordinate < 430:
                x_coordinate = 430
            elif 350 < y_coordinate < 425 and x_coordinate > 670:
                x_coordinate = 670
            if 350 < y_coordinate < 525 and 750 < x_coordinate < 770:
                x_coordinate = 770
            if 350 < y_coordinate < 525 and 260 < x_coordinate < 305:
                x_coordinate = 260
            if y_coordinate <= 125:
                y_coordinate = 125
            elif x_coordinate < 360 or x_coordinate > 725:
                if y_coordinate >= 520:
                    y_coordinate = 520
            elif x_coordinate > 300 or x_coordinate < 725:
                if y_coordinate >= 720:
                    y_coordinate = 720
        if current_zone == "reservoir b":
            if x_coordinate < 60:
                x_coordinate = 60
            elif x_coordinate < 745:
                if x_coordinate > 705:
                    x_coordinate = 745
            if x_coordinate < 705:
                if x_coordinate > 655:
                    x_coordinate = 655
            elif x_coordinate > 965:
                x_coordinate = 965
            if y_coordinate <= 75:
                y_coordinate = 75
            elif x_coordinate > 705:
                if y_coordinate >= 665:
                    y_coordinate = 665
            else:
                if y_coordinate >= 670:
                    y_coordinate = 670
        if current_zone == "reservoir c":
            if x_coordinate < 90:
                x_coordinate = 90
            if x_coordinate > 965:
                x_coordinate = 965
            if y_coordinate >= 638:
                y_coordinate = 638
            if x_coordinate > 510:
                if y_coordinate < 400:
                    if y_coordinate <= 100:
                        y_coordinate = 100
                    if y_coordinate > 320:
                        y_coordinate = 320
                if y_coordinate > 400:
                    if y_coordinate <= 425:
                        y_coordinate = 425
            else:
                if y_coordinate <= 100:
                    y_coordinate = 100
                if 425 > y_coordinate > 320:
                    if x_coordinate > 505:
                        x_coordinate = 505
        if current_zone == "seldon":
            if x_coordinate < 25:
                x_coordinate = 25
            elif x_coordinate > 925:
                x_coordinate = 925
            if y_coordinate <= 115:
                y_coordinate = 115
            elif y_coordinate >= 705:
                y_coordinate = 705
        if current_zone == "stardust":
            if x_coordinate < 225:
                x_coordinate = 225
            if y_coordinate < 450:
                if x_coordinate > 955:
                    x_coordinate = 955
            if y_coordinate > 450:
                if x_coordinate > 845:
                    x_coordinate = 845
            if x_coordinate > 846:
                if y_coordinate > 446:
                    y_coordinate = 446
            if y_coordinate <= 80:
                y_coordinate = 80
            elif y_coordinate >= 612:
                y_coordinate = 612
            elif 360 >= y_coordinate >= 300 and 641 >= x_coordinate >= 409:
                y_coordinate = 360
            elif 300 >= y_coordinate >= 230 and 641 >= x_coordinate >= 409:
                y_coordinate = 230
            elif 660 >= x_coordinate >= 500 and 358 >= y_coordinate >= 232:
                x_coordinate = 660
            elif 500 >= x_coordinate >= 395 and 358 >= y_coordinate >= 232:
                x_coordinate = 395
            if y_coordinate < 235 and x_coordinate > 470:
                if x_coordinate < 542:
                    x_coordinate = 542
            if y_coordinate < 235 and x_coordinate < 470:
                if x_coordinate > 440:
                    x_coordinate = 440
                if x_coordinate < 325:
                    if y_coordinate < 158:
                        y_coordinate = 158
                if y_coordinate < 158:
                    if x_coordinate < 328:
                        x_coordinate = 328
            if x_coordinate < 445 and 250 < y_coordinate < 330:
                if x_coordinate < 265:
                    x_coordinate = 265
                if x_coordinate > 345:
                    x_coordinate = 345
            if x_coordinate < 250 and 300 < y_coordinate < 335:
                y_coordinate = 335
            if 400 > x_coordinate > 360 and 300 < y_coordinate < 335:
                y_coordinate = 335
            if x_coordinate < 250 and 300 > y_coordinate > 240:
                y_coordinate = 240
            if 360 < x_coordinate < 440 and 300 > y_coordinate > 240:
                y_coordinate = 240
        if current_zone == "korlok":
            if x_coordinate < 25:
                x_coordinate = 25
            elif x_coordinate > 1005:
                x_coordinate = 1005
            elif x_coordinate < 490 and 325 < y_coordinate < 400:
                y_coordinate = 400
            elif x_coordinate < 490 and 400 > y_coordinate > 300:
                y_coordinate = 300
            elif x_coordinate < 492 and 325 < y_coordinate < 400:
                x_coordinate = 492
            if y_coordinate <= 50:
                y_coordinate = 50
            elif y_coordinate >= 627:
                y_coordinate = 627
        if current_zone == "mines":
            if x_coordinate < 72:
                x_coordinate = 72
            if x_coordinate > 965:
                x_coordinate = 965
            if 430 < y_coordinate < 500 and x_coordinate > 545:
                x_coordinate = 545
            if x_coordinate > 545:
                if y_coordinate < 460:
                    if y_coordinate > 425:
                        y_coordinate = 425
                if y_coordinate > 460:
                    if y_coordinate < 505:
                        y_coordinate = 505
            if y_coordinate <= 115:
                y_coordinate = 115
            if x_coordinate < 660:
                if y_coordinate >= 645:
                    y_coordinate = 645
            if x_coordinate > 660:
                if y_coordinate >= 720:
                    y_coordinate = 720
        if current_zone == "terra trail":
            if x_coordinate < 50:
                x_coordinate = 50
            elif x_coordinate > 730:
                x_coordinate = 730
            elif 470 < x_coordinate < 475 and 170 < y_coordinate < 400:
                x_coordinate = 475
            if y_coordinate <= 70:
                y_coordinate = 70
            elif y_coordinate >= 590:
                y_coordinate = 590
            elif 180 > y_coordinate > 170 and x_coordinate < 475:
                y_coordinate = 170
            elif 405 > y_coordinate > 400 and x_coordinate < 475:
                y_coordinate = 405
        if current_zone == "fishing hut":
            if 95 < y_coordinate < 228:
                if x_coordinate < 850:
                    if x_coordinate > 780:
                        x_coordinate = 780
                if x_coordinate > 850:
                    if x_coordinate < 918:
                        x_coordinate = 918
            if 780 < x_coordinate < 918:
                if y_coordinate > 180:
                    if y_coordinate < 234:
                        y_coordinate = 234
                if y_coordinate < 180:
                    if y_coordinate > 90:
                        y_coordinate = 90
            if y_coordinate < 80:
                y_coordinate = 80
            if x_coordinate < 335 and y_coordinate < 325 or \
                    x_coordinate > 490 and y_coordinate < 325:
                if y_coordinate > 295:
                    y_coordinate = 295
            if y_coordinate > 315:
                if x_coordinate < 340:
                    x_coordinate = 340
                if y_coordinate < 360:
                    if x_coordinate > 480:
                        x_coordinate = 480
                if y_coordinate > 360:
                    if x_coordinate > 690:
                        x_coordinate = 690
                if x_coordinate > 480:
                    if y_coordinate < 364:
                        y_coordinate = 364
            if x_coordinate < 25:
                x_coordinate = 25
            if x_coordinate > 1005:
                x_coordinate = 1005
            if y_coordinate > 495:
                y_coordinate = 495
        if current_zone == "eldream":
            if x_coordinate < 20:
                x_coordinate = 20
            elif x_coordinate > 1005:
                x_coordinate = 1005
            elif 885 < x_coordinate < 890 and 525 > y_coordinate > 155:
                x_coordinate = 890
            elif 960 < x_coordinate > 885 and 425 > y_coordinate > 155:
                x_coordinate = 960
            elif 180 > x_coordinate < 170 and 300 > y_coordinate > 145:
                x_coordinate = 170
            if y_coordinate <= 70:
                y_coordinate = 70
            elif y_coordinate >= 705:
                y_coordinate = 705
            elif 525 < y_coordinate < 530 and 220 < x_coordinate < 890:
                y_coordinate = 530
            elif 140 < y_coordinate < 155 and x_coordinate < 170:
                y_coordinate = 140
        if current_zone == "ectrenos":
            if 405 < x_coordinate < 625 and 525 > y_coordinate > 500:
                y_coordinate = 525
            if 405 < x_coordinate < 625 and 400 > y_coordinate > 360:
                y_coordinate = 360
            if 360 < y_coordinate < 525 and 390 < x_coordinate < 450:
                x_coordinate = 390
            if 360 < y_coordinate < 525 < x_coordinate < 640:
                x_coordinate = 640
            if 205 > x_coordinate > 175 and 170 < y_coordinate < 510:
                x_coordinate = 205
            if 205 > x_coordinate > 175 and 570 < y_coordinate < 725:
                x_coordinate = 205
            if 200 < x_coordinate < 435 and 170 < y_coordinate < 190:
                y_coordinate = 190
            if 5 < x_coordinate < 175 and 465 < y_coordinate > 565:
                y_coordinate = 565
            if 825 < x_coordinate < 845 and 170 < y_coordinate < 510:
                x_coordinate = 825
            if 825 < x_coordinate < 845 and 570 < y_coordinate < 725:
                x_coordinate = 825
            if 600 < x_coordinate < 840 and 170 < y_coordinate < 190:
                y_coordinate = 190
            if 825 < x_coordinate < 1010 and 465 < y_coordinate > 565:
                y_coordinate = 565
            if x_coordinate < 25:
                x_coordinate = 25
            elif x_coordinate > 1005:
                x_coordinate = 1005
            if y_coordinate <= 70:
                y_coordinate = 70
            elif y_coordinate >= 705:
                y_coordinate = 705
        if current_zone == "ectrenos left":
            if x_coordinate < 25:
                x_coordinate = 25
            elif x_coordinate > 975 and 400 > y_coordinate or \
                    x_coordinate > 975 and y_coordinate > 620:
                x_coordinate = 975
            if y_coordinate < 395 and 650 > x_coordinate > 500 or \
                    y_coordinate > 615 and 650 > x_coordinate > 500:
                x_coordinate = 650
            if x_coordinate < 630 and 405 > y_coordinate:
                y_coordinate = 405
            if x_coordinate < 630 and 600 < y_coordinate:
                y_coordinate = 600
            elif x_coordinate < 330 and 575 < y_coordinate:
                y_coordinate = 575
            if y_coordinate <= 300:
                y_coordinate = 300
            elif y_coordinate >= 720:
                y_coordinate = 720
        if current_zone == "ectrenos right":
            if x_coordinate > 1005:
                x_coordinate = 1005
            elif x_coordinate < 50 and 400 > y_coordinate or \
                    x_coordinate < 50 and y_coordinate > 620:
                x_coordinate = 50
            if y_coordinate < 405 and 650 > x_coordinate > 375 or \
                    y_coordinate > 595 and 650 > x_coordinate > 375:
                x_coordinate = 375
            if 750 > x_coordinate > 400 and 410 > y_coordinate:
                y_coordinate = 410
            if x_coordinate > 400 and 585 < y_coordinate:
                y_coordinate = 585
            elif x_coordinate > 750 and y_coordinate < 400:
                y_coordinate = 400
            if y_coordinate <= 300:
                y_coordinate = 300
            elif y_coordinate >= 720:
                y_coordinate = 720
        if current_zone == "ectrenos front":
            if y_coordinate > 400:
                if x_coordinate > 955:
                    x_coordinate = 955
                if x_coordinate < 75:
                    x_coordinate = 75
            else:
                if x_coordinate > 1005:
                    x_coordinate = 1005
                if x_coordinate < 15:
                    x_coordinate = 15
            if y_coordinate <= 330:
                y_coordinate = 330
            elif y_coordinate >= 545:
                y_coordinate = 545
            if x_coordinate < 60 or x_coordinate > 960:
                if y_coordinate > 390:
                    y_coordinate = 390
        if current_zone == "ectrenos alcove":
            if x_coordinate > 1005:
                x_coordinate = 1005
            if x_coordinate < 40:
                x_coordinate = 40
            if y_coordinate <= 110:
                y_coordinate = 110
            elif y_coordinate >= 705:
                y_coordinate = 705
            if y_coordinate > 525 and x_coordinate < 620 or \
                    y_coordinate > 525 and x_coordinate > 920:
                if y_coordinate < 615:
                    y_coordinate = 615
                if x_coordinate < 350:
                    x_coordinate = 350
            if 385 < y_coordinate < 615:
                if x_coordinate < 640:
                    x_coordinate = 640
                if x_coordinate > 900:
                    x_coordinate = 900
            if y_coordinate < 525 and x_coordinate < 620 or \
                    y_coordinate < 525 and x_coordinate > 920:
                if y_coordinate > 380:
                    y_coordinate = 380
            if x_coordinate > 490 and y_coordinate < 160:
                y_coordinate = 160
            if x_coordinate > 790 and y_coordinate < 205:
                y_coordinate = 205
            if x_coordinate < 280 and y_coordinate < 160:
                y_coordinate = 160
            if x_coordinate < 280 and y_coordinate > 290:
                y_coordinate = 290
        if current_zone == "marrow":
            if x_coordinate < 115:
                x_coordinate = 115
            if x_coordinate < 390:
                if y_coordinate > 705:
                    y_coordinate = 705
            if x_coordinate > 390:
                if 765 > x_coordinate > 645:
                    if npc_noren.quest_complete and npc_boro.quest_complete:
                        try:
                            if player.equipment["boots"].name == "chroma boots":
                                if y_coordinate > 420:
                                    if y_coordinate > 590:
                                        y_coordinate = 590
                                    if x_coordinate < 665:
                                        x_coordinate = 665
                                    if x_coordinate > 755:
                                        x_coordinate = 755
                        except AttributeError:
                            if y_coordinate > 420:
                                y_coordinate = 420
                    elif y_coordinate > 420:
                        y_coordinate = 420
                elif y_coordinate > 420:
                    y_coordinate = 420
            if y_coordinate > 420:
                if x_coordinate < 525:
                    if x_coordinate > 385:
                        x_coordinate = 385
            if x_coordinate > 1010:
                x_coordinate = 1010
            if 730 < x_coordinate or x_coordinate < 630:
                if y_coordinate < 100:
                    y_coordinate = 100
            if 220 < y_coordinate < 295:
                if x_coordinate > 765:
                    if y_coordinate > 245:
                        y_coordinate = 245
            if 255 < y_coordinate < 320:
                if x_coordinate > 760:
                    x_coordinate = 760
            if 300 < y_coordinate < 390:
                if x_coordinate > 765:
                    if y_coordinate < 325:
                        y_coordinate = 325
        if current_zone == "sub marrow":
            if x_coordinate > 990:
                x_coordinate = 990
            if y_coordinate < 115:
                y_coordinate = 115
            if y_coordinate > 700:
                y_coordinate = 700
            if y_coordinate > 575:
                if x_coordinate < 380:
                    x_coordinate = 380
            if y_coordinate < 575:
                if x_coordinate < 35:
                    x_coordinate = 35
            if x_coordinate < 380:
                if y_coordinate > 570:
                    y_coordinate = 570
            if x_coordinate > 625 and y_coordinate < 415:
                if y_coordinate > 385:
                    y_coordinate = 385
            if x_coordinate > 625 and y_coordinate > 415:
                if y_coordinate < 450:
                    y_coordinate = 450
            if y_coordinate > 385 and x_coordinate < 655:
                if x_coordinate > 618:
                    x_coordinate = 618
            if y_coordinate > 385 and x_coordinate > 655:
                if x_coordinate < 700:
                    x_coordinate = 700
        if current_zone == "marrow entrance":
            if x_coordinate < 25:
                x_coordinate = 25
            if x_coordinate > 1005:
                x_coordinate = 1005
            if y_coordinate <= 30:
                y_coordinate = 30
            if marrow_switch_phase != "complete":
                if y_coordinate >= 550:
                    y_coordinate = 550
            if marrow_switch_phase == "complete":
                if 620 < x_coordinate or x_coordinate < 420:
                    if y_coordinate >= 550:
                        y_coordinate = 550
                else:
                    if y_coordinate >= 720:
                        y_coordinate = 720
                if y_coordinate > 560:
                    if 610 < x_coordinate:
                        x_coordinate = 610
                    if x_coordinate < 430:
                        x_coordinate = 430
            if y_coordinate <= 340:
                if x_coordinate < 260:
                    x_coordinate = 260
                if x_coordinate > 765:
                    x_coordinate = 765
            if x_coordinate <= 240 or x_coordinate >= 790:
                if y_coordinate <= 345:
                    y_coordinate = 345
        if current_zone == "marrow tower west":
            if y_coordinate > 710:
                y_coordinate = 710
            if x_coordinate < 25:
                x_coordinate = 25
            if y_coordinate < 30:
                y_coordinate = 30
            if x_coordinate > 1010:
                x_coordinate = 1010
            if 185 < x_coordinate < 405 and y_coordinate < 555:
                if y_coordinate > 540:
                    y_coordinate = 540
            if 610 < x_coordinate < 840 and y_coordinate > 555:
                if y_coordinate < 580:
                    y_coordinate = 580
            if 610 < x_coordinate < 840 and y_coordinate < 555:
                if y_coordinate > 540:
                    y_coordinate = 540
            if 165 < y_coordinate < 580:
                if 210 > x_coordinate > 180:
                    x_coordinate = 180
                if 185 < x_coordinate < 230:
                    x_coordinate = 230
                if 830 < x_coordinate < 850:
                    x_coordinate = 850
                if 800 < x_coordinate < 840:
                    x_coordinate = 800
            if 200 < x_coordinate < 840:
                if 165 > y_coordinate > 160:
                    y_coordinate = 160
                if 165 < y_coordinate < 200:
                    y_coordinate = 200
            if y_coordinate > 550:
                if 375 < x_coordinate < 430:
                    x_coordinate = 430
        if current_zone == "marrow tower east":
            if y_coordinate > 710:
                y_coordinate = 710
            if x_coordinate < 25:
                x_coordinate = 25
            if y_coordinate < 30:
                y_coordinate = 30
            if x_coordinate > 1010:
                x_coordinate = 1010
            if 185 < x_coordinate < 405 and y_coordinate > 555:
                if y_coordinate < 580:
                    y_coordinate = 580
            if 185 < x_coordinate < 405 and y_coordinate < 555:
                if y_coordinate > 540:
                    y_coordinate = 540
            if 610 < x_coordinate < 840 and y_coordinate < 555:
                if y_coordinate > 540:
                    y_coordinate = 540
            if 165 < y_coordinate < 580:
                if 210 > x_coordinate > 180:
                    x_coordinate = 180
                if 185 < x_coordinate < 230:
                    x_coordinate = 230
                if 830 < x_coordinate < 850:
                    x_coordinate = 850
                if 800 < x_coordinate < 840:
                    x_coordinate = 800
            if 200 < x_coordinate < 840:
                if 165 > y_coordinate > 160:
                    y_coordinate = 160
                if 165 < y_coordinate < 200:
                    y_coordinate = 200
            if y_coordinate > 540:
                if 650 > x_coordinate > 600:
                    x_coordinate = 600
        if current_zone == "marrow ramps west" or current_zone == "marrow ramps east":
            if y_coordinate > 710:
                y_coordinate = 710
            if x_coordinate < 385:
                x_coordinate = 385
            if y_coordinate < 165:
                y_coordinate = 165
            if x_coordinate > 765:
                x_coordinate = 765
        if current_zone == "marrow ramps east end":
            if y_coordinate > 700:
                y_coordinate = 700
            if y_coordinate > 175:
                if x_coordinate < 210:
                    x_coordinate = 210
                if x_coordinate > 935:
                    x_coordinate = 935
            if y_coordinate < 175:
                if x_coordinate < 385:
                    x_coordinate = 385
                if x_coordinate > 765:
                    x_coordinate = 765
            if x_coordinate < 375 or x_coordinate > 775:
                if y_coordinate < 180:
                    y_coordinate = 180
            if not erebyth_defeated:
                if y_coordinate < 100:
                    y_coordinate = 100
        if current_zone == "marrow ramps west end":
            if x_coordinate < 385:
                x_coordinate = 385
            if y_coordinate > 700:
                y_coordinate = 700
            if y_coordinate > 175:
                if x_coordinate > 930:
                    x_coordinate = 930
            if y_coordinate < 430:
                if x_coordinate < 775:
                    if x_coordinate > 770:
                        x_coordinate = 770
            if x_coordinate > 775:
                if y_coordinate < 180:
                    y_coordinate = 180
        if current_zone == "forge" or current_zone == "altar":
            if y_coordinate < 150:
                y_coordinate = 150
            if y_coordinate < 505:
                if x_coordinate < 182:
                    x_coordinate = 182
                if x_coordinate > 842:
                    x_coordinate = 842
            if y_coordinate > 505:
                if x_coordinate < 390:
                    x_coordinate = 390
                if x_coordinate > 635:
                    x_coordinate = 635
            if x_coordinate > 640 or x_coordinate < 385:
                if y_coordinate > 475:
                    y_coordinate = 475
            if y_coordinate < 205:
                if 515 > x_coordinate > 390:
                    x_coordinate = 390
                if 515 < x_coordinate < 635:
                    x_coordinate = 635
            if 390 < x_coordinate < 635:
                if y_coordinate < 215:
                    y_coordinate = 215

        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.rect = self.surf.get_rect(midbottom=(self.x_coordinate, self.y_coordinate))

    def update_image(self, image):
        self.surf = image


class PlayerAmuna(pygame.sprite.Sprite):
    def __init__(self, name, race, gender, role, items, p_equipment, current_quests, quest_progress, quest_status,
                 quest_complete, knowledge, skills_mage, skills_fighter, skills_scout, level, experience, health,
                 energy, alive_status, rupees, reputation, current_zone, defense, offense, star_power, flowers_amuna,
                 flowers_sorae, pets, velocity, mage_level, fighter_level, scout_level):
        super(PlayerAmuna, self).__init__()
        self.x_coordinate = 760
        self.y_coordinate = 510
        self.surf = graphic_dict["player_no_role_amuna_male_down_1"]
        self.rect = self.surf.get_rect(midbottom=(self.x_coordinate, self.y_coordinate))
        self.name = name
        self.race = race
        self.gender = gender
        self.role = role
        self.items = items
        self.equipment = p_equipment
        self.current_quests = current_quests
        self.quest_progress = quest_progress
        self.quest_status = quest_status
        self.quest_complete = quest_complete
        self.knowledge = knowledge
        self.skills_mage = skills_mage
        self.skills_fighter = skills_fighter
        self.skills_scout = skills_scout
        self.level = level
        self.experience = experience
        self.health = health
        self.energy = energy
        self.alive_status = alive_status
        self.rupees = rupees
        self.reputation = reputation
        self.current_zone = current_zone
        self.defense = defense
        self.offense = offense
        self.star_power = star_power
        self.flowers_amuna = flowers_amuna
        self.flowers_sorae = flowers_sorae
        self.pet = pets
        self.velocity = velocity
        self.mage_level = mage_level
        self.fighter_level = fighter_level
        self.scout_level = scout_level

    # move the player sprite based on input keys
    def update(self, pressed_key, current_zone, walk_timed):

        if self.gender == "male":
            if self.role == "":
                if pressed_key == "up":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_male_up_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_male_up_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_amuna_male_up_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_amuna_male_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_male_down_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_male_down_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_amuna_male_down_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_amuna_male_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_male_left_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_male_left_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_amuna_male_left_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_amuna_male_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_male_right_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_male_right_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_amuna_male_right_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_amuna_male_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "mage":  # -------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_amuna_male_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_amuna_male_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_amuna_male_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_amuna_male_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_amuna_male_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_amuna_male_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_amuna_male_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_amuna_male_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_amuna_male_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_amuna_male_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_amuna_male_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_amuna_male_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_male_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_male_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_male_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_amuna_male_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_amuna_male_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_amuna_male_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_amuna_male_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "fighter":  # ----------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_male_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_male_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_amuna_male_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_amuna_male_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_male_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_male_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_amuna_male_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_amuna_male_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_male_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_male_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_amuna_male_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_amuna_male_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_male_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_male_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_male_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_amuna_male_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_amuna_male_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "scout":  # ------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_amuna_male_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_amuna_male_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_amuna_male_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_amuna_male_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_amuna_male_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_amuna_male_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_amuna_male_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_amuna_male_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_amuna_male_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_amuna_male_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_amuna_male_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_amuna_male_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_male_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_male_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_male_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_amuna_male_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_amuna_male_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_amuna_male_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_amuna_male_right_4"]
                    self.x_coordinate += self.velocity

        if self.gender == "female":
            if self.role == "":
                if pressed_key == "up":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_female_up_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_female_up_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_amuna_female_up_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_amuna_female_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_female_down_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_female_down_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_amuna_female_down_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_amuna_female_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_female_left_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_female_left_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_amuna_female_left_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_amuna_female_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_female_right_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_amuna_female_right_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_amuna_female_right_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_amuna_female_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "mage":  # -------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_amuna_female_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_amuna_female_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_amuna_female_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_amuna_female_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_amuna_female_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_amuna_female_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_amuna_female_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_amuna_female_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_amuna_female_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_amuna_female_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_amuna_female_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_amuna_female_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_amuna_female_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_amuna_female_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_amuna_female_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_amuna_female_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_amuna_female_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_amuna_female_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_amuna_female_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "fighter":  # ----------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_female_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_female_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_amuna_female_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_amuna_female_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_female_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_female_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_amuna_female_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_amuna_female_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_female_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_female_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_amuna_female_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_amuna_female_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_amuna_female_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_female_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_amuna_female_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_amuna_female_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_amuna_female_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "scout":  # ------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_amuna_female_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_amuna_female_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_amuna_female_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_amuna_female_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_amuna_female_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_amuna_female_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_amuna_female_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_amuna_female_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_amuna_female_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_amuna_female_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_amuna_female_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_amuna_female_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_amuna_female_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_amuna_female_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_amuna_female_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_amuna_female_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_amuna_female_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_amuna_female_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_amuna_female_right_4"]
                    self.x_coordinate += self.velocity

        if current_zone == "caldera":
            if self.x_coordinate < 262:
                self.x_coordinate = 262
            if self.y_coordinate < 208:
                self.y_coordinate = 208
            if self.x_coordinate > 652:
                self.x_coordinate = 652
            if self.y_coordinate > 528:
                self.y_coordinate = 528
        if current_zone == "castle one":
            if self.y_coordinate < 115:
                self.y_coordinate = 115
            if self.y_coordinate < 552:
                if self.x_coordinate < 32:
                    self.x_coordinate = 32
                if self.x_coordinate > 1000:
                    self.x_coordinate = 1000
                if self.x_coordinate > 220:
                    if self.y_coordinate > 385:
                        if self.x_coordinate < 245:
                            self.x_coordinate = 245
                if self.x_coordinate < 220:
                    if self.y_coordinate > 385:
                        if self.x_coordinate > 205:
                            self.x_coordinate = 205
                if self.x_coordinate < 808:
                    if self.y_coordinate > 385:
                        if self.x_coordinate > 790:
                            self.x_coordinate = 790
                if self.x_coordinate > 808:
                    if self.y_coordinate > 385:
                        if self.x_coordinate < 826:
                            self.x_coordinate = 826
                if 795 > self.x_coordinate > 220:
                    if 390 > self.x_coordinate or self.x_coordinate > 634:
                        if self.y_coordinate > 470:
                            self.y_coordinate = 470
                    else:
                        if self.y_coordinate > 490:
                            self.y_coordinate = 490
            if self.y_coordinate > 550:
                if 215 < self.x_coordinate < 810:
                    if self.y_coordinate < 565:
                        self.y_coordinate = 565
            if self.y_coordinate > 705:
                self.y_coordinate = 705
        if current_zone == "castle two":
            if self.y_coordinate > 705:
                self.y_coordinate = 705
            if self.x_coordinate < 30:
                self.x_coordinate = 30
            if self.y_coordinate < 35:
                self.y_coordinate = 35
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate > 552 and self.x_coordinate > 220:
                if self.y_coordinate < 570:
                    self.y_coordinate = 570
            if self.y_coordinate < 552 and self.x_coordinate > 220:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 552 > self.y_coordinate > 390 and self.x_coordinate > 222:
                if self.y_coordinate < 402:
                    self.y_coordinate = 402
                if self.x_coordinate > 775:
                    self.x_coordinate = 775
            if 172 < self.y_coordinate < 395 and self.x_coordinate < 777:
                if self.x_coordinate > 215:
                    self.x_coordinate = 215
            if 222 < self.x_coordinate < 810 and self.y_coordinate < 185:
                if self.y_coordinate > 168:
                    self.y_coordinate = 168
            if self.x_coordinate > 798 and 401 > self.y_coordinate > 170:
                if self.x_coordinate < 815:
                    self.x_coordinate = 815
                if self.y_coordinate > 385:
                    self.y_coordinate = 385
        if current_zone == "castle three":
            if self.y_coordinate > 705:
                self.y_coordinate = 705
            if self.x_coordinate < 30:
                self.x_coordinate = 30
            if self.y_coordinate < 35:
                self.y_coordinate = 35
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate > 550 and self.x_coordinate < 800:
                if self.y_coordinate < 570:
                    self.y_coordinate = 570
            if self.y_coordinate < 552 and self.x_coordinate < 800:
                if self.y_coordinate > 537:
                    self.y_coordinate = 537
            if 552 > self.y_coordinate > 183 and self.x_coordinate > 238:
                if self.x_coordinate < 260:
                    self.x_coordinate = 260
            if 552 > self.y_coordinate > 178:
                if 238 < self.x_coordinate < 444:
                    if self.y_coordinate < 200:
                        self.y_coordinate = 200
                    if self.y_coordinate < 395:
                        if self.x_coordinate > 410:
                            self.x_coordinate = 410
                if 410 < self.x_coordinate < 808:
                    if self.y_coordinate < 402:
                        self.y_coordinate = 402
                if self.x_coordinate > 800:
                    if self.y_coordinate < 408:
                        if self.x_coordinate < 812:
                            self.x_coordinate = 812
                if self.x_coordinate < 238:
                    if self.x_coordinate > 218:
                        self.x_coordinate = 218
                    if self.y_coordinate > 386:
                        self.y_coordinate = 386
            if self.y_coordinate < 178 and 226 < self.x_coordinate < 816:
                if self.y_coordinate > 170:
                    self.y_coordinate = 170
        if current_zone == "castle lair":
            if self.y_coordinate < 115:
                self.y_coordinate = 115
            if self.x_coordinate < 125:
                self.x_coordinate = 125
            if self.x_coordinate > 910:
                self.x_coordinate = 910
            if self.y_coordinate > 612:
                self.y_coordinate = 612
        if current_zone == "fishing alcove":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.y_coordinate > 525:
                if self.x_coordinate > 1010:
                    self.x_coordinate = 1010
            if self.y_coordinate < 525:
                if self.x_coordinate > 775:
                    self.x_coordinate = 775
            if self.x_coordinate > 775:
                if self.y_coordinate < 535:
                    self.y_coordinate = 535
            if self.y_coordinate <= 405:
                self.y_coordinate = 405
            elif self.y_coordinate >= 644:
                self.y_coordinate = 644
        if current_zone == "rohir":
            if self.x_coordinate < 50:
                self.x_coordinate = 50
            elif self.x_coordinate > 930:
                self.x_coordinate = 930
            if self.y_coordinate <= 145:
                self.y_coordinate = 145
            elif self.y_coordinate >= 575:
                self.y_coordinate = 575
            if 160 < self.x_coordinate < 270:
                if self.y_coordinate < 210:
                    self.y_coordinate = 210
                if self.y_coordinate > 475:
                    self.y_coordinate = 475
            if self.y_coordinate < 210 or self.y_coordinate > 475:
                if self.x_coordinate < 170:
                    if self.x_coordinate > 155:
                        self.x_coordinate = 155
                else:
                    if self.x_coordinate < 275:
                        self.x_coordinate = 275
        if current_zone == "nascent":
            if self.x_coordinate < 340:
                self.x_coordinate = 340
            elif self.x_coordinate > 955:
                self.x_coordinate = 955
            if self.y_coordinate <= 60:
                self.y_coordinate = 60
            elif self.y_coordinate >= 670:
                self.y_coordinate = 670
            elif 315 >= self.y_coordinate >= 300:
                self.y_coordinate = 315
            elif 300 >= self.y_coordinate >= 230:
                self.y_coordinate = 230
        if current_zone == "reservoir a":
            if self.x_coordinate < 50:
                self.x_coordinate = 50
            elif self.x_coordinate > 980:
                self.x_coordinate = 980
            elif self.x_coordinate < 365:
                if self.y_coordinate > 350:
                    if self.x_coordinate > 360:
                        self.x_coordinate = 365
            elif self.x_coordinate > 680:
                if self.y_coordinate > 350:
                    if self.x_coordinate < 685:
                        self.x_coordinate = 680
            elif 435 < self.y_coordinate < 550 and self.x_coordinate > 600:
                self.x_coordinate = 600
            elif 435 < self.y_coordinate < 550 and self.x_coordinate < 430:
                self.x_coordinate = 430
            elif 350 < self.y_coordinate < 425 and self.x_coordinate > 670:
                self.x_coordinate = 670
            if 350 < self.y_coordinate < 525 and 750 < self.x_coordinate < 770:
                self.x_coordinate = 770
            if 350 < self.y_coordinate < 525 and 260 < self.x_coordinate < 305:
                self.x_coordinate = 260
            if self.y_coordinate <= 125:
                self.y_coordinate = 125
            elif self.x_coordinate < 360 or self.x_coordinate > 725:
                if self.y_coordinate >= 520:
                    self.y_coordinate = 520
            elif self.x_coordinate > 300 or self.x_coordinate < 725:
                if self.y_coordinate >= 720:
                    self.y_coordinate = 720
        if current_zone == "reservoir b":
            if self.x_coordinate < 60:
                self.x_coordinate = 60
            elif self.x_coordinate < 745:
                if self.x_coordinate > 705:
                    self.x_coordinate = 745
            if self.x_coordinate < 705:
                if self.x_coordinate > 655:
                    self.x_coordinate = 655
            elif self.x_coordinate > 965:
                self.x_coordinate = 965
            if self.y_coordinate <= 75:
                self.y_coordinate = 75
            elif self.x_coordinate > 705:
                if self.y_coordinate >= 665:
                    self.y_coordinate = 665
            else:
                if self.y_coordinate >= 670:
                    self.y_coordinate = 670
        if current_zone == "reservoir c":
            if self.x_coordinate < 90:
                self.x_coordinate = 90
            if self.x_coordinate > 965:
                self.x_coordinate = 965
            if self.y_coordinate >= 638:
                self.y_coordinate = 638
            if self.x_coordinate > 510:
                if self.y_coordinate < 400:
                    if self.y_coordinate <= 100:
                        self.y_coordinate = 100
                    if self.y_coordinate > 320:
                        self.y_coordinate = 320
                if self.y_coordinate > 400:
                    if self.y_coordinate <= 425:
                        self.y_coordinate = 425
            else:
                if self.y_coordinate <= 100:
                    self.y_coordinate = 100
                if 425 > self.y_coordinate > 320:
                    if self.x_coordinate > 505:
                        self.x_coordinate = 505
        if current_zone == "seldon":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 925:
                self.x_coordinate = 925
            if self.y_coordinate <= 115:
                self.y_coordinate = 115
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
        if current_zone == "stardust":
            if self.x_coordinate < 225:
                self.x_coordinate = 225
            if self.y_coordinate < 450:
                if self.x_coordinate > 955:
                    self.x_coordinate = 955
            if self.y_coordinate > 450:
                if self.x_coordinate > 845:
                    self.x_coordinate = 845
            if self.x_coordinate > 846:
                if self.y_coordinate > 446:
                    self.y_coordinate = 446
            if self.y_coordinate <= 80:
                self.y_coordinate = 80
            elif self.y_coordinate >= 612:
                self.y_coordinate = 612
            elif 360 >= self.y_coordinate >= 300 and 641 >= self.x_coordinate >= 409:
                self.y_coordinate = 360
            elif 300 >= self.y_coordinate >= 230 and 641 >= self.x_coordinate >= 409:
                self.y_coordinate = 230
            elif 660 >= self.x_coordinate >= 500 and 358 >= self.y_coordinate >= 232:
                self.x_coordinate = 660
            elif 500 >= self.x_coordinate >= 395 and 358 >= self.y_coordinate >= 232:
                self.x_coordinate = 395
            if self.y_coordinate < 235 and self.x_coordinate > 470:
                if self.x_coordinate < 542:
                    self.x_coordinate = 542
            if self.y_coordinate < 235 and self.x_coordinate < 470:
                if self.x_coordinate > 440:
                    self.x_coordinate = 440
                if self.x_coordinate < 325:
                    if self.y_coordinate < 158:
                        self.y_coordinate = 158
                if self.y_coordinate < 158:
                    if self.x_coordinate < 328:
                        self.x_coordinate = 328
            if self.x_coordinate < 445 and 250 < self.y_coordinate < 330:
                if self.x_coordinate < 265:
                    self.x_coordinate = 265
                if self.x_coordinate > 345:
                    self.x_coordinate = 345
            if self.x_coordinate < 250 and 300 < self.y_coordinate < 335:
                self.y_coordinate = 335
            if 400 > self.x_coordinate > 360 and 300 < self.y_coordinate < 335:
                self.y_coordinate = 335
            if self.x_coordinate < 250 and 300 > self.y_coordinate > 240:
                self.y_coordinate = 240
            if 360 < self.x_coordinate < 440 and 300 > self.y_coordinate > 240:
                self.y_coordinate = 240
        if current_zone == "korlok":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 1005:
                self.x_coordinate = 1005
            elif self.x_coordinate < 490 and 325 < self.y_coordinate < 400:
                self.y_coordinate = 400
            elif self.x_coordinate < 490 and 400 > self.y_coordinate > 300:
                self.y_coordinate = 300
            elif self.x_coordinate < 492 and 325 < self.y_coordinate < 400:
                self.x_coordinate = 492
            if self.y_coordinate <= 50:
                self.y_coordinate = 50
            elif self.y_coordinate >= 627:
                self.y_coordinate = 627
        if current_zone == "mines":
            if self.x_coordinate < 72:
                self.x_coordinate = 72
            if self.x_coordinate > 965:
                self.x_coordinate = 965
            if 430 < self.y_coordinate < 500 and self.x_coordinate > 545:
                self.x_coordinate = 545
            if self.x_coordinate > 545:
                if self.y_coordinate < 460:
                    if self.y_coordinate > 425:
                        self.y_coordinate = 425
                if self.y_coordinate > 460:
                    if self.y_coordinate < 505:
                        self.y_coordinate = 505
            if self.y_coordinate <= 115:
                self.y_coordinate = 115
            if self.x_coordinate < 660:
                if self.y_coordinate >= 645:
                    self.y_coordinate = 645
            if self.x_coordinate > 660:
                if self.y_coordinate >= 720:
                    self.y_coordinate = 720
        if current_zone == "terra trail":
            if self.x_coordinate < 50:
                self.x_coordinate = 50
            elif self.x_coordinate > 730:
                self.x_coordinate = 730
            elif 470 < self.x_coordinate < 475 and 170 < self.y_coordinate < 400:
                self.x_coordinate = 475
            if self.y_coordinate <= 70:
                self.y_coordinate = 70
            elif self.y_coordinate >= 590:
                self.y_coordinate = 590
            elif 180 > self.y_coordinate > 170 and self.x_coordinate < 475:
                self.y_coordinate = 170
            elif 405 > self.y_coordinate > 400 and self.x_coordinate < 475:
                self.y_coordinate = 405
        if current_zone == "fishing hut":
            if 95 < self.y_coordinate < 228:
                if self.x_coordinate < 850:
                    if self.x_coordinate > 780:
                        self.x_coordinate = 780
                if self.x_coordinate > 850:
                    if self.x_coordinate < 918:
                        self.x_coordinate = 918
            if 780 < self.x_coordinate < 918:
                if self.y_coordinate > 180:
                    if self.y_coordinate < 234:
                        self.y_coordinate = 234
                if self.y_coordinate < 180:
                    if self.y_coordinate > 90:
                        self.y_coordinate = 90
            if self.y_coordinate < 80:
                self.y_coordinate = 80
            if self.x_coordinate < 335 and self.y_coordinate < 325 or \
                    self.x_coordinate > 490 and self.y_coordinate < 325:
                if self.y_coordinate > 295:
                    self.y_coordinate = 295
            if self.y_coordinate > 315:
                if self.x_coordinate < 340:
                    self.x_coordinate = 340
                if self.y_coordinate < 360:
                    if self.x_coordinate > 480:
                        self.x_coordinate = 480
                if self.y_coordinate > 360:
                    if self.x_coordinate > 690:
                        self.x_coordinate = 690
                if self.x_coordinate > 480:
                    if self.y_coordinate < 364:
                        self.y_coordinate = 364
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate > 495:
                self.y_coordinate = 495
        if current_zone == "eldream":
            if self.x_coordinate < 20:
                self.x_coordinate = 20
            elif self.x_coordinate > 1005:
                self.x_coordinate = 1005
            elif 885 < self.x_coordinate < 890 and 525 > self.y_coordinate > 155:
                self.x_coordinate = 890
            elif 960 < self.x_coordinate > 885 and 425 > self.y_coordinate > 155:
                self.x_coordinate = 960
            elif 180 > self.x_coordinate < 170 and 300 > self.y_coordinate > 145:
                self.x_coordinate = 170
            if self.y_coordinate <= 70:
                self.y_coordinate = 70
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
            elif 525 < self.y_coordinate < 530 and 220 < self.x_coordinate < 890:
                self.y_coordinate = 530
            elif 140 < self.y_coordinate < 155 and self.x_coordinate < 170:
                self.y_coordinate = 140
        if current_zone == "ectrenos":
            if 405 < self.x_coordinate < 625 and 525 > self.y_coordinate > 500:
                self.y_coordinate = 525
            if 405 < self.x_coordinate < 625 and 400 > self.y_coordinate > 360:
                self.y_coordinate = 360
            if 360 < self.y_coordinate < 525 and 390 < self.x_coordinate < 450:
                self.x_coordinate = 390
            if 360 < self.y_coordinate < 525 < self.x_coordinate < 640:
                self.x_coordinate = 640
            if 205 > self.x_coordinate > 175 and 170 < self.y_coordinate < 510:
                self.x_coordinate = 205
            if 205 > self.x_coordinate > 175 and 570 < self.y_coordinate < 725:
                self.x_coordinate = 205
            if 200 < self.x_coordinate < 435 and 170 < self.y_coordinate < 190:
                self.y_coordinate = 190
            if 5 < self.x_coordinate < 175 and 465 < self.y_coordinate > 565:
                self.y_coordinate = 565
            if 825 < self.x_coordinate < 845 and 170 < self.y_coordinate < 510:
                self.x_coordinate = 825
            if 825 < self.x_coordinate < 845 and 570 < self.y_coordinate < 725:
                self.x_coordinate = 825
            if 600 < self.x_coordinate < 840 and 170 < self.y_coordinate < 190:
                self.y_coordinate = 190
            if 825 < self.x_coordinate < 1010 and 465 < self.y_coordinate > 565:
                self.y_coordinate = 565
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate <= 70:
                self.y_coordinate = 70
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
        if current_zone == "ectrenos left":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 975 and 400 > self.y_coordinate or \
                    self.x_coordinate > 975 and self.y_coordinate > 620:
                self.x_coordinate = 975
            if self.y_coordinate < 395 and 650 > self.x_coordinate > 500 or \
                    self.y_coordinate > 615 and 650 > self.x_coordinate > 500:
                self.x_coordinate = 650
            if self.x_coordinate < 630 and 405 > self.y_coordinate:
                self.y_coordinate = 405
            if self.x_coordinate < 630 and 600 < self.y_coordinate:
                self.y_coordinate = 600
            elif self.x_coordinate < 330 and 575 < self.y_coordinate:
                self.y_coordinate = 575
            if self.y_coordinate <= 300:
                self.y_coordinate = 300
            elif self.y_coordinate >= 720:
                self.y_coordinate = 720
        if current_zone == "ectrenos right":
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            elif self.x_coordinate < 50 and 400 > self.y_coordinate or \
                    self.x_coordinate < 50 and self.y_coordinate > 620:
                self.x_coordinate = 50
            if self.y_coordinate < 405 and 650 > self.x_coordinate > 375 or \
                    self.y_coordinate > 595 and 650 > self.x_coordinate > 375:
                self.x_coordinate = 375
            if 750 > self.x_coordinate > 400 and 410 > self.y_coordinate:
                self.y_coordinate = 410
            if self.x_coordinate > 400 and 585 < self.y_coordinate:
                self.y_coordinate = 585
            elif self.x_coordinate > 750 and self.y_coordinate < 400:
                self.y_coordinate = 400
            if self.y_coordinate <= 300:
                self.y_coordinate = 300
            elif self.y_coordinate >= 720:
                self.y_coordinate = 720
        if current_zone == "ectrenos front":
            if self.y_coordinate > 400:
                if self.x_coordinate > 955:
                    self.x_coordinate = 955
                if self.x_coordinate < 75:
                    self.x_coordinate = 75
            else:
                if self.x_coordinate > 1005:
                    self.x_coordinate = 1005
                if self.x_coordinate < 15:
                    self.x_coordinate = 15
            if self.y_coordinate <= 330:
                self.y_coordinate = 330
            elif self.y_coordinate >= 545:
                self.y_coordinate = 545
            if self.x_coordinate < 60 or self.x_coordinate > 960:
                if self.y_coordinate > 390:
                    self.y_coordinate = 390
        if current_zone == "ectrenos alcove":
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.x_coordinate < 40:
                self.x_coordinate = 40
            if self.y_coordinate <= 110:
                self.y_coordinate = 110
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
            if self.y_coordinate > 525 and self.x_coordinate < 620 or \
                    self.y_coordinate > 525 and self.x_coordinate > 920:
                if self.y_coordinate < 615:
                    self.y_coordinate = 615
                if self.x_coordinate < 350:
                    self.x_coordinate = 350
            if 385 < self.y_coordinate < 615:
                if self.x_coordinate < 640:
                    self.x_coordinate = 640
                if self.x_coordinate > 900:
                    self.x_coordinate = 900
            if self.y_coordinate < 525 and self.x_coordinate < 620 or \
                    self.y_coordinate < 525 and self.x_coordinate > 920:
                if self.y_coordinate > 380:
                    self.y_coordinate = 380
            if self.x_coordinate > 490 and self.y_coordinate < 160:
                self.y_coordinate = 160
            if self.x_coordinate > 790 and self.y_coordinate < 205:
                self.y_coordinate = 205
            if self.x_coordinate < 280 and self.y_coordinate < 160:
                self.y_coordinate = 160
            if self.x_coordinate < 280 and self.y_coordinate > 290:
                self.y_coordinate = 290
        if current_zone == "marrow":
            if self.x_coordinate < 115:
                self.x_coordinate = 115
            if self.x_coordinate < 390:
                if self.y_coordinate > 705:
                    self.y_coordinate = 705
            if self.x_coordinate > 390:
                if 765 > self.x_coordinate > 645:
                    if npc_noren.quest_complete and npc_boro.quest_complete:
                        try:
                            if self.equipment["boots"].name == "chroma boots":
                                if self.y_coordinate > 420:
                                    if self.y_coordinate > 590:
                                        self.y_coordinate = 590
                                    if self.x_coordinate < 665:
                                        self.x_coordinate = 665
                                    if self.x_coordinate > 755:
                                        self.x_coordinate = 755
                        except AttributeError:
                            if self.y_coordinate > 420:
                                self.y_coordinate = 420
                    elif self.y_coordinate > 420:
                        self.y_coordinate = 420
                elif self.y_coordinate > 420:
                    self.y_coordinate = 420
            if self.y_coordinate > 420:
                if self.x_coordinate < 525:
                    if self.x_coordinate > 385:
                        self.x_coordinate = 385
            if self.x_coordinate > 1010:
                self.x_coordinate = 1010
            if 730 < self.x_coordinate or self.x_coordinate < 630:
                if self.y_coordinate < 100:
                    self.y_coordinate = 100
            if 220 < self.y_coordinate < 295:
                if self.x_coordinate > 765:
                    if self.y_coordinate > 245:
                        self.y_coordinate = 245
            if 255 < self.y_coordinate < 320:
                if self.x_coordinate > 760:
                    self.x_coordinate = 760
            if 300 < self.y_coordinate < 390:
                if self.x_coordinate > 765:
                    if self.y_coordinate < 325:
                        self.y_coordinate = 325
        if current_zone == "sub marrow":
            if self.x_coordinate > 990:
                self.x_coordinate = 990
            if self.y_coordinate < 115:
                self.y_coordinate = 115
            if self.y_coordinate > 700:
                self.y_coordinate = 700
            if self.y_coordinate > 575:
                if self.x_coordinate < 380:
                    self.x_coordinate = 380
            if self.y_coordinate < 575:
                if self.x_coordinate < 35:
                    self.x_coordinate = 35
            if self.x_coordinate < 380:
                if self.y_coordinate > 570:
                    self.y_coordinate = 570
            if self.x_coordinate > 625 and self.y_coordinate < 415:
                if self.y_coordinate > 385:
                    self.y_coordinate = 385
            if self.x_coordinate > 625 and self.y_coordinate > 415:
                if self.y_coordinate < 450:
                    self.y_coordinate = 450
            if self.y_coordinate > 385 and self.x_coordinate < 655:
                if self.x_coordinate > 618:
                    self.x_coordinate = 618
            if self.y_coordinate > 385 and self.x_coordinate > 655:
                if self.x_coordinate < 700:
                    self.x_coordinate = 700
        if current_zone == "marrow entrance":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate <= 30:
                self.y_coordinate = 30
            if marrow_switch_phase != "complete":
                if self.y_coordinate >= 550:
                    self.y_coordinate = 550
            if marrow_switch_phase == "complete":
                if 620 < self.x_coordinate or self.x_coordinate < 420:
                    if self.y_coordinate >= 550:
                        self.y_coordinate = 550
                else:
                    if self.y_coordinate >= 720:
                        self.y_coordinate = 720
                if self.y_coordinate > 560:
                    if 610 < self.x_coordinate:
                        self.x_coordinate = 610
                    if self.x_coordinate < 430:
                        self.x_coordinate = 430
            if self.y_coordinate <= 340:
                if self.x_coordinate < 260:
                    self.x_coordinate = 260
                if self.x_coordinate > 765:
                    self.x_coordinate = 765
            if self.x_coordinate <= 240 or self.x_coordinate >= 790:
                if self.y_coordinate <= 345:
                    self.y_coordinate = 345
        if current_zone == "marrow tower west":
            if self.y_coordinate > 710:
                self.y_coordinate = 710
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.y_coordinate < 30:
                self.y_coordinate = 30
            if self.x_coordinate > 1010:
                self.x_coordinate = 1010
            if 185 < self.x_coordinate < 405 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 610 < self.x_coordinate < 840 and self.y_coordinate > 555:
                if self.y_coordinate < 580:
                    self.y_coordinate = 580
            if 610 < self.x_coordinate < 840 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 165 < self.y_coordinate < 580:
                if 210 > self.x_coordinate > 180:
                    self.x_coordinate = 180
                if 185 < self.x_coordinate < 230:
                    self.x_coordinate = 230
                if 830 < self.x_coordinate < 850:
                    self.x_coordinate = 850
                if 800 < self.x_coordinate < 840:
                    self.x_coordinate = 800
            if 200 < self.x_coordinate < 840:
                if 165 > self.y_coordinate > 160:
                    self.y_coordinate = 160
                if 165 < self.y_coordinate < 200:
                    self.y_coordinate = 200
            if self.y_coordinate > 550:
                if 375 < self.x_coordinate < 430:
                    self.x_coordinate = 430
        if current_zone == "marrow tower east":
            if self.y_coordinate > 710:
                self.y_coordinate = 710
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.y_coordinate < 30:
                self.y_coordinate = 30
            if self.x_coordinate > 1010:
                self.x_coordinate = 1010
            if 185 < self.x_coordinate < 405 and self.y_coordinate > 555:
                if self.y_coordinate < 580:
                    self.y_coordinate = 580
            if 185 < self.x_coordinate < 405 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 610 < self.x_coordinate < 840 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 165 < self.y_coordinate < 580:
                if 210 > self.x_coordinate > 180:
                    self.x_coordinate = 180
                if 185 < self.x_coordinate < 230:
                    self.x_coordinate = 230
                if 830 < self.x_coordinate < 850:
                    self.x_coordinate = 850
                if 800 < self.x_coordinate < 840:
                    self.x_coordinate = 800
            if 200 < self.x_coordinate < 840:
                if 165 > self.y_coordinate > 160:
                    self.y_coordinate = 160
                if 165 < self.y_coordinate < 200:
                    self.y_coordinate = 200
            if self.y_coordinate > 540:
                if 650 > self.x_coordinate > 600:
                    self.x_coordinate = 600
        if current_zone == "marrow ramps west" or current_zone == "marrow ramps east":
            if self.y_coordinate > 710:
                self.y_coordinate = 710
            if self.x_coordinate < 385:
                self.x_coordinate = 385
            if self.y_coordinate < 165:
                self.y_coordinate = 165
            if self.x_coordinate > 765:
                self.x_coordinate = 765
        if current_zone == "marrow ramps east end":
            if self.y_coordinate > 700:
                self.y_coordinate = 700
            if self.y_coordinate > 175:
                if self.x_coordinate < 210:
                    self.x_coordinate = 210
                if self.x_coordinate > 935:
                    self.x_coordinate = 935
            if self.y_coordinate < 175:
                if self.x_coordinate < 385:
                    self.x_coordinate = 385
                if self.x_coordinate > 765:
                    self.x_coordinate = 765
            if self.x_coordinate < 375 or self.x_coordinate > 775:
                if self.y_coordinate < 180:
                    self.y_coordinate = 180
            if not erebyth_defeated:
                if self.y_coordinate < 100:
                    self.y_coordinate = 100
        if current_zone == "marrow ramps west end":
            if self.x_coordinate < 385:
                self.x_coordinate = 385
            if self.y_coordinate > 700:
                self.y_coordinate = 700
            if self.y_coordinate > 175:
                if self.x_coordinate > 930:
                    self.x_coordinate = 930
            if self.y_coordinate < 430:
                if self.x_coordinate < 775:
                    if self.x_coordinate > 770:
                        self.x_coordinate = 770
            if self.x_coordinate > 775:
                if self.y_coordinate < 180:
                    self.y_coordinate = 180
        if current_zone == "forge" or current_zone == "altar":
            if self.y_coordinate < 150:
                self.y_coordinate = 150
            if self.y_coordinate < 505:
                if self.x_coordinate < 182:
                    self.x_coordinate = 182
                if self.x_coordinate > 842:
                    self.x_coordinate = 842
            if self.y_coordinate > 505:
                if self.x_coordinate < 390:
                    self.x_coordinate = 390
                if self.x_coordinate > 635:
                    self.x_coordinate = 635
            if self.x_coordinate > 640 or self.x_coordinate < 385:
                if self.y_coordinate > 475:
                    self.y_coordinate = 475
            if self.y_coordinate < 205:
                if 515 > self.x_coordinate > 390:
                    self.x_coordinate = 390
                if 515 < self.x_coordinate < 635:
                    self.x_coordinate = 635
            if 390 < self.x_coordinate < 635:
                if self.y_coordinate < 215:
                    self.y_coordinate = 215
        if current_zone == "marrow":
            if pygame.Rect.colliderect(self.rect, recycle_crate_rect):
                if pressed_key == "up":
                    if self.y_coordinate > recycle_crate_rect.y:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < recycle_crate_rect.x:
                        self.x_coordinate -= self.velocity
        if current_zone == "marrow ramps west":
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge_ramps):
                        if self.y_coordinate < chroma_bridge.y_coordinate:
                            self.y_coordinate -= self.velocity
                        if self.y_coordinate > chroma_bridge.y_coordinate:
                            self.y_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge_ramps):
                    if self.y_coordinate < chroma_bridge.y_coordinate:
                        self.y_coordinate -= self.velocity
                    if self.y_coordinate > chroma_bridge.y_coordinate:
                        self.y_coordinate += self.velocity
        if current_zone == "marrow ramps west end":
            collided = pygame.sprite.spritecollideany(self, ramparts_rocks, pygame.sprite.collide_rect_ratio(0.90))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "marrow ramps east end":
            if erebyth_defeated:
                if pygame.Rect.colliderect(self.rect, dungeon_chest_ramps_rect):
                    if pressed_key == "down":
                        if self.y_coordinate < dungeon_chest_ramps_rect.y:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > dungeon_chest_ramps_rect.y:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < dungeon_chest_ramps_rect.x:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > dungeon_chest_ramps_rect.x:
                            self.x_coordinate += self.velocity
        if current_zone == "nascent":
            collided = pygame.sprite.spritecollideany(self, other_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if collided.name == "rock 8":
                    if pressed_key == "down":
                        if self.y_coordinate < collided.y_coordinate:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > collided.y_coordinate:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < collided.x_coordinate:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > collided.x_coordinate:
                            self.x_coordinate += self.velocity
        if current_zone == "seldon":
            collided = pygame.sprite.spritecollideany(self, environments, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "korlok":
            collided = pygame.sprite.spritecollideany(self, nuldar_buildings, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.Rect.colliderect(self.rect, volcano_rect):
                if pressed_key == "down":
                    if self.y_coordinate < volcano_rect.y:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > volcano_rect.y:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < volcano_rect.x:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > volcano_rect.x:
                        self.x_coordinate += self.velocity
            collided = pygame.sprite.spritecollideany(self, korlok_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "mines":
            if pygame.sprite.collide_rect(self, mines_light):
                if pressed_key == "down":
                    if self.y_coordinate < mines_light.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_light.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_light.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_light.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, mines_cart):
                if pressed_key == "down":
                    if self.y_coordinate < mines_cart.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_cart.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_cart.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_cart.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, mines_shard_1):
                if pressed_key == "down":
                    if self.y_coordinate < mines_shard_1.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_shard_1.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_shard_1.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_shard_1.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, mines_shard_2):
                if pressed_key == "down":
                    if self.y_coordinate < mines_shard_2.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_shard_2.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_shard_2.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_shard_2.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "reservoir a":
            if mini_boss_1 or mini_boss_2:
                if pygame.sprite.collide_rect(self, dungeon_drop_wall):
                    if self.x_coordinate < dungeon_drop_wall.x_coordinate:
                        self.x_coordinate -= self.velocity
                    if self.x_coordinate > dungeon_drop_wall.x_coordinate:
                        self.x_coordinate += self.velocity
            collided = pygame.sprite.spritecollideany(self, dungeon_walls, pygame.sprite.collide_rect_ratio(0.75))
            if collided:
                if self.y_coordinate < collided.y_coordinate:
                    self.y_coordinate -= self.velocity
                if self.y_coordinate > collided.y_coordinate:
                    self.y_coordinate += self.velocity
        if current_zone == "reservoir b":
            collided = pygame.sprite.spritecollideany(self, muchador_crates, pygame.sprite.collide_rect_ratio(0.75))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "reservoir c":
            collided = pygame.sprite.spritecollideany(self, dungeon_rocks, pygame.sprite.collide_rect_ratio(0.90))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.Rect.colliderect(self.rect, dungeon_chest_rect):
                if pressed_key == "down":
                    if self.y_coordinate < dungeon_chest_rect.y:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > dungeon_chest_rect.y:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < dungeon_chest_rect.x:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > dungeon_chest_rect.x:
                        self.x_coordinate += self.velocity
        if current_zone == "terra trail":
            if pygame.sprite.collide_rect(self, terra_cave):
                if self.x_coordinate < terra_cave.x_coordinate:
                    self.x_coordinate -= self.velocity
                if self.x_coordinate > terra_cave.x_coordinate:
                    self.x_coordinate += self.velocity
            collided = pygame.sprite.spritecollideany(self, other_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if collided.name == "rock 7":
                    if pressed_key == "down":
                        if self.y_coordinate < collided.y_coordinate:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > collided.y_coordinate:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < collided.x_coordinate:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > collided.x_coordinate:
                            self.x_coordinate += self.velocity
        if current_zone == "stardust":
            collided = pygame.sprite.spritecollideany(self, other_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if collided.name == "rock 3":
                    if pressed_key == "down":
                        if self.y_coordinate < collided.y_coordinate:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > collided.y_coordinate:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < collided.x_coordinate:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > collided.x_coordinate:
                            self.x_coordinate += self.velocity
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge_small):
                        if self.y_coordinate < chroma_bridge_small.y_coordinate:
                            self.y_coordinate -= self.velocity
                        if self.y_coordinate < 335:
                            self.y_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge_small):
                    if self.y_coordinate < chroma_bridge_small.y_coordinate:
                        self.y_coordinate -= self.velocity
                    if self.y_coordinate < 335:
                        self.y_coordinate += self.velocity
        if current_zone == "eldream":
            collided = pygame.sprite.spritecollideany(self, eldream_river)
            if collided:
                if self.y_coordinate < collided.y_coordinate:
                    self.y_coordinate -= self.velocity
                if self.y_coordinate > collided.y_coordinate:
                    self.y_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, eldream_cart):
                if pressed_key == "down":
                    if self.y_coordinate < eldream_cart.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > eldream_cart.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < eldream_cart.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > eldream_cart.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "ectrenos left":
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge):
                        if self.x_coordinate < chroma_bridge.x_coordinate:
                            self.x_coordinate -= self.velocity
                        if self.x_coordinate > chroma_bridge.x_coordinate:
                            self.x_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge):
                    if self.x_coordinate < chroma_bridge.x_coordinate:
                        self.x_coordinate -= self.velocity
                    if self.x_coordinate > chroma_bridge.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "forge":
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge_forge):
                        if self.y_coordinate < chroma_bridge_forge.y_coordinate:
                            self.y_coordinate -= self.velocity
                        if self.y_coordinate < 620:
                            self.y_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge_forge):
                    if self.y_coordinate < chroma_bridge_forge.y_coordinate:
                        self.y_coordinate -= self.velocity
                    if self.y_coordinate < 620:
                        self.y_coordinate += self.velocity
        if current_zone == "castle two":
            collided = pygame.sprite.spritecollideany(self, castle_rocks, pygame.sprite.collide_rect_ratio(0.90))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity

        self.rect.midbottom = (self.x_coordinate, self.y_coordinate)


class PlayerNuldar(pygame.sprite.Sprite):
    def __init__(self, name, race, gender, role, items, p_equipment, current_quests, quest_progress, quest_status,
                 quest_complete, knowledge, skills_mage, skills_fighter, skills_scout, level, experience, health,
                 energy, alive_status, rupees, reputation, current_zone, defense, offense, star_power, flowers_amuna,
                 flowers_sorae, pets, velocity, mage_level, fighter_level, scout_level):
        super(PlayerNuldar, self).__init__()
        self.x_coordinate = 760
        self.y_coordinate = 510
        self.surf = graphic_dict["player_no_role_amuna_male_down_1"]
        self.rect = self.surf.get_rect(midbottom=(self.x_coordinate, self.y_coordinate))
        self.name = name
        self.race = race
        self.gender = gender
        self.role = role
        self.items = items
        self.equipment = p_equipment
        self.current_quests = current_quests
        self.quest_progress = quest_progress
        self.quest_status = quest_status
        self.quest_complete = quest_complete
        self.knowledge = knowledge
        self.skills_mage = skills_mage
        self.skills_fighter = skills_fighter
        self.skills_scout = skills_scout
        self.level = level
        self.experience = experience
        self.health = health
        self.energy = energy
        self.alive_status = alive_status
        self.rupees = rupees
        self.reputation = reputation
        self.current_zone = current_zone
        self.defense = defense
        self.offense = offense
        self.star_power = star_power
        self.flowers_amuna = flowers_amuna
        self.flowers_sorae = flowers_sorae
        self.pet = pets
        self.velocity = velocity
        self.mage_level = mage_level
        self.fighter_level = fighter_level
        self.scout_level = scout_level

    def update(self, pressed_key, current_zone, walk_timed):
        if self.gender == "male":
            if self.role == "":
                if pressed_key == "up":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_male_up_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_male_up_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_nuldar_male_up_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_nuldar_male_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_male_down_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_male_down_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_nuldar_male_down_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_nuldar_male_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_male_left_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_male_left_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_nuldar_male_left_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_nuldar_male_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_male_right_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_male_right_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_nuldar_male_right_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_nuldar_male_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "mage":  # -------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_male_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_male_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_nuldar_male_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_nuldar_male_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_male_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_male_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_nuldar_male_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_nuldar_male_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_male_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_male_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_nuldar_male_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_nuldar_male_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_male_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_male_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_male_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_nuldar_male_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_nuldar_male_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "fighter":  # ----------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_male_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_male_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_nuldar_male_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_nuldar_male_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_male_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_male_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_nuldar_male_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_nuldar_male_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_male_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_male_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_nuldar_male_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_nuldar_male_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_male_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_male_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_male_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_nuldar_male_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_nuldar_male_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "scout":  # ------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_male_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_male_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_nuldar_male_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_nuldar_male_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_male_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_male_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_nuldar_male_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_nuldar_male_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_male_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_male_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_nuldar_male_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_nuldar_male_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_male_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_male_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_male_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_nuldar_male_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_nuldar_male_right_4"]
                    self.x_coordinate += self.velocity

        if self.gender == "female":
            if self.role == "":
                if pressed_key == "up":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_female_up_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_female_up_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_nuldar_female_up_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_nuldar_female_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_female_down_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_female_down_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_nuldar_female_down_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_nuldar_female_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_female_left_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_female_left_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_nuldar_female_left_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_nuldar_female_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_female_right_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_nuldar_female_right_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_nuldar_female_right_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_nuldar_female_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "mage":  # -------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_female_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_female_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_nuldar_female_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_nuldar_female_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_female_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_female_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_nuldar_female_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_nuldar_female_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_female_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_female_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_nuldar_female_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_nuldar_female_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_nuldar_female_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_female_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_nuldar_female_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_nuldar_female_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_nuldar_female_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "fighter":  # ----------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_female_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_female_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_nuldar_female_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_nuldar_female_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_female_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_female_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_nuldar_female_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_nuldar_female_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_female_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_female_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_nuldar_female_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_nuldar_female_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_nuldar_female_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_female_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_nuldar_female_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_nuldar_female_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_nuldar_female_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "scout":  # ------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_female_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_female_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_nuldar_female_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_nuldar_female_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_female_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_female_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_nuldar_female_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_nuldar_female_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_female_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_female_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_nuldar_female_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_nuldar_female_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_nuldar_female_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_female_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_nuldar_female_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_nuldar_female_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_nuldar_female_right_4"]
                    self.x_coordinate += self.velocity

        if current_zone == "caldera":
            if self.x_coordinate < 262:
                self.x_coordinate = 262
            if self.y_coordinate < 208:
                self.y_coordinate = 208
            if self.x_coordinate > 652:
                self.x_coordinate = 652
            if self.y_coordinate > 528:
                self.y_coordinate = 528
        if current_zone == "castle one":
            if self.y_coordinate < 115:
                self.y_coordinate = 115
            if self.y_coordinate < 552:
                if self.x_coordinate < 32:
                    self.x_coordinate = 32
                if self.x_coordinate > 1000:
                    self.x_coordinate = 1000
                if self.x_coordinate > 220:
                    if self.y_coordinate > 385:
                        if self.x_coordinate < 245:
                            self.x_coordinate = 245
                if self.x_coordinate < 220:
                    if self.y_coordinate > 385:
                        if self.x_coordinate > 205:
                            self.x_coordinate = 205
                if self.x_coordinate < 808:
                    if self.y_coordinate > 385:
                        if self.x_coordinate > 790:
                            self.x_coordinate = 790
                if self.x_coordinate > 808:
                    if self.y_coordinate > 385:
                        if self.x_coordinate < 826:
                            self.x_coordinate = 826
                if 795 > self.x_coordinate > 220:
                    if 390 > self.x_coordinate or self.x_coordinate > 634:
                        if self.y_coordinate > 470:
                            self.y_coordinate = 470
                    else:
                        if self.y_coordinate > 490:
                            self.y_coordinate = 490
            if self.y_coordinate > 550:
                if 215 < self.x_coordinate < 810:
                    if self.y_coordinate < 565:
                        self.y_coordinate = 565
            if self.y_coordinate > 705:
                self.y_coordinate = 705
        if current_zone == "castle two":
            if self.y_coordinate > 705:
                self.y_coordinate = 705
            if self.x_coordinate < 30:
                self.x_coordinate = 30
            if self.y_coordinate < 35:
                self.y_coordinate = 35
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate > 552 and self.x_coordinate > 220:
                if self.y_coordinate < 570:
                    self.y_coordinate = 570
            if self.y_coordinate < 552 and self.x_coordinate > 220:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 552 > self.y_coordinate > 390 and self.x_coordinate > 222:
                if self.y_coordinate < 402:
                    self.y_coordinate = 402
                if self.x_coordinate > 775:
                    self.x_coordinate = 775
            if 172 < self.y_coordinate < 395 and self.x_coordinate < 777:
                if self.x_coordinate > 215:
                    self.x_coordinate = 215
            if 222 < self.x_coordinate < 810 and self.y_coordinate < 185:
                if self.y_coordinate > 168:
                    self.y_coordinate = 168
            if self.x_coordinate > 798 and 401 > self.y_coordinate > 170:
                if self.x_coordinate < 815:
                    self.x_coordinate = 815
                if self.y_coordinate > 385:
                    self.y_coordinate = 385
        if current_zone == "castle three":
            if self.y_coordinate > 705:
                self.y_coordinate = 705
            if self.x_coordinate < 30:
                self.x_coordinate = 30
            if self.y_coordinate < 35:
                self.y_coordinate = 35
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate > 550 and self.x_coordinate < 800:
                if self.y_coordinate < 570:
                    self.y_coordinate = 570
            if self.y_coordinate < 552 and self.x_coordinate < 800:
                if self.y_coordinate > 537:
                    self.y_coordinate = 537
            if 552 > self.y_coordinate > 183 and self.x_coordinate > 238:
                if self.x_coordinate < 260:
                    self.x_coordinate = 260
            if 552 > self.y_coordinate > 178:
                if 238 < self.x_coordinate < 444:
                    if self.y_coordinate < 200:
                        self.y_coordinate = 200
                    if self.y_coordinate < 395:
                        if self.x_coordinate > 410:
                            self.x_coordinate = 410
                if 410 < self.x_coordinate < 808:
                    if self.y_coordinate < 402:
                        self.y_coordinate = 402
                if self.x_coordinate > 800:
                    if self.y_coordinate < 408:
                        if self.x_coordinate < 812:
                            self.x_coordinate = 812
                if self.x_coordinate < 238:
                    if self.x_coordinate > 218:
                        self.x_coordinate = 218
                    if self.y_coordinate > 386:
                        self.y_coordinate = 386
            if self.y_coordinate < 178 and 226 < self.x_coordinate < 816:
                if self.y_coordinate > 170:
                    self.y_coordinate = 170
        if current_zone == "castle lair":
            if self.y_coordinate < 115:
                self.y_coordinate = 115
            if self.x_coordinate < 125:
                self.x_coordinate = 125
            if self.x_coordinate > 910:
                self.x_coordinate = 910
            if self.y_coordinate > 612:
                self.y_coordinate = 612
        if current_zone == "fishing alcove":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.y_coordinate > 525:
                if self.x_coordinate > 1010:
                    self.x_coordinate = 1010
            if self.y_coordinate < 525:
                if self.x_coordinate > 775:
                    self.x_coordinate = 775
            if self.x_coordinate > 775:
                if self.y_coordinate < 535:
                    self.y_coordinate = 535
            if self.y_coordinate <= 405:
                self.y_coordinate = 405
            elif self.y_coordinate >= 644:
                self.y_coordinate = 644
        if current_zone == "rohir":
            if self.x_coordinate < 50:
                self.x_coordinate = 50
            elif self.x_coordinate > 930:
                self.x_coordinate = 930
            if self.y_coordinate <= 145:
                self.y_coordinate = 145
            elif self.y_coordinate >= 575:
                self.y_coordinate = 575
            if 160 < self.x_coordinate < 270:
                if self.y_coordinate < 210:
                    self.y_coordinate = 210
                if self.y_coordinate > 475:
                    self.y_coordinate = 475
            if self.y_coordinate < 210 or self.y_coordinate > 475:
                if self.x_coordinate < 170:
                    if self.x_coordinate > 155:
                        self.x_coordinate = 155
                else:
                    if self.x_coordinate < 275:
                        self.x_coordinate = 275
        if current_zone == "nascent":
            if self.x_coordinate < 340:
                self.x_coordinate = 340
            elif self.x_coordinate > 955:
                self.x_coordinate = 955
            if self.y_coordinate <= 60:
                self.y_coordinate = 60
            elif self.y_coordinate >= 670:
                self.y_coordinate = 670
            elif 315 >= self.y_coordinate >= 300:
                self.y_coordinate = 315
            elif 300 >= self.y_coordinate >= 230:
                self.y_coordinate = 230
        if current_zone == "reservoir a":
            if self.x_coordinate < 50:
                self.x_coordinate = 50
            elif self.x_coordinate > 980:
                self.x_coordinate = 980
            elif self.x_coordinate < 365:
                if self.y_coordinate > 350:
                    if self.x_coordinate > 360:
                        self.x_coordinate = 365
            elif self.x_coordinate > 680:
                if self.y_coordinate > 350:
                    if self.x_coordinate < 685:
                        self.x_coordinate = 680
            elif 435 < self.y_coordinate < 550 and self.x_coordinate > 600:
                self.x_coordinate = 600
            elif 435 < self.y_coordinate < 550 and self.x_coordinate < 430:
                self.x_coordinate = 430
            elif 350 < self.y_coordinate < 425 and self.x_coordinate > 670:
                self.x_coordinate = 670
            if 350 < self.y_coordinate < 525 and 750 < self.x_coordinate < 770:
                self.x_coordinate = 770
            if 350 < self.y_coordinate < 525 and 260 < self.x_coordinate < 305:
                self.x_coordinate = 260
            if self.y_coordinate <= 125:
                self.y_coordinate = 125
            elif self.x_coordinate < 360 or self.x_coordinate > 725:
                if self.y_coordinate >= 520:
                    self.y_coordinate = 520
            elif self.x_coordinate > 300 or self.x_coordinate < 725:
                if self.y_coordinate >= 720:
                    self.y_coordinate = 720
        if current_zone == "reservoir b":
            if self.x_coordinate < 60:
                self.x_coordinate = 60
            elif self.x_coordinate < 745:
                if self.x_coordinate > 705:
                    self.x_coordinate = 745
            if self.x_coordinate < 705:
                if self.x_coordinate > 655:
                    self.x_coordinate = 655
            elif self.x_coordinate > 965:
                self.x_coordinate = 965
            if self.y_coordinate <= 75:
                self.y_coordinate = 75
            elif self.x_coordinate > 705:
                if self.y_coordinate >= 665:
                    self.y_coordinate = 665
            else:
                if self.y_coordinate >= 670:
                    self.y_coordinate = 670
        if current_zone == "reservoir c":
            if self.x_coordinate < 90:
                self.x_coordinate = 90
            if self.x_coordinate > 965:
                self.x_coordinate = 965
            if self.y_coordinate >= 638:
                self.y_coordinate = 638
            if self.x_coordinate > 510:
                if self.y_coordinate < 400:
                    if self.y_coordinate <= 100:
                        self.y_coordinate = 100
                    if self.y_coordinate > 320:
                        self.y_coordinate = 320
                if self.y_coordinate > 400:
                    if self.y_coordinate <= 425:
                        self.y_coordinate = 425
            else:
                if self.y_coordinate <= 100:
                    self.y_coordinate = 100
                if 425 > self.y_coordinate > 320:
                    if self.x_coordinate > 505:
                        self.x_coordinate = 505
        if current_zone == "seldon":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 925:
                self.x_coordinate = 925
            if self.y_coordinate <= 115:
                self.y_coordinate = 115
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
        if current_zone == "stardust":
            if self.x_coordinate < 225:
                self.x_coordinate = 225
            if self.y_coordinate < 450:
                if self.x_coordinate > 955:
                    self.x_coordinate = 955
            if self.y_coordinate > 450:
                if self.x_coordinate > 845:
                    self.x_coordinate = 845
            if self.x_coordinate > 846:
                if self.y_coordinate > 446:
                    self.y_coordinate = 446
            if self.y_coordinate <= 80:
                self.y_coordinate = 80
            elif self.y_coordinate >= 612:
                self.y_coordinate = 612
            elif 360 >= self.y_coordinate >= 300 and 641 >= self.x_coordinate >= 409:
                self.y_coordinate = 360
            elif 300 >= self.y_coordinate >= 230 and 641 >= self.x_coordinate >= 409:
                self.y_coordinate = 230
            elif 660 >= self.x_coordinate >= 500 and 358 >= self.y_coordinate >= 232:
                self.x_coordinate = 660
            elif 500 >= self.x_coordinate >= 395 and 358 >= self.y_coordinate >= 232:
                self.x_coordinate = 395
            if self.y_coordinate < 235 and self.x_coordinate > 470:
                if self.x_coordinate < 542:
                    self.x_coordinate = 542
            if self.y_coordinate < 235 and self.x_coordinate < 470:
                if self.x_coordinate > 440:
                    self.x_coordinate = 440
                if self.x_coordinate < 325:
                    if self.y_coordinate < 158:
                        self.y_coordinate = 158
                if self.y_coordinate < 158:
                    if self.x_coordinate < 328:
                        self.x_coordinate = 328
            if self.x_coordinate < 445 and 250 < self.y_coordinate < 330:
                if self.x_coordinate < 265:
                    self.x_coordinate = 265
                if self.x_coordinate > 345:
                    self.x_coordinate = 345
            if self.x_coordinate < 250 and 300 < self.y_coordinate < 335:
                self.y_coordinate = 335
            if 400 > self.x_coordinate > 360 and 300 < self.y_coordinate < 335:
                self.y_coordinate = 335
            if self.x_coordinate < 250 and 300 > self.y_coordinate > 240:
                self.y_coordinate = 240
            if 360 < self.x_coordinate < 440 and 300 > self.y_coordinate > 240:
                self.y_coordinate = 240
        if current_zone == "korlok":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 1005:
                self.x_coordinate = 1005
            elif self.x_coordinate < 490 and 325 < self.y_coordinate < 400:
                self.y_coordinate = 400
            elif self.x_coordinate < 490 and 400 > self.y_coordinate > 300:
                self.y_coordinate = 300
            elif self.x_coordinate < 492 and 325 < self.y_coordinate < 400:
                self.x_coordinate = 492
            if self.y_coordinate <= 50:
                self.y_coordinate = 50
            elif self.y_coordinate >= 627:
                self.y_coordinate = 627
        if current_zone == "mines":
            if self.x_coordinate < 72:
                self.x_coordinate = 72
            if self.x_coordinate > 965:
                self.x_coordinate = 965
            if 430 < self.y_coordinate < 500 and self.x_coordinate > 545:
                self.x_coordinate = 545
            if self.x_coordinate > 545:
                if self.y_coordinate < 460:
                    if self.y_coordinate > 425:
                        self.y_coordinate = 425
                if self.y_coordinate > 460:
                    if self.y_coordinate < 505:
                        self.y_coordinate = 505
            if self.y_coordinate <= 115:
                self.y_coordinate = 115
            if self.x_coordinate < 660:
                if self.y_coordinate >= 645:
                    self.y_coordinate = 645
            if self.x_coordinate > 660:
                if self.y_coordinate >= 720:
                    self.y_coordinate = 720
        if current_zone == "terra trail":
            if self.x_coordinate < 50:
                self.x_coordinate = 50
            elif self.x_coordinate > 730:
                self.x_coordinate = 730
            elif 470 < self.x_coordinate < 475 and 170 < self.y_coordinate < 400:
                self.x_coordinate = 475
            if self.y_coordinate <= 70:
                self.y_coordinate = 70
            elif self.y_coordinate >= 590:
                self.y_coordinate = 590
            elif 180 > self.y_coordinate > 170 and self.x_coordinate < 475:
                self.y_coordinate = 170
            elif 405 > self.y_coordinate > 400 and self.x_coordinate < 475:
                self.y_coordinate = 405
        if current_zone == "fishing hut":
            if 95 < self.y_coordinate < 228:
                if self.x_coordinate < 850:
                    if self.x_coordinate > 780:
                        self.x_coordinate = 780
                if self.x_coordinate > 850:
                    if self.x_coordinate < 918:
                        self.x_coordinate = 918
            if 780 < self.x_coordinate < 918:
                if self.y_coordinate > 180:
                    if self.y_coordinate < 234:
                        self.y_coordinate = 234
                if self.y_coordinate < 180:
                    if self.y_coordinate > 90:
                        self.y_coordinate = 90
            if self.y_coordinate < 80:
                self.y_coordinate = 80
            if self.x_coordinate < 335 and self.y_coordinate < 325 or \
                    self.x_coordinate > 490 and self.y_coordinate < 325:
                if self.y_coordinate > 295:
                    self.y_coordinate = 295
            if self.y_coordinate > 315:
                if self.x_coordinate < 340:
                    self.x_coordinate = 340
                if self.y_coordinate < 360:
                    if self.x_coordinate > 480:
                        self.x_coordinate = 480
                if self.y_coordinate > 360:
                    if self.x_coordinate > 690:
                        self.x_coordinate = 690
                if self.x_coordinate > 480:
                    if self.y_coordinate < 364:
                        self.y_coordinate = 364
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate > 495:
                self.y_coordinate = 495
        if current_zone == "eldream":
            if self.x_coordinate < 20:
                self.x_coordinate = 20
            elif self.x_coordinate > 1005:
                self.x_coordinate = 1005
            elif 885 < self.x_coordinate < 890 and 525 > self.y_coordinate > 155:
                self.x_coordinate = 890
            elif 960 < self.x_coordinate > 885 and 425 > self.y_coordinate > 155:
                self.x_coordinate = 960
            elif 180 > self.x_coordinate < 170 and 300 > self.y_coordinate > 145:
                self.x_coordinate = 170
            if self.y_coordinate <= 70:
                self.y_coordinate = 70
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
            elif 525 < self.y_coordinate < 530 and 220 < self.x_coordinate < 890:
                self.y_coordinate = 530
            elif 140 < self.y_coordinate < 155 and self.x_coordinate < 170:
                self.y_coordinate = 140
        if current_zone == "ectrenos":
            if 405 < self.x_coordinate < 625 and 525 > self.y_coordinate > 500:
                self.y_coordinate = 525
            if 405 < self.x_coordinate < 625 and 400 > self.y_coordinate > 360:
                self.y_coordinate = 360
            if 360 < self.y_coordinate < 525 and 390 < self.x_coordinate < 450:
                self.x_coordinate = 390
            if 360 < self.y_coordinate < 525 < self.x_coordinate < 640:
                self.x_coordinate = 640
            if 205 > self.x_coordinate > 175 and 170 < self.y_coordinate < 510:
                self.x_coordinate = 205
            if 205 > self.x_coordinate > 175 and 570 < self.y_coordinate < 725:
                self.x_coordinate = 205
            if 200 < self.x_coordinate < 435 and 170 < self.y_coordinate < 190:
                self.y_coordinate = 190
            if 5 < self.x_coordinate < 175 and 465 < self.y_coordinate > 565:
                self.y_coordinate = 565
            if 825 < self.x_coordinate < 845 and 170 < self.y_coordinate < 510:
                self.x_coordinate = 825
            if 825 < self.x_coordinate < 845 and 570 < self.y_coordinate < 725:
                self.x_coordinate = 825
            if 600 < self.x_coordinate < 840 and 170 < self.y_coordinate < 190:
                self.y_coordinate = 190
            if 825 < self.x_coordinate < 1010 and 465 < self.y_coordinate > 565:
                self.y_coordinate = 565
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate <= 70:
                self.y_coordinate = 70
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
        if current_zone == "ectrenos left":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 975 and 400 > self.y_coordinate or \
                    self.x_coordinate > 975 and self.y_coordinate > 620:
                self.x_coordinate = 975
            if self.y_coordinate < 395 and 650 > self.x_coordinate > 500 or \
                    self.y_coordinate > 615 and 650 > self.x_coordinate > 500:
                self.x_coordinate = 650
            if self.x_coordinate < 630 and 405 > self.y_coordinate:
                self.y_coordinate = 405
            if self.x_coordinate < 630 and 600 < self.y_coordinate:
                self.y_coordinate = 600
            elif self.x_coordinate < 330 and 575 < self.y_coordinate:
                self.y_coordinate = 575
            if self.y_coordinate <= 300:
                self.y_coordinate = 300
            elif self.y_coordinate >= 720:
                self.y_coordinate = 720
        if current_zone == "ectrenos right":
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            elif self.x_coordinate < 50 and 400 > self.y_coordinate or \
                    self.x_coordinate < 50 and self.y_coordinate > 620:
                self.x_coordinate = 50
            if self.y_coordinate < 405 and 650 > self.x_coordinate > 375 or \
                    self.y_coordinate > 595 and 650 > self.x_coordinate > 375:
                self.x_coordinate = 375
            if 750 > self.x_coordinate > 400 and 410 > self.y_coordinate:
                self.y_coordinate = 410
            if self.x_coordinate > 400 and 585 < self.y_coordinate:
                self.y_coordinate = 585
            elif self.x_coordinate > 750 and self.y_coordinate < 400:
                self.y_coordinate = 400
            if self.y_coordinate <= 300:
                self.y_coordinate = 300
            elif self.y_coordinate >= 720:
                self.y_coordinate = 720
        if current_zone == "ectrenos front":
            if self.y_coordinate > 400:
                if self.x_coordinate > 955:
                    self.x_coordinate = 955
                if self.x_coordinate < 75:
                    self.x_coordinate = 75
            else:
                if self.x_coordinate > 1005:
                    self.x_coordinate = 1005
                if self.x_coordinate < 15:
                    self.x_coordinate = 15
            if self.y_coordinate <= 330:
                self.y_coordinate = 330
            elif self.y_coordinate >= 545:
                self.y_coordinate = 545
            if self.x_coordinate < 60 or self.x_coordinate > 960:
                if self.y_coordinate > 390:
                    self.y_coordinate = 390
        if current_zone == "ectrenos alcove":
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.x_coordinate < 40:
                self.x_coordinate = 40
            if self.y_coordinate <= 110:
                self.y_coordinate = 110
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
            if self.y_coordinate > 525 and self.x_coordinate < 620 or \
                    self.y_coordinate > 525 and self.x_coordinate > 920:
                if self.y_coordinate < 615:
                    self.y_coordinate = 615
                if self.x_coordinate < 350:
                    self.x_coordinate = 350
            if 385 < self.y_coordinate < 615:
                if self.x_coordinate < 640:
                    self.x_coordinate = 640
                if self.x_coordinate > 900:
                    self.x_coordinate = 900
            if self.y_coordinate < 525 and self.x_coordinate < 620 or \
                    self.y_coordinate < 525 and self.x_coordinate > 920:
                if self.y_coordinate > 380:
                    self.y_coordinate = 380
            if self.x_coordinate > 490 and self.y_coordinate < 160:
                self.y_coordinate = 160
            if self.x_coordinate > 790 and self.y_coordinate < 205:
                self.y_coordinate = 205
            if self.x_coordinate < 280 and self.y_coordinate < 160:
                self.y_coordinate = 160
            if self.x_coordinate < 280 and self.y_coordinate > 290:
                self.y_coordinate = 290
        if current_zone == "marrow":
            if self.x_coordinate < 115:
                self.x_coordinate = 115
            if self.x_coordinate < 390:
                if self.y_coordinate > 705:
                    self.y_coordinate = 705
            if self.x_coordinate > 390:
                if 765 > self.x_coordinate > 645:
                    if npc_noren.quest_complete and npc_boro.quest_complete:
                        try:
                            if self.equipment["boots"].name == "chroma boots":
                                if self.y_coordinate > 420:
                                    if self.y_coordinate > 590:
                                        self.y_coordinate = 590
                                    if self.x_coordinate < 665:
                                        self.x_coordinate = 665
                                    if self.x_coordinate > 755:
                                        self.x_coordinate = 755
                        except AttributeError:
                            if self.y_coordinate > 420:
                                self.y_coordinate = 420
                    elif self.y_coordinate > 420:
                        self.y_coordinate = 420
                elif self.y_coordinate > 420:
                    self.y_coordinate = 420
            if self.y_coordinate > 420:
                if self.x_coordinate < 525:
                    if self.x_coordinate > 385:
                        self.x_coordinate = 385
            if self.x_coordinate > 1010:
                self.x_coordinate = 1010
            if 730 < self.x_coordinate or self.x_coordinate < 630:
                if self.y_coordinate < 100:
                    self.y_coordinate = 100
            if 220 < self.y_coordinate < 295:
                if self.x_coordinate > 765:
                    if self.y_coordinate > 245:
                        self.y_coordinate = 245
            if 255 < self.y_coordinate < 320:
                if self.x_coordinate > 760:
                    self.x_coordinate = 760
            if 300 < self.y_coordinate < 390:
                if self.x_coordinate > 765:
                    if self.y_coordinate < 325:
                        self.y_coordinate = 325
        if current_zone == "sub marrow":
            if self.x_coordinate > 990:
                self.x_coordinate = 990
            if self.y_coordinate < 115:
                self.y_coordinate = 115
            if self.y_coordinate > 700:
                self.y_coordinate = 700
            if self.y_coordinate > 575:
                if self.x_coordinate < 380:
                    self.x_coordinate = 380
            if self.y_coordinate < 575:
                if self.x_coordinate < 35:
                    self.x_coordinate = 35
            if self.x_coordinate < 380:
                if self.y_coordinate > 570:
                    self.y_coordinate = 570
            if self.x_coordinate > 625 and self.y_coordinate < 415:
                if self.y_coordinate > 385:
                    self.y_coordinate = 385
            if self.x_coordinate > 625 and self.y_coordinate > 415:
                if self.y_coordinate < 450:
                    self.y_coordinate = 450
            if self.y_coordinate > 385 and self.x_coordinate < 655:
                if self.x_coordinate > 618:
                    self.x_coordinate = 618
            if self.y_coordinate > 385 and self.x_coordinate > 655:
                if self.x_coordinate < 700:
                    self.x_coordinate = 700
        if current_zone == "marrow entrance":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate <= 30:
                self.y_coordinate = 30
            if marrow_switch_phase != "complete":
                if self.y_coordinate >= 550:
                    self.y_coordinate = 550
            if marrow_switch_phase == "complete":
                if 620 < self.x_coordinate or self.x_coordinate < 420:
                    if self.y_coordinate >= 550:
                        self.y_coordinate = 550
                else:
                    if self.y_coordinate >= 720:
                        self.y_coordinate = 720
                if self.y_coordinate > 560:
                    if 610 < self.x_coordinate:
                        self.x_coordinate = 610
                    if self.x_coordinate < 430:
                        self.x_coordinate = 430
            if self.y_coordinate <= 340:
                if self.x_coordinate < 260:
                    self.x_coordinate = 260
                if self.x_coordinate > 765:
                    self.x_coordinate = 765
            if self.x_coordinate <= 240 or self.x_coordinate >= 790:
                if self.y_coordinate <= 345:
                    self.y_coordinate = 345
        if current_zone == "marrow tower west":
            if self.y_coordinate > 710:
                self.y_coordinate = 710
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.y_coordinate < 30:
                self.y_coordinate = 30
            if self.x_coordinate > 1010:
                self.x_coordinate = 1010
            if 185 < self.x_coordinate < 405 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 610 < self.x_coordinate < 840 and self.y_coordinate > 555:
                if self.y_coordinate < 580:
                    self.y_coordinate = 580
            if 610 < self.x_coordinate < 840 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 165 < self.y_coordinate < 580:
                if 210 > self.x_coordinate > 180:
                    self.x_coordinate = 180
                if 185 < self.x_coordinate < 230:
                    self.x_coordinate = 230
                if 830 < self.x_coordinate < 850:
                    self.x_coordinate = 850
                if 800 < self.x_coordinate < 840:
                    self.x_coordinate = 800
            if 200 < self.x_coordinate < 840:
                if 165 > self.y_coordinate > 160:
                    self.y_coordinate = 160
                if 165 < self.y_coordinate < 200:
                    self.y_coordinate = 200
            if self.y_coordinate > 550:
                if 375 < self.x_coordinate < 430:
                    self.x_coordinate = 430
        if current_zone == "marrow tower east":
            if self.y_coordinate > 710:
                self.y_coordinate = 710
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.y_coordinate < 30:
                self.y_coordinate = 30
            if self.x_coordinate > 1010:
                self.x_coordinate = 1010
            if 185 < self.x_coordinate < 405 and self.y_coordinate > 555:
                if self.y_coordinate < 580:
                    self.y_coordinate = 580
            if 185 < self.x_coordinate < 405 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 610 < self.x_coordinate < 840 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 165 < self.y_coordinate < 580:
                if 210 > self.x_coordinate > 180:
                    self.x_coordinate = 180
                if 185 < self.x_coordinate < 230:
                    self.x_coordinate = 230
                if 830 < self.x_coordinate < 850:
                    self.x_coordinate = 850
                if 800 < self.x_coordinate < 840:
                    self.x_coordinate = 800
            if 200 < self.x_coordinate < 840:
                if 165 > self.y_coordinate > 160:
                    self.y_coordinate = 160
                if 165 < self.y_coordinate < 200:
                    self.y_coordinate = 200
            if self.y_coordinate > 540:
                if 650 > self.x_coordinate > 600:
                    self.x_coordinate = 600
        if current_zone == "marrow ramps west" or current_zone == "marrow ramps east":
            if self.y_coordinate > 710:
                self.y_coordinate = 710
            if self.x_coordinate < 385:
                self.x_coordinate = 385
            if self.y_coordinate < 165:
                self.y_coordinate = 165
            if self.x_coordinate > 765:
                self.x_coordinate = 765
        if current_zone == "marrow ramps east end":
            if self.y_coordinate > 700:
                self.y_coordinate = 700
            if self.y_coordinate > 175:
                if self.x_coordinate < 210:
                    self.x_coordinate = 210
                if self.x_coordinate > 935:
                    self.x_coordinate = 935
            if self.y_coordinate < 175:
                if self.x_coordinate < 385:
                    self.x_coordinate = 385
                if self.x_coordinate > 765:
                    self.x_coordinate = 765
            if self.x_coordinate < 375 or self.x_coordinate > 775:
                if self.y_coordinate < 180:
                    self.y_coordinate = 180
            if not erebyth_defeated:
                if self.y_coordinate < 100:
                    self.y_coordinate = 100
        if current_zone == "marrow ramps west end":
            if self.x_coordinate < 385:
                self.x_coordinate = 385
            if self.y_coordinate > 700:
                self.y_coordinate = 700
            if self.y_coordinate > 175:
                if self.x_coordinate > 930:
                    self.x_coordinate = 930
            if self.y_coordinate < 430:
                if self.x_coordinate < 775:
                    if self.x_coordinate > 770:
                        self.x_coordinate = 770
            if self.x_coordinate > 775:
                if self.y_coordinate < 180:
                    self.y_coordinate = 180
        if current_zone == "forge" or current_zone == "altar":
            if self.y_coordinate < 150:
                self.y_coordinate = 150
            if self.y_coordinate < 505:
                if self.x_coordinate < 182:
                    self.x_coordinate = 182
                if self.x_coordinate > 842:
                    self.x_coordinate = 842
            if self.y_coordinate > 505:
                if self.x_coordinate < 390:
                    self.x_coordinate = 390
                if self.x_coordinate > 635:
                    self.x_coordinate = 635
            if self.x_coordinate > 640 or self.x_coordinate < 385:
                if self.y_coordinate > 475:
                    self.y_coordinate = 475
            if self.y_coordinate < 205:
                if 515 > self.x_coordinate > 390:
                    self.x_coordinate = 390
                if 515 < self.x_coordinate < 635:
                    self.x_coordinate = 635
            if 390 < self.x_coordinate < 635:
                if self.y_coordinate < 215:
                    self.y_coordinate = 215

        if current_zone == "marrow":
            if pygame.Rect.colliderect(self.rect, recycle_crate_rect):
                if pressed_key == "up":
                    if self.y_coordinate > recycle_crate_rect.y:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < recycle_crate_rect.x:
                        self.x_coordinate -= self.velocity
        if current_zone == "marrow ramps west":
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge_ramps):
                        if self.y_coordinate < chroma_bridge.y_coordinate:
                            self.y_coordinate -= self.velocity
                        if self.y_coordinate > chroma_bridge.y_coordinate:
                            self.y_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge_ramps):
                    if self.y_coordinate < chroma_bridge.y_coordinate:
                        self.y_coordinate -= self.velocity
                    if self.y_coordinate > chroma_bridge.y_coordinate:
                        self.y_coordinate += self.velocity
        if current_zone == "marrow ramps west end":
            collided = pygame.sprite.spritecollideany(self, ramparts_rocks, pygame.sprite.collide_rect_ratio(0.90))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "marrow ramps east end":
            if erebyth_defeated:
                if pygame.Rect.colliderect(self.rect, dungeon_chest_ramps_rect):
                    if pressed_key == "down":
                        if self.y_coordinate < dungeon_chest_ramps_rect.y:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > dungeon_chest_ramps_rect.y:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < dungeon_chest_ramps_rect.x:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > dungeon_chest_ramps_rect.x:
                            self.x_coordinate += self.velocity
        if current_zone == "nascent":
            collided = pygame.sprite.spritecollideany(self, other_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if collided.name == "rock 8":
                    if pressed_key == "down":
                        if self.y_coordinate < collided.y_coordinate:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > collided.y_coordinate:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < collided.x_coordinate:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > collided.x_coordinate:
                            self.x_coordinate += self.velocity
        if current_zone == "seldon":
            collided = pygame.sprite.spritecollideany(self, environments, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity

        if current_zone == "korlok":
            collided = pygame.sprite.spritecollideany(self, nuldar_buildings, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.Rect.colliderect(self.rect, volcano_rect):
                if pressed_key == "down":
                    if self.y_coordinate < volcano_rect.y:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > volcano_rect.y:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < volcano_rect.x:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > volcano_rect.x:
                        self.x_coordinate += self.velocity
            collided = pygame.sprite.spritecollideany(self, korlok_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "mines":
            if pygame.sprite.collide_rect(self, mines_light):
                if pressed_key == "down":
                    if self.y_coordinate < mines_light.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_light.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_light.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_light.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, mines_cart):
                if pressed_key == "down":
                    if self.y_coordinate < mines_cart.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_cart.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_cart.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_cart.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, mines_shard_1):
                if pressed_key == "down":
                    if self.y_coordinate < mines_shard_1.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_shard_1.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_shard_1.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_shard_1.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, mines_shard_2):
                if pressed_key == "down":
                    if self.y_coordinate < mines_shard_2.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_shard_2.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_shard_2.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_shard_2.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "reservoir a":
            if mini_boss_1 or mini_boss_2:
                if pygame.sprite.collide_rect(self, dungeon_drop_wall):
                    if self.x_coordinate < dungeon_drop_wall.x_coordinate:
                        self.x_coordinate -= self.velocity
                    if self.x_coordinate > dungeon_drop_wall.x_coordinate:
                        self.x_coordinate += self.velocity
            collided = pygame.sprite.spritecollideany(self, dungeon_walls, pygame.sprite.collide_rect_ratio(0.75))
            if collided:
                if self.y_coordinate < collided.y_coordinate:
                    self.y_coordinate -= self.velocity
                if self.y_coordinate > collided.y_coordinate:
                    self.y_coordinate += self.velocity
        if current_zone == "reservoir b":
            collided = pygame.sprite.spritecollideany(self, muchador_crates, pygame.sprite.collide_rect_ratio(0.75))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "reservoir c":
            collided = pygame.sprite.spritecollideany(self, dungeon_rocks, pygame.sprite.collide_rect_ratio(0.90))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.Rect.colliderect(self.rect, dungeon_chest_rect):
                if pressed_key == "down":
                    if self.y_coordinate < dungeon_chest_rect.y:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > dungeon_chest_rect.y:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < dungeon_chest_rect.x:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > dungeon_chest_rect.x:
                        self.x_coordinate += self.velocity
        if current_zone == "terra trail":
            if pygame.sprite.collide_rect(self, terra_cave):
                if self.x_coordinate < terra_cave.x_coordinate:
                    self.x_coordinate -= self.velocity
                if self.x_coordinate > terra_cave.x_coordinate:
                    self.x_coordinate += self.velocity
            collided = pygame.sprite.spritecollideany(self, other_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if collided.name == "rock 7":
                    if pressed_key == "down":
                        if self.y_coordinate < collided.y_coordinate:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > collided.y_coordinate:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < collided.x_coordinate:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > collided.x_coordinate:
                            self.x_coordinate += self.velocity
        if current_zone == "stardust":
            collided = pygame.sprite.spritecollideany(self, other_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if collided.name == "rock 3":
                    if pressed_key == "down":
                        if self.y_coordinate < collided.y_coordinate:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > collided.y_coordinate:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < collided.x_coordinate:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > collided.x_coordinate:
                            self.x_coordinate += self.velocity
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge_small):
                        if self.y_coordinate < chroma_bridge_small.y_coordinate:
                            self.y_coordinate -= self.velocity
                        if self.y_coordinate < 335:
                            self.y_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge_small):
                    if self.y_coordinate < chroma_bridge_small.y_coordinate:
                        self.y_coordinate -= self.velocity
                    if self.y_coordinate < 335:
                        self.y_coordinate += self.velocity
        if current_zone == "eldream":
            collided = pygame.sprite.spritecollideany(self, eldream_river)
            if collided:
                if self.y_coordinate < collided.y_coordinate:
                    self.y_coordinate -= self.velocity
                if self.y_coordinate > collided.y_coordinate:
                    self.y_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, eldream_cart):
                if pressed_key == "down":
                    if self.y_coordinate < eldream_cart.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > eldream_cart.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < eldream_cart.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > eldream_cart.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "ectrenos left":
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge):
                        if self.x_coordinate < chroma_bridge.x_coordinate:
                            self.x_coordinate -= self.velocity
                        if self.x_coordinate > chroma_bridge.x_coordinate:
                            self.x_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge):
                    if self.x_coordinate < chroma_bridge.x_coordinate:
                        self.x_coordinate -= self.velocity
                    if self.x_coordinate > chroma_bridge.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "forge":
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge_forge):
                        if self.y_coordinate < chroma_bridge_forge.y_coordinate:
                            self.y_coordinate -= self.velocity
                        if self.y_coordinate < 620:
                            self.y_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge_forge):
                    if self.y_coordinate < chroma_bridge_forge.y_coordinate:
                        self.y_coordinate -= self.velocity
                    if self.y_coordinate < 620:
                        self.y_coordinate += self.velocity
        if current_zone == "castle two":
            collided = pygame.sprite.spritecollideany(self, castle_rocks, pygame.sprite.collide_rect_ratio(0.90))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity

        self.rect.midbottom = (self.x_coordinate, self.y_coordinate)


class PlayerSorae(pygame.sprite.Sprite):
    def __init__(self, name, race, gender, role, items, p_equipment, current_quests, quest_progress, quest_status,
                 quest_complete, knowledge, skills_mage, skills_fighter, skills_scout, level, experience, health,
                 energy, alive_status, rupees, reputation, current_zone, defense, offense, star_power, flowers_amuna,
                 flowers_sorae, pets, velocity, mage_level, fighter_level, scout_level):
        super(PlayerSorae, self).__init__()
        self.x_coordinate = 760
        self.y_coordinate = 510
        self.surf = graphic_dict["player_no_role_sorae_a_down_1"]
        self.rect = self.surf.get_rect(midbottom=(self.x_coordinate, self.y_coordinate))
        self.name = name
        self.race = race
        self.gender = gender
        self.role = role
        self.items = items
        self.equipment = p_equipment
        self.current_quests = current_quests
        self.quest_progress = quest_progress
        self.quest_status = quest_status
        self.quest_complete = quest_complete
        self.knowledge = knowledge
        self.skills_mage = skills_mage
        self.skills_fighter = skills_fighter
        self.skills_scout = skills_scout
        self.level = level
        self.experience = experience
        self.health = health
        self.energy = energy
        self.alive_status = alive_status
        self.rupees = rupees
        self.reputation = reputation
        self.current_zone = current_zone
        self.defense = defense
        self.offense = offense
        self.star_power = star_power
        self.flowers_amuna = flowers_amuna
        self.flowers_sorae = flowers_sorae
        self.pet = pets
        self.velocity = velocity
        self.mage_level = mage_level
        self.fighter_level = fighter_level
        self.scout_level = scout_level

    def update(self, pressed_key, current_zone, walk_timed):
        if self.gender == "male":
            if self.role == "":
                if pressed_key == "up":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_a_up_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_a_up_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_sorae_a_up_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_sorae_a_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_a_down_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_a_down_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_sorae_a_down_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_sorae_a_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_a_left_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_a_left_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_sorae_a_left_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_sorae_a_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_a_right_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_a_right_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_sorae_a_right_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_sorae_a_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "mage":  # -------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_sorae_a_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_sorae_a_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_sorae_a_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_sorae_a_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_sorae_a_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_sorae_a_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_sorae_a_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_sorae_a_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_sorae_a_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_sorae_a_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_sorae_a_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_sorae_a_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_a_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_a_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_a_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_sorae_a_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_sorae_a_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_sorae_a_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_sorae_a_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "fighter":  # ----------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_a_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_a_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_sorae_a_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_sorae_a_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_a_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_a_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_sorae_a_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_sorae_a_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_a_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_a_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_sorae_a_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_sorae_a_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_a_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_a_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_a_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_sorae_a_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_sorae_a_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "scout":  # ------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_sorae_a_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_sorae_a_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_sorae_a_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_sorae_a_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_sorae_a_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_sorae_a_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_sorae_a_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_sorae_a_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_sorae_a_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_sorae_a_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_sorae_a_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_sorae_a_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_a_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_a_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_a_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_sorae_a_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_sorae_a_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_sorae_a_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_sorae_a_right_4"]
                    self.x_coordinate += self.velocity

        if self.gender == "female":
            if self.role == "":
                if pressed_key == "up":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_b_up_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_b_up_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_sorae_b_up_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_sorae_b_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_b_down_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_b_down_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_sorae_b_down_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_sorae_b_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_b_left_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_b_left_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_sorae_b_left_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_sorae_b_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    if walk_timed < 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_b_right_1"]
                    if walk_timed > 0.2:
                        self.surf = graphic_dict["player_no_role_sorae_b_right_2"]
                    if walk_timed > 0.4:
                        self.surf = graphic_dict["player_no_role_sorae_b_right_3"]
                    if walk_timed > 0.6:
                        self.surf = graphic_dict["player_no_role_sorae_b_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "mage":  # -------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_sorae_b_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_sorae_b_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_sorae_b_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_sorae_b_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_sorae_b_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_sorae_b_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_sorae_b_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_sorae_b_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_sorae_b_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_sorae_b_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_sorae_b_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_sorae_b_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_mage_sorae_b_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_mage_sorae_b_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_mage_sorae_b_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_mage_sorae_b_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_mage_sorae_b_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_mage_sorae_b_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_mage_sorae_b_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "fighter":  # ----------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_b_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_b_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_sorae_b_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_sorae_b_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_b_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_b_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_sorae_b_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_sorae_b_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_b_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_b_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_sorae_b_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_sorae_b_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_fighter_sorae_b_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_b_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_fighter_sorae_b_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_fighter_sorae_b_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_fighter_sorae_b_right_4"]
                    self.x_coordinate += self.velocity
            if self.role == "scout":  # ------------------------------------------------------------------------------
                if pressed_key == "up":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_up_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_up_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_up_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_up_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_up_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_up_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_up_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_up_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_up_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_up_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_up_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_up_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_up_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_up_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_up_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_up_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_sorae_b_up_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_sorae_b_up_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_sorae_b_up_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_sorae_b_up_4"]
                    self.y_coordinate -= self.velocity
                if pressed_key == "down":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_down_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_down_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_down_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_down_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_down_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_down_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_down_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_down_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_down_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_down_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_down_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_down_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_down_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_down_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_down_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_down_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_sorae_b_down_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_sorae_b_down_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_sorae_b_down_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_sorae_b_down_4"]
                    self.y_coordinate += self.velocity
                if pressed_key == "left":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_left_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_left_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_left_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_left_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_left_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_left_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_left_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_left_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_left_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_left_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_left_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_left_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_left_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_left_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_left_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_left_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_sorae_b_left_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_sorae_b_left_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_sorae_b_left_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_sorae_b_left_4"]
                    self.x_coordinate -= self.velocity
                if pressed_key == "right":
                    try:
                        if self.equipment["armor"].name == "basic armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_right_1_basic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_right_2_basic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_right_3_basic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_right_4_basic"]
                        if self.equipment["armor"].name == "forged armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_right_1_forged"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_right_2_forged"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_right_3_forged"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_right_4_forged"]
                        if self.equipment["armor"].name == "mythical armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_right_1_mythic"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_right_2_mythic"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_right_3_mythic"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_right_4_mythic"]
                        if self.equipment["armor"].name == "legendary armor":
                            if walk_timed < 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_right_1_legend"]
                            if walk_timed > 0.2:
                                self.surf = graphic_dict["player_scout_sorae_b_right_2_legend"]
                            if walk_timed > 0.4:
                                self.surf = graphic_dict["player_scout_sorae_b_right_3_legend"]
                            if walk_timed > 0.6:
                                self.surf = graphic_dict["player_scout_sorae_b_right_4_legend"]
                    except AttributeError:
                        if walk_timed < 0.2:
                            self.surf = graphic_dict["player_scout_sorae_b_right_1"]
                        if walk_timed > 0.2:
                            self.surf = graphic_dict["player_scout_sorae_b_right_2"]
                        if walk_timed > 0.4:
                            self.surf = graphic_dict["player_scout_sorae_b_right_3"]
                        if walk_timed > 0.6:
                            self.surf = graphic_dict["player_scout_sorae_b_right_4"]
                    self.x_coordinate += self.velocity

        if current_zone == "caldera":
            if self.x_coordinate < 262:
                self.x_coordinate = 262
            if self.y_coordinate < 208:
                self.y_coordinate = 208
            if self.x_coordinate > 652:
                self.x_coordinate = 652
            if self.y_coordinate > 528:
                self.y_coordinate = 528
        if current_zone == "castle one":
            if self.y_coordinate < 115:
                self.y_coordinate = 115
            if self.y_coordinate < 552:
                if self.x_coordinate < 32:
                    self.x_coordinate = 32
                if self.x_coordinate > 1000:
                    self.x_coordinate = 1000
                if self.x_coordinate > 220:
                    if self.y_coordinate > 385:
                        if self.x_coordinate < 245:
                            self.x_coordinate = 245
                if self.x_coordinate < 220:
                    if self.y_coordinate > 385:
                        if self.x_coordinate > 205:
                            self.x_coordinate = 205
                if self.x_coordinate < 808:
                    if self.y_coordinate > 385:
                        if self.x_coordinate > 790:
                            self.x_coordinate = 790
                if self.x_coordinate > 808:
                    if self.y_coordinate > 385:
                        if self.x_coordinate < 826:
                            self.x_coordinate = 826
                if 795 > self.x_coordinate > 220:
                    if 390 > self.x_coordinate or self.x_coordinate > 634:
                        if self.y_coordinate > 470:
                            self.y_coordinate = 470
                    else:
                        if self.y_coordinate > 490:
                            self.y_coordinate = 490
            if self.y_coordinate > 550:
                if 215 < self.x_coordinate < 810:
                    if self.y_coordinate < 565:
                        self.y_coordinate = 565
            if self.y_coordinate > 705:
                self.y_coordinate = 705
        if current_zone == "castle two":
            if self.y_coordinate > 705:
                self.y_coordinate = 705
            if self.x_coordinate < 30:
                self.x_coordinate = 30
            if self.y_coordinate < 35:
                self.y_coordinate = 35
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate > 552 and self.x_coordinate > 220:
                if self.y_coordinate < 570:
                    self.y_coordinate = 570
            if self.y_coordinate < 552 and self.x_coordinate > 220:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 552 > self.y_coordinate > 390 and self.x_coordinate > 222:
                if self.y_coordinate < 402:
                    self.y_coordinate = 402
                if self.x_coordinate > 775:
                    self.x_coordinate = 775
            if 172 < self.y_coordinate < 395 and self.x_coordinate < 777:
                if self.x_coordinate > 215:
                    self.x_coordinate = 215
            if 222 < self.x_coordinate < 810 and self.y_coordinate < 185:
                if self.y_coordinate > 168:
                    self.y_coordinate = 168
            if self.x_coordinate > 798 and 401 > self.y_coordinate > 170:
                if self.x_coordinate < 815:
                    self.x_coordinate = 815
                if self.y_coordinate > 385:
                    self.y_coordinate = 385
        if current_zone == "castle three":
            if self.y_coordinate > 705:
                self.y_coordinate = 705
            if self.x_coordinate < 30:
                self.x_coordinate = 30
            if self.y_coordinate < 35:
                self.y_coordinate = 35
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate > 550 and self.x_coordinate < 800:
                if self.y_coordinate < 570:
                    self.y_coordinate = 570
            if self.y_coordinate < 552 and self.x_coordinate < 800:
                if self.y_coordinate > 537:
                    self.y_coordinate = 537
            if 552 > self.y_coordinate > 183 and self.x_coordinate > 238:
                if self.x_coordinate < 260:
                    self.x_coordinate = 260
            if 552 > self.y_coordinate > 178:
                if 238 < self.x_coordinate < 444:
                    if self.y_coordinate < 200:
                        self.y_coordinate = 200
                    if self.y_coordinate < 395:
                        if self.x_coordinate > 410:
                            self.x_coordinate = 410
                if 410 < self.x_coordinate < 808:
                    if self.y_coordinate < 402:
                        self.y_coordinate = 402
                if self.x_coordinate > 800:
                    if self.y_coordinate < 408:
                        if self.x_coordinate < 812:
                            self.x_coordinate = 812
                if self.x_coordinate < 238:
                    if self.x_coordinate > 218:
                        self.x_coordinate = 218
                    if self.y_coordinate > 386:
                        self.y_coordinate = 386
            if self.y_coordinate < 178 and 226 < self.x_coordinate < 816:
                if self.y_coordinate > 170:
                    self.y_coordinate = 170
        if current_zone == "castle lair":
            if self.y_coordinate < 115:
                self.y_coordinate = 115
            if self.x_coordinate < 125:
                self.x_coordinate = 125
            if self.x_coordinate > 910:
                self.x_coordinate = 910
            if self.y_coordinate > 612:
                self.y_coordinate = 612
        if current_zone == "fishing alcove":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.y_coordinate > 525:
                if self.x_coordinate > 1010:
                    self.x_coordinate = 1010
            if self.y_coordinate < 525:
                if self.x_coordinate > 775:
                    self.x_coordinate = 775
            if self.x_coordinate > 775:
                if self.y_coordinate < 535:
                    self.y_coordinate = 535
            if self.y_coordinate <= 405:
                self.y_coordinate = 405
            elif self.y_coordinate >= 644:
                self.y_coordinate = 644
        if current_zone == "rohir":
            if self.x_coordinate < 50:
                self.x_coordinate = 50
            elif self.x_coordinate > 930:
                self.x_coordinate = 930
            if self.y_coordinate <= 145:
                self.y_coordinate = 145
            elif self.y_coordinate >= 575:
                self.y_coordinate = 575
            if 160 < self.x_coordinate < 270:
                if self.y_coordinate < 210:
                    self.y_coordinate = 210
                if self.y_coordinate > 475:
                    self.y_coordinate = 475
            if self.y_coordinate < 210 or self.y_coordinate > 475:
                if self.x_coordinate < 170:
                    if self.x_coordinate > 155:
                        self.x_coordinate = 155
                else:
                    if self.x_coordinate < 275:
                        self.x_coordinate = 275
        if current_zone == "nascent":
            if self.x_coordinate < 340:
                self.x_coordinate = 340
            elif self.x_coordinate > 955:
                self.x_coordinate = 955
            if self.y_coordinate <= 60:
                self.y_coordinate = 60
            elif self.y_coordinate >= 670:
                self.y_coordinate = 670
            elif 315 >= self.y_coordinate >= 300:
                self.y_coordinate = 315
            elif 300 >= self.y_coordinate >= 230:
                self.y_coordinate = 230
        if current_zone == "reservoir a":
            if self.x_coordinate < 50:
                self.x_coordinate = 50
            elif self.x_coordinate > 980:
                self.x_coordinate = 980
            elif self.x_coordinate < 365:
                if self.y_coordinate > 350:
                    if self.x_coordinate > 360:
                        self.x_coordinate = 365
            elif self.x_coordinate > 680:
                if self.y_coordinate > 350:
                    if self.x_coordinate < 685:
                        self.x_coordinate = 680
            elif 435 < self.y_coordinate < 550 and self.x_coordinate > 600:
                self.x_coordinate = 600
            elif 435 < self.y_coordinate < 550 and self.x_coordinate < 430:
                self.x_coordinate = 430
            elif 350 < self.y_coordinate < 425 and self.x_coordinate > 670:
                self.x_coordinate = 670
            if 350 < self.y_coordinate < 525 and 750 < self.x_coordinate < 770:
                self.x_coordinate = 770
            if 350 < self.y_coordinate < 525 and 260 < self.x_coordinate < 305:
                self.x_coordinate = 260
            if self.y_coordinate <= 125:
                self.y_coordinate = 125
            elif self.x_coordinate < 360 or self.x_coordinate > 725:
                if self.y_coordinate >= 520:
                    self.y_coordinate = 520
            elif self.x_coordinate > 300 or self.x_coordinate < 725:
                if self.y_coordinate >= 720:
                    self.y_coordinate = 720
        if current_zone == "reservoir b":
            if self.x_coordinate < 60:
                self.x_coordinate = 60
            elif self.x_coordinate < 745:
                if self.x_coordinate > 705:
                    self.x_coordinate = 745
            if self.x_coordinate < 705:
                if self.x_coordinate > 655:
                    self.x_coordinate = 655
            elif self.x_coordinate > 965:
                self.x_coordinate = 965
            if self.y_coordinate <= 75:
                self.y_coordinate = 75
            elif self.x_coordinate > 705:
                if self.y_coordinate >= 665:
                    self.y_coordinate = 665
            else:
                if self.y_coordinate >= 670:
                    self.y_coordinate = 670
        if current_zone == "reservoir c":
            if self.x_coordinate < 90:
                self.x_coordinate = 90
            if self.x_coordinate > 965:
                self.x_coordinate = 965
            if self.y_coordinate >= 638:
                self.y_coordinate = 638
            if self.x_coordinate > 510:
                if self.y_coordinate < 400:
                    if self.y_coordinate <= 100:
                        self.y_coordinate = 100
                    if self.y_coordinate > 320:
                        self.y_coordinate = 320
                if self.y_coordinate > 400:
                    if self.y_coordinate <= 425:
                        self.y_coordinate = 425
            else:
                if self.y_coordinate <= 100:
                    self.y_coordinate = 100
                if 425 > self.y_coordinate > 320:
                    if self.x_coordinate > 505:
                        self.x_coordinate = 505
        if current_zone == "seldon":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 925:
                self.x_coordinate = 925
            if self.y_coordinate <= 115:
                self.y_coordinate = 115
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
        if current_zone == "stardust":
            if self.x_coordinate < 225:
                self.x_coordinate = 225
            if self.y_coordinate < 450:
                if self.x_coordinate > 955:
                    self.x_coordinate = 955
            if self.y_coordinate > 450:
                if self.x_coordinate > 845:
                    self.x_coordinate = 845
            if self.x_coordinate > 846:
                if self.y_coordinate > 446:
                    self.y_coordinate = 446
            if self.y_coordinate <= 80:
                self.y_coordinate = 80
            elif self.y_coordinate >= 612:
                self.y_coordinate = 612
            elif 360 >= self.y_coordinate >= 300 and 641 >= self.x_coordinate >= 409:
                self.y_coordinate = 360
            elif 300 >= self.y_coordinate >= 230 and 641 >= self.x_coordinate >= 409:
                self.y_coordinate = 230
            elif 660 >= self.x_coordinate >= 500 and 358 >= self.y_coordinate >= 232:
                self.x_coordinate = 660
            elif 500 >= self.x_coordinate >= 395 and 358 >= self.y_coordinate >= 232:
                self.x_coordinate = 395
            if self.y_coordinate < 235 and self.x_coordinate > 470:
                if self.x_coordinate < 542:
                    self.x_coordinate = 542
            if self.y_coordinate < 235 and self.x_coordinate < 470:
                if self.x_coordinate > 440:
                    self.x_coordinate = 440
                if self.x_coordinate < 325:
                    if self.y_coordinate < 158:
                        self.y_coordinate = 158
                if self.y_coordinate < 158:
                    if self.x_coordinate < 328:
                        self.x_coordinate = 328
            if self.x_coordinate < 445 and 250 < self.y_coordinate < 330:
                if self.x_coordinate < 265:
                    self.x_coordinate = 265
                if self.x_coordinate > 345:
                    self.x_coordinate = 345
            if self.x_coordinate < 250 and 300 < self.y_coordinate < 335:
                self.y_coordinate = 335
            if 400 > self.x_coordinate > 360 and 300 < self.y_coordinate < 335:
                self.y_coordinate = 335
            if self.x_coordinate < 250 and 300 > self.y_coordinate > 240:
                self.y_coordinate = 240
            if 360 < self.x_coordinate < 440 and 300 > self.y_coordinate > 240:
                self.y_coordinate = 240
        if current_zone == "korlok":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 1005:
                self.x_coordinate = 1005
            elif self.x_coordinate < 490 and 325 < self.y_coordinate < 400:
                self.y_coordinate = 400
            elif self.x_coordinate < 490 and 400 > self.y_coordinate > 300:
                self.y_coordinate = 300
            elif self.x_coordinate < 492 and 325 < self.y_coordinate < 400:
                self.x_coordinate = 492
            if self.y_coordinate <= 50:
                self.y_coordinate = 50
            elif self.y_coordinate >= 627:
                self.y_coordinate = 627
        if current_zone == "mines":
            if self.x_coordinate < 72:
                self.x_coordinate = 72
            if self.x_coordinate > 965:
                self.x_coordinate = 965
            if 430 < self.y_coordinate < 500 and self.x_coordinate > 545:
                self.x_coordinate = 545
            if self.x_coordinate > 545:
                if self.y_coordinate < 460:
                    if self.y_coordinate > 425:
                        self.y_coordinate = 425
                if self.y_coordinate > 460:
                    if self.y_coordinate < 505:
                        self.y_coordinate = 505
            if self.y_coordinate <= 115:
                self.y_coordinate = 115
            if self.x_coordinate < 660:
                if self.y_coordinate >= 645:
                    self.y_coordinate = 645
            if self.x_coordinate > 660:
                if self.y_coordinate >= 720:
                    self.y_coordinate = 720
        if current_zone == "terra trail":
            if self.x_coordinate < 50:
                self.x_coordinate = 50
            elif self.x_coordinate > 730:
                self.x_coordinate = 730
            elif 470 < self.x_coordinate < 475 and 170 < self.y_coordinate < 400:
                self.x_coordinate = 475
            if self.y_coordinate <= 70:
                self.y_coordinate = 70
            elif self.y_coordinate >= 590:
                self.y_coordinate = 590
            elif 180 > self.y_coordinate > 170 and self.x_coordinate < 475:
                self.y_coordinate = 170
            elif 405 > self.y_coordinate > 400 and self.x_coordinate < 475:
                self.y_coordinate = 405
        if current_zone == "fishing hut":
            if 95 < self.y_coordinate < 228:
                if self.x_coordinate < 850:
                    if self.x_coordinate > 780:
                        self.x_coordinate = 780
                if self.x_coordinate > 850:
                    if self.x_coordinate < 918:
                        self.x_coordinate = 918
            if 780 < self.x_coordinate < 918:
                if self.y_coordinate > 180:
                    if self.y_coordinate < 234:
                        self.y_coordinate = 234
                if self.y_coordinate < 180:
                    if self.y_coordinate > 90:
                        self.y_coordinate = 90
            if self.y_coordinate < 80:
                self.y_coordinate = 80
            if self.x_coordinate < 335 and self.y_coordinate < 325 or \
                    self.x_coordinate > 490 and self.y_coordinate < 325:
                if self.y_coordinate > 295:
                    self.y_coordinate = 295
            if self.y_coordinate > 315:
                if self.x_coordinate < 340:
                    self.x_coordinate = 340
                if self.y_coordinate < 360:
                    if self.x_coordinate > 480:
                        self.x_coordinate = 480
                if self.y_coordinate > 360:
                    if self.x_coordinate > 690:
                        self.x_coordinate = 690
                if self.x_coordinate > 480:
                    if self.y_coordinate < 364:
                        self.y_coordinate = 364
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate > 495:
                self.y_coordinate = 495
        if current_zone == "eldream":
            if self.x_coordinate < 20:
                self.x_coordinate = 20
            elif self.x_coordinate > 1005:
                self.x_coordinate = 1005
            elif 885 < self.x_coordinate < 890 and 525 > self.y_coordinate > 155:
                self.x_coordinate = 890
            elif 960 < self.x_coordinate > 885 and 425 > self.y_coordinate > 155:
                self.x_coordinate = 960
            elif 180 > self.x_coordinate < 170 and 300 > self.y_coordinate > 145:
                self.x_coordinate = 170
            if self.y_coordinate <= 70:
                self.y_coordinate = 70
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
            elif 525 < self.y_coordinate < 530 and 220 < self.x_coordinate < 890:
                self.y_coordinate = 530
            elif 140 < self.y_coordinate < 155 and self.x_coordinate < 170:
                self.y_coordinate = 140
        if current_zone == "ectrenos":
            if 405 < self.x_coordinate < 625 and 525 > self.y_coordinate > 500:
                self.y_coordinate = 525
            if 405 < self.x_coordinate < 625 and 400 > self.y_coordinate > 360:
                self.y_coordinate = 360
            if 360 < self.y_coordinate < 525 and 390 < self.x_coordinate < 450:
                self.x_coordinate = 390
            if 360 < self.y_coordinate < 525 < self.x_coordinate < 640:
                self.x_coordinate = 640
            if 205 > self.x_coordinate > 175 and 170 < self.y_coordinate < 510:
                self.x_coordinate = 205
            if 205 > self.x_coordinate > 175 and 570 < self.y_coordinate < 725:
                self.x_coordinate = 205
            if 200 < self.x_coordinate < 435 and 170 < self.y_coordinate < 190:
                self.y_coordinate = 190
            if 5 < self.x_coordinate < 175 and 465 < self.y_coordinate > 565:
                self.y_coordinate = 565
            if 825 < self.x_coordinate < 845 and 170 < self.y_coordinate < 510:
                self.x_coordinate = 825
            if 825 < self.x_coordinate < 845 and 570 < self.y_coordinate < 725:
                self.x_coordinate = 825
            if 600 < self.x_coordinate < 840 and 170 < self.y_coordinate < 190:
                self.y_coordinate = 190
            if 825 < self.x_coordinate < 1010 and 465 < self.y_coordinate > 565:
                self.y_coordinate = 565
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate <= 70:
                self.y_coordinate = 70
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
        if current_zone == "ectrenos left":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            elif self.x_coordinate > 975 and 400 > self.y_coordinate or \
                    self.x_coordinate > 975 and self.y_coordinate > 620:
                self.x_coordinate = 975
            if self.y_coordinate < 395 and 650 > self.x_coordinate > 500 or \
                    self.y_coordinate > 615 and 650 > self.x_coordinate > 500:
                self.x_coordinate = 650
            if self.x_coordinate < 630 and 405 > self.y_coordinate:
                self.y_coordinate = 405
            if self.x_coordinate < 630 and 600 < self.y_coordinate:
                self.y_coordinate = 600
            elif self.x_coordinate < 330 and 575 < self.y_coordinate:
                self.y_coordinate = 575
            if self.y_coordinate <= 300:
                self.y_coordinate = 300
            elif self.y_coordinate >= 720:
                self.y_coordinate = 720
        if current_zone == "ectrenos right":
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            elif self.x_coordinate < 50 and 400 > self.y_coordinate or \
                    self.x_coordinate < 50 and self.y_coordinate > 620:
                self.x_coordinate = 50
            if self.y_coordinate < 405 and 650 > self.x_coordinate > 375 or \
                    self.y_coordinate > 595 and 650 > self.x_coordinate > 375:
                self.x_coordinate = 375
            if 750 > self.x_coordinate > 400 and 410 > self.y_coordinate:
                self.y_coordinate = 410
            if self.x_coordinate > 400 and 585 < self.y_coordinate:
                self.y_coordinate = 585
            elif self.x_coordinate > 750 and self.y_coordinate < 400:
                self.y_coordinate = 400
            if self.y_coordinate <= 300:
                self.y_coordinate = 300
            elif self.y_coordinate >= 720:
                self.y_coordinate = 720
        if current_zone == "ectrenos front":
            if self.y_coordinate > 400:
                if self.x_coordinate > 955:
                    self.x_coordinate = 955
                if self.x_coordinate < 75:
                    self.x_coordinate = 75
            else:
                if self.x_coordinate > 1005:
                    self.x_coordinate = 1005
                if self.x_coordinate < 15:
                    self.x_coordinate = 15
            if self.y_coordinate <= 330:
                self.y_coordinate = 330
            elif self.y_coordinate >= 545:
                self.y_coordinate = 545
            if self.x_coordinate < 60 or self.x_coordinate > 960:
                if self.y_coordinate > 390:
                    self.y_coordinate = 390
        if current_zone == "ectrenos alcove":
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.x_coordinate < 40:
                self.x_coordinate = 40
            if self.y_coordinate <= 110:
                self.y_coordinate = 110
            elif self.y_coordinate >= 705:
                self.y_coordinate = 705
            if self.y_coordinate > 525 and self.x_coordinate < 620 or \
                    self.y_coordinate > 525 and self.x_coordinate > 920:
                if self.y_coordinate < 615:
                    self.y_coordinate = 615
                if self.x_coordinate < 350:
                    self.x_coordinate = 350
            if 385 < self.y_coordinate < 615:
                if self.x_coordinate < 640:
                    self.x_coordinate = 640
                if self.x_coordinate > 900:
                    self.x_coordinate = 900
            if self.y_coordinate < 525 and self.x_coordinate < 620 or \
                    self.y_coordinate < 525 and self.x_coordinate > 920:
                if self.y_coordinate > 380:
                    self.y_coordinate = 380
            if self.x_coordinate > 490 and self.y_coordinate < 160:
                self.y_coordinate = 160
            if self.x_coordinate > 790 and self.y_coordinate < 205:
                self.y_coordinate = 205
            if self.x_coordinate < 280 and self.y_coordinate < 160:
                self.y_coordinate = 160
            if self.x_coordinate < 280 and self.y_coordinate > 290:
                self.y_coordinate = 290
        if current_zone == "marrow":
            if self.x_coordinate < 115:
                self.x_coordinate = 115
            if self.x_coordinate < 390:
                if self.y_coordinate > 705:
                    self.y_coordinate = 705
            if self.x_coordinate > 390:
                if 765 > self.x_coordinate > 645:
                    if npc_noren.quest_complete and npc_boro.quest_complete:
                        try:
                            if self.equipment["boots"].name == "chroma boots":
                                if self.y_coordinate > 420:
                                    if self.y_coordinate > 590:
                                        self.y_coordinate = 590
                                    if self.x_coordinate < 665:
                                        self.x_coordinate = 665
                                    if self.x_coordinate > 755:
                                        self.x_coordinate = 755
                        except AttributeError:
                            if self.y_coordinate > 420:
                                self.y_coordinate = 420
                    elif self.y_coordinate > 420:
                        self.y_coordinate = 420
                elif self.y_coordinate > 420:
                    self.y_coordinate = 420
            if self.y_coordinate > 420:
                if self.x_coordinate < 525:
                    if self.x_coordinate > 385:
                        self.x_coordinate = 385
            if self.x_coordinate > 1010:
                self.x_coordinate = 1010
            if 730 < self.x_coordinate or self.x_coordinate < 630:
                if self.y_coordinate < 100:
                    self.y_coordinate = 100
            if 220 < self.y_coordinate < 295:
                if self.x_coordinate > 765:
                    if self.y_coordinate > 245:
                        self.y_coordinate = 245
            if 255 < self.y_coordinate < 320:
                if self.x_coordinate > 760:
                    self.x_coordinate = 760
            if 300 < self.y_coordinate < 390:
                if self.x_coordinate > 765:
                    if self.y_coordinate < 325:
                        self.y_coordinate = 325
        if current_zone == "sub marrow":
            if self.x_coordinate > 990:
                self.x_coordinate = 990
            if self.y_coordinate < 115:
                self.y_coordinate = 115
            if self.y_coordinate > 700:
                self.y_coordinate = 700
            if self.y_coordinate > 575:
                if self.x_coordinate < 380:
                    self.x_coordinate = 380
            if self.y_coordinate < 575:
                if self.x_coordinate < 35:
                    self.x_coordinate = 35
            if self.x_coordinate < 380:
                if self.y_coordinate > 570:
                    self.y_coordinate = 570
            if self.x_coordinate > 625 and self.y_coordinate < 415:
                if self.y_coordinate > 385:
                    self.y_coordinate = 385
            if self.x_coordinate > 625 and self.y_coordinate > 415:
                if self.y_coordinate < 450:
                    self.y_coordinate = 450
            if self.y_coordinate > 385 and self.x_coordinate < 655:
                if self.x_coordinate > 618:
                    self.x_coordinate = 618
            if self.y_coordinate > 385 and self.x_coordinate > 655:
                if self.x_coordinate < 700:
                    self.x_coordinate = 700
        if current_zone == "marrow entrance":
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.x_coordinate > 1005:
                self.x_coordinate = 1005
            if self.y_coordinate <= 30:
                self.y_coordinate = 30
            if marrow_switch_phase != "complete":
                if self.y_coordinate >= 550:
                    self.y_coordinate = 550
            if marrow_switch_phase == "complete":
                if 620 < self.x_coordinate or self.x_coordinate < 420:
                    if self.y_coordinate >= 550:
                        self.y_coordinate = 550
                else:
                    if self.y_coordinate >= 720:
                        self.y_coordinate = 720
                if self.y_coordinate > 560:
                    if 610 < self.x_coordinate:
                        self.x_coordinate = 610
                    if self.x_coordinate < 430:
                        self.x_coordinate = 430
            if self.y_coordinate <= 340:
                if self.x_coordinate < 260:
                    self.x_coordinate = 260
                if self.x_coordinate > 765:
                    self.x_coordinate = 765
            if self.x_coordinate <= 240 or self.x_coordinate >= 790:
                if self.y_coordinate <= 345:
                    self.y_coordinate = 345
        if current_zone == "marrow tower west":
            if self.y_coordinate > 710:
                self.y_coordinate = 710
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.y_coordinate < 30:
                self.y_coordinate = 30
            if self.x_coordinate > 1010:
                self.x_coordinate = 1010
            if 185 < self.x_coordinate < 405 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 610 < self.x_coordinate < 840 and self.y_coordinate > 555:
                if self.y_coordinate < 580:
                    self.y_coordinate = 580
            if 610 < self.x_coordinate < 840 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 165 < self.y_coordinate < 580:
                if 210 > self.x_coordinate > 180:
                    self.x_coordinate = 180
                if 185 < self.x_coordinate < 230:
                    self.x_coordinate = 230
                if 830 < self.x_coordinate < 850:
                    self.x_coordinate = 850
                if 800 < self.x_coordinate < 840:
                    self.x_coordinate = 800
            if 200 < self.x_coordinate < 840:
                if 165 > self.y_coordinate > 160:
                    self.y_coordinate = 160
                if 165 < self.y_coordinate < 200:
                    self.y_coordinate = 200
            if self.y_coordinate > 550:
                if 375 < self.x_coordinate < 430:
                    self.x_coordinate = 430
        if current_zone == "marrow tower east":
            if self.y_coordinate > 710:
                self.y_coordinate = 710
            if self.x_coordinate < 25:
                self.x_coordinate = 25
            if self.y_coordinate < 30:
                self.y_coordinate = 30
            if self.x_coordinate > 1010:
                self.x_coordinate = 1010
            if 185 < self.x_coordinate < 405 and self.y_coordinate > 555:
                if self.y_coordinate < 580:
                    self.y_coordinate = 580
            if 185 < self.x_coordinate < 405 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 610 < self.x_coordinate < 840 and self.y_coordinate < 555:
                if self.y_coordinate > 540:
                    self.y_coordinate = 540
            if 165 < self.y_coordinate < 580:
                if 210 > self.x_coordinate > 180:
                    self.x_coordinate = 180
                if 185 < self.x_coordinate < 230:
                    self.x_coordinate = 230
                if 830 < self.x_coordinate < 850:
                    self.x_coordinate = 850
                if 800 < self.x_coordinate < 840:
                    self.x_coordinate = 800
            if 200 < self.x_coordinate < 840:
                if 165 > self.y_coordinate > 160:
                    self.y_coordinate = 160
                if 165 < self.y_coordinate < 200:
                    self.y_coordinate = 200
            if self.y_coordinate > 540:
                if 650 > self.x_coordinate > 600:
                    self.x_coordinate = 600
        if current_zone == "marrow ramps west" or current_zone == "marrow ramps east":
            if self.y_coordinate > 710:
                self.y_coordinate = 710
            if self.x_coordinate < 385:
                self.x_coordinate = 385
            if self.y_coordinate < 165:
                self.y_coordinate = 165
            if self.x_coordinate > 765:
                self.x_coordinate = 765
        if current_zone == "marrow ramps east end":
            if self.y_coordinate > 700:
                self.y_coordinate = 700
            if self.y_coordinate > 175:
                if self.x_coordinate < 210:
                    self.x_coordinate = 210
                if self.x_coordinate > 935:
                    self.x_coordinate = 935
            if self.y_coordinate < 175:
                if self.x_coordinate < 385:
                    self.x_coordinate = 385
                if self.x_coordinate > 765:
                    self.x_coordinate = 765
            if self.x_coordinate < 375 or self.x_coordinate > 775:
                if self.y_coordinate < 180:
                    self.y_coordinate = 180
            if not erebyth_defeated:
                if self.y_coordinate < 100:
                    self.y_coordinate = 100
        if current_zone == "marrow ramps west end":
            if self.x_coordinate < 385:
                self.x_coordinate = 385
            if self.y_coordinate > 700:
                self.y_coordinate = 700
            if self.y_coordinate > 175:
                if self.x_coordinate > 930:
                    self.x_coordinate = 930
            if self.y_coordinate < 430:
                if self.x_coordinate < 775:
                    if self.x_coordinate > 770:
                        self.x_coordinate = 770
            if self.x_coordinate > 775:
                if self.y_coordinate < 180:
                    self.y_coordinate = 180
        if current_zone == "forge" or current_zone == "altar":
            if self.y_coordinate < 150:
                self.y_coordinate = 150
            if self.y_coordinate < 505:
                if self.x_coordinate < 182:
                    self.x_coordinate = 182
                if self.x_coordinate > 842:
                    self.x_coordinate = 842
            if self.y_coordinate > 505:
                if self.x_coordinate < 390:
                    self.x_coordinate = 390
                if self.x_coordinate > 635:
                    self.x_coordinate = 635
            if self.x_coordinate > 640 or self.x_coordinate < 385:
                if self.y_coordinate > 475:
                    self.y_coordinate = 475
            if self.y_coordinate < 205:
                if 515 > self.x_coordinate > 390:
                    self.x_coordinate = 390
                if 515 < self.x_coordinate < 635:
                    self.x_coordinate = 635
            if 390 < self.x_coordinate < 635:
                if self.y_coordinate < 215:
                    self.y_coordinate = 215
        if current_zone == "marrow":
            if pygame.Rect.colliderect(self.rect, recycle_crate_rect):
                if pressed_key == "up":
                    if self.y_coordinate > recycle_crate_rect.y:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < recycle_crate_rect.x:
                        self.x_coordinate -= self.velocity
        if current_zone == "marrow ramps west":
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge_ramps):
                        if self.y_coordinate < chroma_bridge.y_coordinate:
                            self.y_coordinate -= self.velocity
                        if self.y_coordinate > chroma_bridge.y_coordinate:
                            self.y_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge_ramps):
                    if self.y_coordinate < chroma_bridge.y_coordinate:
                        self.y_coordinate -= self.velocity
                    if self.y_coordinate > chroma_bridge.y_coordinate:
                        self.y_coordinate += self.velocity
        if current_zone == "marrow ramps west end":
            collided = pygame.sprite.spritecollideany(self, ramparts_rocks, pygame.sprite.collide_rect_ratio(0.90))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "marrow ramps east end":
            if erebyth_defeated:
                if pygame.Rect.colliderect(self.rect, dungeon_chest_ramps_rect):
                    if pressed_key == "down":
                        if self.y_coordinate < dungeon_chest_ramps_rect.y:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > dungeon_chest_ramps_rect.y:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < dungeon_chest_ramps_rect.x:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > dungeon_chest_ramps_rect.x:
                            self.x_coordinate += self.velocity
        if current_zone == "nascent":
            collided = pygame.sprite.spritecollideany(self, other_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if collided.name == "rock 8":
                    if pressed_key == "down":
                        if self.y_coordinate < collided.y_coordinate:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > collided.y_coordinate:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < collided.x_coordinate:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > collided.x_coordinate:
                            self.x_coordinate += self.velocity
        if current_zone == "seldon":
            collided = pygame.sprite.spritecollideany(self, environments, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity

        if current_zone == "korlok":
            collided = pygame.sprite.spritecollideany(self, nuldar_buildings, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.Rect.colliderect(self.rect, volcano_rect):
                if pressed_key == "down":
                    if self.y_coordinate < volcano_rect.y:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > volcano_rect.y:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < volcano_rect.x:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > volcano_rect.x:
                        self.x_coordinate += self.velocity
            collided = pygame.sprite.spritecollideany(self, korlok_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "mines":
            if pygame.sprite.collide_rect(self, mines_light):
                if pressed_key == "down":
                    if self.y_coordinate < mines_light.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_light.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_light.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_light.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, mines_cart):
                if pressed_key == "down":
                    if self.y_coordinate < mines_cart.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_cart.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_cart.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_cart.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, mines_shard_1):
                if pressed_key == "down":
                    if self.y_coordinate < mines_shard_1.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_shard_1.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_shard_1.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_shard_1.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, mines_shard_2):
                if pressed_key == "down":
                    if self.y_coordinate < mines_shard_2.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > mines_shard_2.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < mines_shard_2.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > mines_shard_2.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "reservoir a":
            if mini_boss_1 or mini_boss_2:
                if pygame.sprite.collide_rect(self, dungeon_drop_wall):
                    if self.x_coordinate < dungeon_drop_wall.x_coordinate:
                        self.x_coordinate -= self.velocity
                    if self.x_coordinate > dungeon_drop_wall.x_coordinate:
                        self.x_coordinate += self.velocity
            collided = pygame.sprite.spritecollideany(self, dungeon_walls, pygame.sprite.collide_rect_ratio(0.75))
            if collided:
                if self.y_coordinate < collided.y_coordinate:
                    self.y_coordinate -= self.velocity
                if self.y_coordinate > collided.y_coordinate:
                    self.y_coordinate += self.velocity
        if current_zone == "reservoir b":
            collided = pygame.sprite.spritecollideany(self, muchador_crates, pygame.sprite.collide_rect_ratio(0.75))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "reservoir c":
            collided = pygame.sprite.spritecollideany(self, dungeon_rocks, pygame.sprite.collide_rect_ratio(0.90))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity
            if pygame.Rect.colliderect(self.rect, dungeon_chest_rect):
                if pressed_key == "down":
                    if self.y_coordinate < dungeon_chest_rect.y:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > dungeon_chest_rect.y:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < dungeon_chest_rect.x:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > dungeon_chest_rect.x:
                        self.x_coordinate += self.velocity
        if current_zone == "terra trail":
            if pygame.sprite.collide_rect(self, terra_cave):
                if self.x_coordinate < terra_cave.x_coordinate:
                    self.x_coordinate -= self.velocity
                if self.x_coordinate > terra_cave.x_coordinate:
                    self.x_coordinate += self.velocity
            collided = pygame.sprite.spritecollideany(self, other_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if collided.name == "rock 7":
                    if pressed_key == "down":
                        if self.y_coordinate < collided.y_coordinate:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > collided.y_coordinate:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < collided.x_coordinate:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > collided.x_coordinate:
                            self.x_coordinate += self.velocity
        if current_zone == "stardust":
            collided = pygame.sprite.spritecollideany(self, other_rocks, pygame.sprite.collide_rect_ratio(0.50))
            if collided:
                if collided.name == "rock 3":
                    if pressed_key == "down":
                        if self.y_coordinate < collided.y_coordinate:
                            self.y_coordinate -= self.velocity
                    if pressed_key == "up":
                        if self.y_coordinate > collided.y_coordinate:
                            self.y_coordinate += self.velocity
                    if pressed_key == "right":
                        if self.x_coordinate < collided.x_coordinate:
                            self.x_coordinate -= self.velocity
                    if pressed_key == "left":
                        if self.x_coordinate > collided.x_coordinate:
                            self.x_coordinate += self.velocity
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge_small):
                        if self.y_coordinate < chroma_bridge_small.y_coordinate:
                            self.y_coordinate -= self.velocity
                        if self.y_coordinate < 335:
                            self.y_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge_small):
                    if self.y_coordinate < chroma_bridge_small.y_coordinate:
                        self.y_coordinate -= self.velocity
                    if self.y_coordinate < 335:
                        self.y_coordinate += self.velocity
        if current_zone == "eldream":
            collided = pygame.sprite.spritecollideany(self, eldream_river)
            if collided:
                if self.y_coordinate < collided.y_coordinate:
                    self.y_coordinate -= self.velocity
                if self.y_coordinate > collided.y_coordinate:
                    self.y_coordinate += self.velocity
            if pygame.sprite.collide_rect(self, eldream_cart):
                if pressed_key == "down":
                    if self.y_coordinate < eldream_cart.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > eldream_cart.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < eldream_cart.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > eldream_cart.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "ectrenos left":
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge):
                        if self.x_coordinate < chroma_bridge.x_coordinate:
                            self.x_coordinate -= self.velocity
                        if self.x_coordinate > chroma_bridge.x_coordinate:
                            self.x_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge):
                    if self.x_coordinate < chroma_bridge.x_coordinate:
                        self.x_coordinate -= self.velocity
                    if self.x_coordinate > chroma_bridge.x_coordinate:
                        self.x_coordinate += self.velocity
        if current_zone == "forge":
            try:
                if self.equipment["boots"].name != "chroma boots":
                    if pygame.sprite.collide_rect(self, chroma_bridge_forge):
                        if self.y_coordinate < chroma_bridge_forge.y_coordinate:
                            self.y_coordinate -= self.velocity
                        if self.y_coordinate < 620:
                            self.y_coordinate += self.velocity
            except AttributeError:
                if pygame.sprite.collide_rect(self, chroma_bridge_forge):
                    if self.y_coordinate < chroma_bridge_forge.y_coordinate:
                        self.y_coordinate -= self.velocity
                    if self.y_coordinate < 620:
                        self.y_coordinate += self.velocity
        if current_zone == "castle two":
            collided = pygame.sprite.spritecollideany(self, castle_rocks, pygame.sprite.collide_rect_ratio(0.90))
            if collided:
                if pressed_key == "down":
                    if self.y_coordinate < collided.y_coordinate:
                        self.y_coordinate -= self.velocity
                if pressed_key == "up":
                    if self.y_coordinate > collided.y_coordinate:
                        self.y_coordinate += self.velocity
                if pressed_key == "right":
                    if self.x_coordinate < collided.x_coordinate:
                        self.x_coordinate -= self.velocity
                if pressed_key == "left":
                    if self.x_coordinate > collided.x_coordinate:
                        self.x_coordinate += self.velocity

        self.rect.midbottom = (self.x_coordinate, self.y_coordinate)


# any in game npc. can have quests and also gifts to player upon initial interaction
class NPC(pygame.sprite.Sprite):
    def __init__(self, name, race, dialog, quest_to_give, quest_description, x_coordinate, y_coordinate,
                 alive_status, quest_complete, items, gift, image):
        super(NPC, self).__init__()
        self.name = name
        self.race = race
        self.dialog = dialog
        self.quest_to_give = quest_to_give
        self.quest_description = quest_description
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.alive_status = alive_status
        self.quest_complete = quest_complete
        self.items = items
        self.gift = gift
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))

    def update(self, image):
        self.surf = image

    def update_position(self, x_coordinate, y_coordinate):
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))


# shopkeeper class for assigning attributed items in shop
class Shopkeeper(pygame.sprite.Sprite):
    def __init__(self, name, race, items):
        super(Shopkeeper, self).__init__()
        self.name = name
        self.race = race
        self.items = items


# enemy class used for any enemy like snakes, ghouls etc
class Enemy(pygame.sprite.Sprite):
    def __init__(self, name, kind, health, energy, level, x_coordinate, y_coordinate, alive_status, items, image,
                 health_bar, type):
        super(Enemy, self).__init__()
        self.name = name
        self.kind = kind
        self.health = health
        self.energy = energy
        self.level = level
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.alive_status = alive_status
        self.items = items
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))
        self.speed = 1
        self.health_bar = health_bar
        self.type = type

    # updates enemy image
    def update_image(self, x_coord, y_coord, image):
        self.x_coordinate = x_coord
        self.y_coordinate = y_coord
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coord, y_coord))
        if self.kind == "atmon":
            self.surf.set_alpha(50)

    # updates enemy map position
    def update_position(self, ranges_x, ranges_y, direction_x, direction_y):
        if ranges_x[0] < self.rect.x < ranges_x[1]:
            if direction_x == "left":
                self.x_coordinate -= 2
            if direction_x == "right":
                self.x_coordinate += 2
        else:
            if direction_x == "left":
                self.x_coordinate += 2
            if direction_x == "right":
                self.x_coordinate -= 2
        if ranges_y[0] < self.rect.x < ranges_y[1]:
            if direction_y == "down":
                self.y_coordinate -= 2
            if direction_y == "up":
                self.y_coordinate += 2
        else:
            if direction_y == "down":
                self.y_coordinate += 2
            if direction_y == "up":
                self.y_coordinate -= 2

        self.rect = self.surf.get_rect(center=(self.x_coordinate, self.y_coordinate))


# tree or tree-like sprites. collision checks
class Tree(pygame.sprite.Sprite):
    def __init__(self, name, model, x_coordinate, y_coordinate, gathered, image):
        super(Tree, self).__init__()
        self.name = name
        self.model = model
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.gathered = gathered
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))

    def update(self, x_coord, y_coord, image):
        self.x_coordinate = x_coord
        self.y_coordinate = y_coord
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coord, y_coord))


# building sprite. collision checks
class Building(pygame.sprite.Sprite):
    def __init__(self, name, model, x_coordinate, y_coordinate, image):
        super(Building, self).__init__()
        self.name = name
        self.model = model
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))

    def update(self, x_coord, y_coord, image):
        self.x_coordinate = x_coord
        self.y_coordinate = y_coord
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coord, y_coord))


# any UI element like buttons, bars, player status etc
class UiElement(pygame.sprite.Sprite):
    def __init__(self, name, x_coordinate, y_coordinate, image):
        super(UiElement, self).__init__()
        self.name = name
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))

    def update(self, x_coord, y_coord, image):
        self.x_coordinate = x_coord
        self.y_coordinate = y_coord
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coord, y_coord))


# inventory class used for shop
class Inventory(pygame.sprite.Sprite):
    def __init__(self, name, contains, x_coordinate, y_coordinate, image):
        super(Inventory, self).__init__()
        self.name = name
        self.contains = contains
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))

    def update(self, x_coord, y_coord, image):
        self.x_coordinate = x_coord
        self.y_coordinate = y_coord
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coord, y_coord))


# pop up notifications
class Notification(pygame.sprite.Sprite):
    def __init__(self, name, shown, x_coordinate, y_coordinate, image):
        super(Notification, self).__init__()
        self.name = name
        self.shown = shown
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))

    def update(self, x_coord, y_coord, image):
        self.x_coordinate = x_coord
        self.y_coordinate = y_coord
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coord, y_coord))


# representation of character for battle screen or npc interaction
class BattleCharacter(pygame.sprite.Sprite):
    def __init__(self, name, x_coordinate, y_coordinate, image):
        super(BattleCharacter, self).__init__()
        self.name = name
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))

    def update(self, x_coord, y_coord, image):
        self.x_coordinate = x_coord
        self.y_coordinate = y_coord
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coord, y_coord))


# any item or equipment
class Item(pygame.sprite.Sprite):
    def __init__(self, name, types, x_coordinate, y_coordinate, image, level):
        super(Item, self).__init__()
        self.name = name
        self.type = types
        self.x_coordinate = x_coordinate
        self.y_coordinate = y_coordinate
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coordinate, y_coordinate))
        self.level = level

    def update(self, x_coord, y_coord, image):
        self.x_coordinate = x_coord
        self.y_coordinate = y_coord
        self.surf = image
        self.rect = self.surf.get_rect(center=(x_coord, y_coord))

    def update_level(self, name, level, image):
        self.name = name
        self.level = level
        self.surf = image


# ----------------------------------------------------------------------------------------------------------------------
def resource_path(relative_path):
    """ Get absolute path to resource, works for dev and for PyInstaller """
    base_path = getattr(sys, '_MEIPASS', os.path.dirname(os.path.abspath(__file__)))
    return os.path.join(base_path, relative_path)


def button_highlighter(posit):
    button_highlighters = drawing_functions.button_highlights(pygame, player, start_chosen, new_game_chosen,
                                                              new_game_button, posit, button_highlight, graphic_dict,
                                                              continue_button, start_button, back_button, amuna_button,
                                                              nuldar_button, sorae_button, save_check_window,
                                                              yes_button, no_button, item_info_button, rest_button,
                                                              leave_button, buy_button, in_inn, in_shop, buy_clicked,
                                                              offense_select_button, in_battle,
                                                              mage_attack_button, fighter_attack_button,
                                                              scout_attack_button, no_role_attack_button,
                                                              barrier_button, sharp_sense_button, hard_strike_button,
                                                              in_over_world, seldon_map_button, korlok_map_button,
                                                              eldream_map_button, marrow_map_button, character_button,
                                                              quests_button, save_button, map_button,
                                                              in_npc_interaction, quest_button, quest_clicked,
                                                              accept_button, decline_button, in_apothecary, staff,
                                                              sword, bow, potions_button, create_potion_button,
                                                              in_menagerie, ok_button, hatch_ready,
                                                              menagerie_window_open, kasper_manage_button,
                                                              torok_manage_button, iriana_manage_button,
                                                              amuna_male_button, amuna_female_button,
                                                              nuldar_male_button, nuldar_female_button,
                                                              sorae_alpha_button, sorae_beta_button, in_academia,
                                                              mage_learn_clicked, fighter_learn_clicked,
                                                              scout_learn_clicked, mage_learn_button,
                                                              fighter_learn_button, scout_learn_button,
                                                              barrier_learn_button, close_button, npc_garan.gift,
                                                              mirror_learn_button, mirror_button, vanish_button,
                                                              stun_button, kasper_unlocked, torok_unlocked,
                                                              iriana_unlocked, music_toggle_button, in_hut,
                                                              check_basic_fish_button, check_better_fish_button,
                                                              check_even_better_fish_button, check_best_fish_button,
                                                              save_data_window, in_card_cave, trade_snake, trade_ghoul,
                                                              trade_bandile, trade_magmon, trade_necrola, trade_osodark,
                                                              trade_atmon, trade_jumano, trade_chorizon, trade_muchador,
                                                              trade_chinzilla, trade_erebyth, fire_learn_button,
                                                              fire_button, edge_button, arrow_button,
                                                              kasper_whistle_button, torok_whistle_button,
                                                              iriana_whistle_button, card_deck_button, trading_deck,
                                                              nera_button, aren_button, spirit_button,
                                                              seldon_quest_district_button,
                                                              korlok_quest_district_button,
                                                              eldream_quest_district_button,
                                                              marrow_quest_district_button)
    return button_highlighters


def render_card_deck():
    basic_snake_c_count_surf = font.render("C-Snake: " + str(card_deck["basic_snake"]),
                                           True, "black", "light blue")
    basic_snake_c_count_rect = basic_snake_c_count_surf.get_rect()
    basic_snake_c_count_rect.midleft = (403, 162)
    better_snake_c_count_surf = font.render("B-Snake: " + str(card_deck["better_snake"]),
                                            True, "black", "light blue")
    better_snake_c_count_rect = better_snake_c_count_surf.get_rect()
    better_snake_c_count_rect.midleft = (515, 162)
    better_necrola_c_count_surf = font.render("B-Necrola: " + str(card_deck["better_necrola"]),
                                              True, "black", "light blue")
    better_necrola_c_count_rect = better_necrola_c_count_surf.get_rect()
    better_necrola_c_count_rect.midleft = (645, 162)
    best_necrola_c_count_surf = font.render("A-Necrola: " + str(card_deck["best_necrola"]),
                                            True, "black", "light blue")
    best_necrola_c_count_rect = best_necrola_c_count_surf.get_rect()
    best_necrola_c_count_rect.midleft = (758, 162)
    chorizon_c_count_surf = font.render("Chorizon: " + str(card_deck["chorizon"]),
                                        True, "black", "light blue")
    chorizon_c_count_rect = chorizon_c_count_surf.get_rect()
    chorizon_c_count_rect.midleft = (897, 162)
    basic_ghoul_c_count_surf = font.render("C-Ghoul: " + str(card_deck["basic_ghoul"]),
                                           True, "black", "light blue")
    basic_ghoul_c_count_rect = basic_ghoul_c_count_surf.get_rect()
    basic_ghoul_c_count_rect.midleft = (403, 300)
    better_ghoul_c_count_surf = font.render("B-Ghoul: " + str(card_deck["better_ghoul"]),
                                            True, "black", "light blue")
    better_ghoul_c_count_rect = better_ghoul_c_count_surf.get_rect()
    better_ghoul_c_count_rect.midleft = (515, 300)
    better_osodark_c_count_surf = font.render("B-Osodark: " + str(card_deck["better_osodark"]),
                                              True, "black", "light blue")
    better_osodark_c_count_rect = better_osodark_c_count_surf.get_rect()
    better_osodark_c_count_rect.midleft = (643, 300)
    best_osodark_c_count_surf = font.render("A-Osodark: " + str(card_deck["best_osodark"]),
                                            True, "black", "light blue")
    best_osodark_c_count_rect = best_osodark_c_count_surf.get_rect()
    best_osodark_c_count_rect.midleft = (757, 300)
    muchador_c_count_surf = font.render("Muchador: " + str(card_deck["muchador"]),
                                        True, "black", "light blue")
    muchador_c_count_rect = muchador_c_count_surf.get_rect()
    muchador_c_count_rect.midleft = (895, 300)
    basic_bandile_c_count_surf = font.render("C-Bandile: " + str(card_deck["basic_bandile"]),
                                             True, "black", "light blue")
    basic_bandile_c_count_rect = basic_bandile_c_count_surf.get_rect()
    basic_bandile_c_count_rect.midleft = (398, 438)
    better_bandile_c_count_surf = font.render("B-Bandile: " + str(card_deck["better_bandile"]),
                                              True, "black", "light blue")
    better_bandile_c_count_rect = better_bandile_c_count_surf.get_rect()
    better_bandile_c_count_rect.midleft = (512, 438)
    better_atmon_c_count_surf = font.render("B-Atmon: " + str(card_deck["better_atmon"]),
                                            True, "black", "light blue")
    better_atmon_c_count_rect = better_atmon_c_count_surf.get_rect()
    better_atmon_c_count_rect.midleft = (647, 438)
    best_atmon_c_count_surf = font.render("A-Atmon: " + str(card_deck["best_atmon"]),
                                          True, "black", "light blue")
    best_atmon_c_count_rect = best_atmon_c_count_surf.get_rect()
    best_atmon_c_count_rect.midleft = (761, 438)
    chinzilla_c_count_surf = font.render("Chinzilla: " + str(card_deck["chinzilla"]),
                                         True, "black", "light blue")
    chinzilla_c_count_rect = chinzilla_c_count_surf.get_rect()
    chinzilla_c_count_rect.midleft = (898, 438)
    basic_magmon_c_count_surf = font.render("C-Magmon: " + str(card_deck["basic_magmon"]),
                                            True, "black", "light blue")
    basic_magmon_c_count_rect = basic_magmon_c_count_surf.get_rect()
    basic_magmon_c_count_rect.midleft = (393, 576)
    better_magmon_c_count_surf = font.render("B-Magmon: " + str(card_deck["better_magmon"]),
                                             True, "black", "light blue")
    better_magmon_c_count_rect = better_magmon_c_count_surf.get_rect()
    better_magmon_c_count_rect.midleft = (506, 576)
    better_jumano_c_count_surf = font.render("B-Jumano: " + str(card_deck["better_jumano"]),
                                             True, "black", "light blue")
    better_jumano_c_count_rect = better_jumano_c_count_surf.get_rect()
    better_jumano_c_count_rect.midleft = (645, 576)
    best_jumano_c_count_surf = font.render("A-Jumano: " + str(card_deck["best_jumano"]),
                                           True, "black", "light blue")
    best_jumano_c_count_rect = best_jumano_c_count_surf.get_rect()
    best_jumano_c_count_rect.midleft = (759, 576)
    erebyth_c_count_surf = font.render("Erebyth: " + str(card_deck["erebyth"]),
                                       True, "black", "light blue")
    erebyth_c_count_rect = erebyth_c_count_surf.get_rect()
    erebyth_c_count_rect.midleft = (899, 576)

    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
        screen.blit(trading_deck_window, (359, 16))
        screen.blit(basic_snake_c_count_surf, basic_snake_c_count_rect)
    else:
        game_window.blit(trading_deck_window, (359, 16))
        game_window.blit(basic_snake_c_count_surf, basic_snake_c_count_rect)
        game_window.blit(better_snake_c_count_surf, better_snake_c_count_rect)
        game_window.blit(better_necrola_c_count_surf, better_necrola_c_count_rect)
        game_window.blit(best_necrola_c_count_surf, best_necrola_c_count_rect)
        game_window.blit(chorizon_c_count_surf, chorizon_c_count_rect)
        game_window.blit(basic_ghoul_c_count_surf, basic_ghoul_c_count_rect)
        game_window.blit(better_ghoul_c_count_surf, better_ghoul_c_count_rect)
        game_window.blit(better_osodark_c_count_surf, better_osodark_c_count_rect)
        game_window.blit(best_osodark_c_count_surf, best_osodark_c_count_rect)
        game_window.blit(muchador_c_count_surf, muchador_c_count_rect)
        game_window.blit(basic_bandile_c_count_surf, basic_bandile_c_count_rect)
        game_window.blit(better_bandile_c_count_surf, better_bandile_c_count_rect)
        game_window.blit(better_atmon_c_count_surf, better_atmon_c_count_rect)
        game_window.blit(best_atmon_c_count_surf, best_atmon_c_count_rect)
        game_window.blit(chinzilla_c_count_surf, chinzilla_c_count_rect)
        game_window.blit(basic_magmon_c_count_surf, basic_magmon_c_count_rect)
        game_window.blit(better_magmon_c_count_surf, better_magmon_c_count_rect)
        game_window.blit(better_jumano_c_count_surf, better_jumano_c_count_rect)
        game_window.blit(best_jumano_c_count_surf, best_jumano_c_count_rect)
        game_window.blit(erebyth_c_count_surf, erebyth_c_count_rect)


# main -----------------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------------------
if __name__ == "__main__":

    # initialize the screen in graphics file
    game_window = graphics.initialize_display()
    # scalable surface
    screen = pygame.Surface([1280, 720])
    # loading screen
    graphics.draw_loading_screen(game_window)
    # dictionary contains all graphical resources
    graphic_dict = graphics.load_graphics()

    # fonts
    font = pygame.font.Font(resource_path("resources/fonts/Lato-Bold.ttf"), 16)
    level_up_font = pygame.font.Font(resource_path("resources/fonts/Lato-Bold.ttf"), 20)
    name_input_font = pygame.font.Font(resource_path("resources/fonts/Lato-Bold.ttf"), 24)
    small_font = pygame.font.Font(resource_path("resources/fonts/Lato-Bold.ttf"), 12)

    # background textures ----------------------------------------------------------------------------------------------
    card_shop_bg = graphic_dict["card_shop_bg"]
    dreth_battle_screen = graphic_dict["dreth_battle_screen"]
    nascent_grove_bg = graphic_dict["nascent_grove_screen"]
    rohir_river_bg = graphic_dict["rohir_river_screen"]
    fishing_hut_bg = graphic_dict["fishing_hut_bg"]
    fishing_hut_screen_bg = graphic_dict["fishing_hut_screen"]
    seldon_district_bg = graphic_dict["seldon_bg_screen"]
    seldon_district_battle = graphic_dict["seldon_battle_screen"]
    nascent_interaction_screen = graphic_dict["nascent_interaction_screen"]
    korlok_district_battle = graphic_dict["korlok_battle_screen"]
    mines_battle = graphic_dict["mines_battle_screen"]
    seldon_district_shop = graphic_dict["seldon_shop_screen"]
    korlok_district_shop = graphic_dict["korlok_shop_screen"]
    eldream_district_shop = graphic_dict["eldream_shop_screen"]
    seldon_district_inn_day = graphic_dict["seldon_inn_day"]
    seldon_district_inn_night = graphic_dict["seldon_inn_night"]
    seldon_district_inn_morning = graphic_dict["seldon_inn_morning"]
    seldon_district_inn_afternoon = graphic_dict["seldon_inn_afternoon"]
    korlok_district_inn_day = graphic_dict["korlok_inn_day"]
    korlok_district_inn_night = graphic_dict["korlok_inn_night"]
    korlok_district_inn_morning = graphic_dict["korlok_inn_morning"]
    korlok_district_inn_afternoon = graphic_dict["korlok_inn_afternoon"]
    eldream_district_inn_day = graphic_dict["eldream_inn_day"]
    eldream_district_inn_night = graphic_dict["eldream_inn_night"]
    eldream_district_inn_morning = graphic_dict["eldream_inn_morning"]
    eldream_district_inn_afternoon = graphic_dict["eldream_inn_afternoon"]
    seldon_district_academia = graphic_dict["seldon_academia_screen"]
    korlok_district_apothecary = graphic_dict["korlok_apothecary"]
    eldream_district_menagerie = graphic_dict["eldream_menagerie"]
    stardust_cove_bg = graphic_dict["stardust_cove_screen"]
    stardust_post_bg = graphic_dict["stardust_post_screen"]
    stardust_battle = graphic_dict["star_battle_screen"]
    seldon_hearth_screen = graphic_dict["seldon_hearth_screen"]
    korlok_hearth_screen = graphic_dict["korlok_hearth_screen"]
    eldream_hearth_screen = graphic_dict["eldream_hearth_screen"]
    marrow_hearth_screen = graphic_dict["marrow_hearth_screen"]
    game_over_screen = graphic_dict["game_over_screen"]
    start_screen = graphic_dict["start_screen"]
    start_screen_logo = graphic_dict["start_screen_logo"]
    nera_sleep_screen = graphic_dict["nera_sleep_screen"]
    korlok_district_bg = graphic_dict["korlok_bg_screen"]
    korlok_district_repaired_bg = graphic_dict["korlok_repaired_screen"]
    korlok_mines_bg = graphic_dict["korlok_mines"]
    korlok_forge_bg = graphic_dict["korlok_forge_bg"]
    eldream_district_bg = graphic_dict["eldream_bg_screen"]
    eldream_interaction_bg = graphic_dict["eldream_interaction"]
    eldream_altar_bg = graphic_dict["eldream_altar_bg"]
    ectrenos_bg = graphic_dict["ectrenos_bg"]
    ectrenos_left_bg = graphic_dict["ectrenos_left_bg"]
    ectrenos_right_bg = graphic_dict["ectrenos_right_bg"]
    ectrenos_front_bg = graphic_dict["ectrenos_front_bg"]
    ectrenos_alcove_bg = graphic_dict["ectrenos_alcove_bg"]
    fishing_alcove_bg = graphic_dict["fishing_alcove_bg"]
    ectrenos_alcove_battle_screen = graphic_dict["alcove_battle_screen"]
    ectrenos_interaction_bg = graphic_dict["ectrenos_interaction"]
    ectrenos_front_interaction_bg = graphic_dict["ectrenos_front_interaction"]
    amuna_character_screen = graphic_dict["a_char_screen"]
    nuldar_character_screen = graphic_dict["n_char_screen"]
    sorae_character_screen = graphic_dict["s_char_screen"]
    reservoir_a_bg = graphic_dict["reservoir_a_screen"]
    reservoir_b_bg = graphic_dict["reservoir_b_screen"]
    reservoir_c_bg = graphic_dict["reservoir_c_screen"]
    reservoir_battle = graphic_dict["reservoir_battle_screen"]
    terra_trail_bg = graphic_dict["terra_trail_bg"]
    terra_trail_screen = graphic_dict["terra_trail_screen"]
    caves_battle_screen = graphic_dict["caves_battle_screen"]
    sub_marrow_battle_screen = graphic_dict["sub_marrow_battle_screen"]

    marrow_entrance_bg = graphic_dict["marrow_entrance_bg"]
    marrow_entrance_bg_open = graphic_dict["marrow_entrance_bg_open"]
    marrow_tower_east_bg = graphic_dict["marrow_tower_east_bg"]
    marrow_tower_west_bg = graphic_dict["marrow_tower_west_bg"]
    marrow_ramps_east_bg = graphic_dict["marrow_rampart_east_bg"]
    marrow_ramps_west_bg = graphic_dict["marrow_rampart_west_bg"]
    marrow_ramps_e_end_bg = graphic_dict["marrow_rampart_east_end_bg"]
    marrow_ramps_w_end_bg = graphic_dict["marrow_rampart_west_end_bg"]
    marrow_ramps_w_end_bg_block = graphic_dict["marrow_rampart_west_end_bg_block"]
    marrow_district_bg = graphic_dict["marrow_district_bg"]
    marrow_ramparts_battle = graphic_dict["marrow_ramparts_battle"]
    marrow_interaction_bg = graphic_dict["marrow_interaction_bg"]
    marrow_tower_battle = graphic_dict["marrow_tower_battle"]
    sub_marrow_bg = graphic_dict["sub_marrow_bg"]
    castle_one_bg = graphic_dict["castle_one_bg"]
    castle_one_roped_bg = graphic_dict["castle_one_roped_bg"]
    castle_one_keyed_bg = graphic_dict["castle_one_keyed_bg"]
    castle_two_bg = graphic_dict["castle_two_bg"]
    castle_two_roped_bg = graphic_dict["castle_two_roped_bg"]
    castle_three_bg = graphic_dict["castle_three_bg"]
    castle_three_roped_bg = graphic_dict["castle_three_roped_bg"]
    castle_lair_bg = graphic_dict["castle_lair_bg"]
    castle_lair_zero_bg = graphic_dict["castle_lair_zero_bg"]
    castle_lair_one_bg = graphic_dict["castle_lair_one_bg"]
    castle_lair_two_bg = graphic_dict["castle_lair_two_bg"]
    caldera_bg = graphic_dict["caldera_bg"]

    cat_card_portrait = graphic_dict["all_cats_pet_card"]
    trading_deck_window = graphic_dict["trading_deck"]

    # cutscenes --------------------------------------------------------------------------------------------------------
    apothis_scene_1 = graphic_dict["apothis_1"]
    apothis_scene_2 = graphic_dict["apothis_2"]
    apothis_scene_3 = graphic_dict["apothis_3"]
    apothis_scene_4 = graphic_dict["apothis_4"]
    apothis_scene_5 = graphic_dict["apothis_5"]
    apothis_scene_6 = graphic_dict["apothis_6"]

    apothis_scene_1_night = graphic_dict["apothis_1_night"]
    apothis_scene_2_night = graphic_dict["apothis_2_night"]
    apothis_scene_3_night = graphic_dict["apothis_3_night"]
    apothis_scene_4_night = graphic_dict["apothis_4_night"]
    apothis_scene_5_night = graphic_dict["apothis_5_night"]
    apothis_scene_6_night = graphic_dict["apothis_6_night"]

    dreth_scene_0 = graphic_dict["dreth_0"]
    dreth_scene_1 = graphic_dict["dreth_1"]
    dreth_scene_2 = graphic_dict["dreth_2"]
    dreth_scene_3 = graphic_dict["dreth_3"]
    dreth_scene_4 = graphic_dict["dreth_4"]
    dreth_scene_5 = graphic_dict["dreth_5"]
    dreth_scene_6 = graphic_dict["dreth_6"]
    dreth_scene_7 = graphic_dict["dreth_7"]
    dreth_scene_8 = graphic_dict["dreth_8"]

    final_scene_1 = graphic_dict["final_1"]
    final_scene_2 = graphic_dict["final_2"]
    final_scene_3 = graphic_dict["final_3"]
    final_scene_4 = graphic_dict["final_4"]
    final_scene_5 = graphic_dict["final_5"]
    final_scene_6 = graphic_dict["final_6"]
    final_scene_7 = graphic_dict["final_7"]
    final_scene_8 = graphic_dict["final_8"]
    final_scene_9 = graphic_dict["final_9"]
    final_scene_10 = graphic_dict["final_10"]
    final_scene_11 = graphic_dict["final_11"]
    final_scene_12 = graphic_dict["final_12"]
    final_scene_13 = graphic_dict["final_13"]
    final_scene_14 = graphic_dict["final_14"]

    credit_scene_1 = graphic_dict["credits_1"]
    credit_scene_2 = graphic_dict["credits_2"]
    credit_scene_3 = graphic_dict["credits_3"]
    credit_scene_4 = graphic_dict["credits_4"]
    credit_scene_5 = graphic_dict["credits_5"]

    player_cutscene_overlay = UiElement("player cutscene", 800, 225, graphic_dict["amuna_cutscene"])
    player_cutscene_overlay_2 = UiElement("player cutscene 2", 300, 400, graphic_dict["amuna_cutscene_2"])

    # effects ----------------------------------------------------------------------------------------------------------
    dawn = graphic_dict["effect_dawn"]
    dawn.set_alpha(75)
    early_morning = graphic_dict["effect_early_morning"]
    early_morning.set_alpha(50)
    morning = graphic_dict["effect_morning"]
    morning.set_alpha(50)
    early_afternoon = graphic_dict["effect_early_afternoon"]
    early_afternoon.set_alpha(50)
    afternoon = graphic_dict["effect_afternoon"]
    afternoon.set_alpha(50)
    dusk = graphic_dict["effect_dusk"]
    dusk.set_alpha(75)
    night = graphic_dict["effect_night"]
    night.set_alpha(100)

    # display notifications --------------------------------------------------------------------------------------------
    knowledge_academia = Notification("knowledge academia notification", False, 510, 365,
                                      graphic_dict["knowledge_popup"])
    rest_recover = Notification("rest recover", False, 510, 365, graphic_dict["health_popup"])
    outpost_notify = Notification("outpost notify", False, 510, 365, graphic_dict["outpost_popup"])
    save_check = Notification("save check", False, 510, 365, graphic_dict["save_popup"])
    save_absent = Notification("save absent", False, 640, 568, graphic_dict["save_not_found"])
    first_quest = Notification("first quest", False, 510, 365, graphic_dict["quest_popup"])
    dreth_taunt_popup = Notification("dreth taunt", False, 510, 365, graphic_dict["dreth_taunt_1"])
    card_drop_popup = Notification("card popup", False, 885, 580, graphic_dict["c_snake_popup"])
    apothis_gift_popup = Notification("apothis popup", False, 510, 365, graphic_dict["apothis_popup"])
    cloaked_popup = Notification("cloaked popup", False, 510, 365, graphic_dict["cloaked_popup"])
    condition_popup = Notification("condition popup", False, 510, 365, graphic_dict["condition_popup"])
    pet_popup = Notification("pet popup", False, 510, 365, graphic_dict["pet_popup"])
    # weapons
    staff = UiElement("staff", 1080, 283, graphic_dict["staff_0"])
    sword = UiElement("sword", 1155, 283, graphic_dict["sword_0"])
    bow = UiElement("bow", 1230, 283, graphic_dict["bow_0"])
    # armor
    basic_armor = Item("basic armor", "armor", 1078, 197, graphic_dict["basic_armor"], 1)
    forged_armor = Item("forged armor", "armor", 1078, 197, graphic_dict["forged_armor"], 2)
    mythical_armor = Item("mythical armor", "armor", 1078, 197, graphic_dict["mythical_armor"], 3)
    legendary_armor = Item("legendary armor", "armor", 1078, 197, graphic_dict["legendary_armor"], 4)
    # equipment items
    power_gloves = Item("power gloves", "gloves", 1153, 197, graphic_dict["gloves"], 0)
    chroma_boots = Item("chroma boots", "boots", 1200, 197, graphic_dict["gloves"], 0)
    neras_grace = Item("nera trinket", "trinket", 1178, 25, graphic_dict["nera's_grace"], 0)
    arens_strength = Item("aren trinket", "trinket", 1216, 25, graphic_dict["aren's_strength"], 0)
    spirit_of_wisdom = Item("spirit trinket", "trinket", 1254, 25, graphic_dict["wisdom's_spirit"], 0)

    # character selection
    amuna_male_character = UiElement("amuna character", 640, 360, graphic_dict["amuna_male_character_img"])
    amuna_female_character = UiElement("amuna character", 640, 360, graphic_dict["amuna_female_character_img"])
    nuldar_male_character = UiElement("nuldar character", 640, 360, graphic_dict["nuldar_male_character_img"])
    nuldar_female_character = UiElement("nuldar character", 640, 360, graphic_dict["nuldar_female_character_img"])
    sorae_a_character = UiElement("sorae character", 640, 360, graphic_dict["sorae_a_character_img"])
    sorae_b_character = UiElement("sorae character", 640, 360, graphic_dict["sorae_b_character_img"])

    # default player
    player = PlayerAmuna("stan", "amuna", "male", "",  # name, race, role
                         [],  # inventory
                         {"weapon": "", "armor": "", "gloves": "", "boots": "",
                          "trinket 1": "", "trinket 2": "", "trinket 3": ""},
                         {"sneaky snakes": "Speak to Garan to start this quest.",
                          "village repairs": "Speak to Maurelle to start this quest.",
                          "where's nede?": "Speak to Celeste to start this quest.",
                          "ghouled again": "Speak to the gate Guard to start this quest.",
                          "band hammer": "Speak to Voruke to start this quest.",
                          "elementary elementals": "Speak to Zerah to start this quest.",
                          "can't apothecary it": "Speak to the apothecary owner to start this quest.",
                          "it's dangerous to go alone": "Speak to Dionte to start this quest.",
                          "kart troubles": "Speak to Omoku to start this quest.",
                          "las escondidas": "Speak to Leyre to start this quest.",
                          "hatch 'em all": "Speak to the menagerie owner to start this quest.",
                          "shades of fear": "Speak to Everett to start this quest.",
                          "welcome to consona": "Speak to Kuba to start this quest.",
                          "disenchanted": "Speak to Nahun to start this quest.",
                          "madness in marrow": "Speak to Illisare to start this quest.",
                          "re recycling": "Speak with Roroc to start this quest. "},
                         {"sneaky snakes": 0, "village repairs": 0, "where's nede?": 0, "ghouled again": 0,
                          "band hammer": 0, "elementary elementals": 0, "can't apothecary it": 0,
                          "it's dangerous to go alone": 0, "kart troubles": 0, "las escondidas": 0, "hatch 'em all": 0,
                          "shades of fear": 0, "welcome to consona": 0, "disenchanted": 0, "madness in marrow": 0,
                          "re recycling": 0},
                         {"sneaky snakes": False, "village repairs": False, "where's nede?": False,
                          "ghouled again": False, "band hammer": False, "elementary elementals": False,
                          "can't apothecary it": False, "it's dangerous to go alone": False, "kart troubles": False,
                          "las escondidas": False, "hatch 'em all": False, "shades of fear": False,
                          "welcome to consona": False, "disenchanted": False, "madness in marrow": False,
                          "re recycling": False},
                         {"sneaky snakes": False, "village repairs": False, "where's nede?": False,
                          "ghouled again": False, "band hammer": False, "elementary elementals": False,
                          "can't apothecary it": False, "it's dangerous to go alone": False, "kart troubles": False,
                          "las escondidas": False, "hatch 'em all": False, "shades of fear": False,
                          "welcome to consona": False, "disenchanted": False, "madness in marrow": False,
                          "re recycling": False},
                         {"mage": 0, "fighter": 0, "scout": 0},  # role knowledge ('role', 'amount')
                         {"skill 2": "", "skill 3": "", "skill 4": ""},  # mage skills
                         {"skill 2": "", "skill 3": "", "skill 4": ""},  # fighter skills
                         {"skill 2": "", "skill 3": "", "skill 4": ""},  # scout skills
                         1, 0, 100, 100,  # lvl, exp, health, energy
                         True, 0, {"amuna": 0, "nuldar": 0, "sorae": 0},  # alive, rupees, reputation
                         "", 0, 0, 0, 0, 0, [], 3, 1, 1, 1)  # zone, defence, offense, image, mage, fighter, scout lvl

    # pets: name, type, stage, energy
    pet_kasper = Pet("kasper", "scout", 1, 100, graphic_dict["kasper_down_1"], False, 0)
    pet_torok = Pet("torok", "fighter", 1, 100, graphic_dict["torok_down_1"], False, 0)
    pet_iriana = Pet("iriana", "mage", 1, 100, graphic_dict["iriana_down_1"], False, 0)
    # pet seed
    pet_seed = Item("pet seed", "seed", 1078, 197, graphic_dict["seed_img"], 1)
    pet_whistle_kasper = Item("pet whistle kasper", "whistle", 1078, 197, graphic_dict["whistle_kasper_img"], 1)
    pet_whistle_torok = Item("pet whistle torok", "whistle", 1078, 197, graphic_dict["whistle_torok_img"], 1)
    pet_whistle_iriana = Item("pet whistle iriana", "whistle", 1078, 197, graphic_dict["whistle_iriana_img"], 1)

    critter_terra = UiElement("critter terra", 940, 355, graphic_dict["critter_front"])
    critter_eldream = UiElement("critter eldream", 350, 50, graphic_dict["critter_front"])
    critter_ectrenos_1 = UiElement("critter ectrenos 1", 360, 290, graphic_dict["critter_front"])
    critter_ectrenos_2 = UiElement("critter ectrenos 2", 680, 220, graphic_dict["critter_front"])
    critter_ectrenos_3 = UiElement("critter ectrenos 3", 400, 220, graphic_dict["critter_front"])

    seed_scout_count = 0
    seed_fighter_count = 0
    seed_mage_count = 0

    # npcs: name, gender, race, role, dialog, quest, quest_description, x_coordinate, y_coordinate
    #                  alive_status, quest_complete, items, gift, image
    npc_garan = NPC("Garan", "amuna", "It's dangerous to go alone.", "sneaky snakes", "", 210, 432,
                    True, False, ["Items"], False, graphic_dict["garan_down"])
    npc_maurelle = NPC("Maurelle", "amuna", "We need help!", "village repairs", "", 745, 615,
                       True, False, ["Items"], False, graphic_dict["maurelle_down"])
    npc_celeste = NPC("Celeste", "sorae", "My pet!", "where's nede?", "", 760, 415,
                      True, False, ["Items"], False, graphic_dict["celeste_down"])
    npc_torune = NPC("Torune", "nuldar", "Onur-oh.", "ghouled again", "", 430, 120,
                     True, False, ["Items"], False, graphic_dict["torune_down"])

    npc_nahun = NPC("Nahun", "nuldar", "Onur-oh.", "Disenchanted", "", 792, 450,
                    True, False, ["Items"], False, graphic_dict["nahun_down"])
    npc_voruke = NPC("Voruke", "nuldar", "Onur-oh.", "band hammer", "", 262, 425,
                     True, False, ["Items"], False, graphic_dict["voruke_down"])
    npc_zerah = NPC("Zerah", "nuldar", "Onur-oh.", "elementary elementals", "", 652, 90,
                    True, False, ["Items"], False, graphic_dict["zerah_down"])
    npc_dionte = NPC("Dionte", "amuna", "It's dangerous to go alone.", "It's dangerous to go alone", "", 585, 100,
                     True, False, ["Items"], False, graphic_dict["dionte_down"])

    npc_illisare = NPC("Illisare", "sorae", "idk.", "Disenchanted", "", 515, 100,
                       True, False, ["Items"], False, graphic_dict["illisare_down"])
    npc_omoku = NPC("Omoku", "nuldar", "Onur-oh.", "kart troubles", "", 460, 655,
                    True, False, ["Items"], False, graphic_dict["omoku_down"])
    npc_leyre = NPC("Leyre", "sorae", "Hola.", "las escondidas", "", 682, 420,
                    True, False, ["Items"], False, graphic_dict["leyre_down"])
    npc_everett = NPC("Everett", "amuna", "shades of fear", "ayudame", "", 750, 320,
                      True, False, ["Items"], False, graphic_dict["everett_down"])

    npc_prime = NPC("prime", "nuldar", "", "", "", 130, 525, True, False, ["Items"], False, graphic_dict["prime"])
    npc_jez = NPC("jez", "nuldar", "", "", "", 265, 525, True, False, ["Items"], False, graphic_dict["jez"])

    npc_marrow_entrance = NPC("m.e.n.", "nuldar", "", "", "", 675, 152, True, False, ["Items"], False,
                              graphic_dict["entrance_npc_down"])
    npc_nascent = NPC("Kuba", "nuldar", "", "", "", 625, 120, True, False, ["Items"], False,
                      graphic_dict["nascent_npc_down"])

    npc_roroc = NPC("Roroc", "nuldar", "re recycling", "Onur-oh", "", 960, 179,
                    True, False, ["Items"], False, graphic_dict["roroc_down"])
    npc_artherian = NPC("Artherian", "amuna", "legends never die", "hail", "", 210, 450,
                        True, False, ["Items"], False, graphic_dict["artherian_down"])
    npc_noren = NPC("Noren", "sorae", "vamos vanguard", "Hola", "", 825, 375, True, False, ["Items"], False,
                    graphic_dict["noren_down"])
    npc_boro = NPC("Boro", "nuldar", "vamos vanguard", "Onur-oh", "", 580, 375, True, False, ["Items"], False,
                   graphic_dict["boro_down"])
    npc_maydria = NPC("Maydria", "amuna", "vamos", "hail", "", 825, 175, True, False, ["Items"], False,
                      graphic_dict["maydria_down"])

    npc_worker_1 = NPC("worker", "amuna", "", "", "", 618, 428, True, False, ["Items"], False,
                       graphic_dict["worker_1_a"])
    npc_worker_2 = NPC("worker", "nuldar", "", "", "", 485, 400, True, False, ["Items"], False,
                       graphic_dict["worker_2_full"])

    npc_amuna_shopkeeper = Shopkeeper("amuna shopkeeper", "amuna", [
        Item("basic armor", "armor", 1078, 197, graphic_dict["basic_armor"], 1),
        Item("seldon firework", "firework", 200, 200, graphic_dict["seldon_firework"], 0),
        Item("seldon bait", "bait", 200, 200, graphic_dict["seldon_bait"], 0),
        Item("nera trinket", "trinket", 200, 200, graphic_dict["nera's_grace"], 0),
        Item("small health potion", "potion", 200, 200, graphic_dict["small_health_pot_img"], 0),
        Item("small energy potion", "potion", 200, 200, graphic_dict["small_energy_pot_img"], 0),
        Item("cure poison potion", "potion", 200, 200, graphic_dict["poison_cure"], 0),
        Item("cure burn potion", "potion", 200, 200, graphic_dict["burn_cure"], 0),
        Item("bandage wrap", "wrap", 200, 200, graphic_dict["bandage_wrap"], 0),
        Item("brace", "brace", 200, 200, graphic_dict["brace"], 0),
        Item("pet cookie", "cookie", 1078, 197, graphic_dict["pet_cookie_img"], 1)])

    npc_nuldar_shopkeeper = Shopkeeper("nuldar shopkeeper", "nuldar", [
        Item("forged armor", "armor", 1078, 197, graphic_dict["forged_armor"], 2),
        Item("korlok firework", "firework", 200, 200, graphic_dict["korlok_firework"], 0),
        Item("korlok bait", "bait", 200, 200, graphic_dict["korlok_bait"], 0),
        Item("aren trinket", "trinket", 200, 200, graphic_dict["aren's_strength"], 0),
        Item("small health potion", "potion", 200, 200, graphic_dict["small_health_pot_img"], 0),
        Item("small energy potion", "potion", 200, 200, graphic_dict["small_energy_pot_img"], 0),
        Item("cure poison potion", "potion", 200, 200, graphic_dict["poison_cure"], 0),
        Item("cure burn potion", "potion", 200, 200, graphic_dict["burn_cure"], 0),
        Item("bandage wrap", "wrap", 200, 200, graphic_dict["bandage_wrap"], 0),
        Item("brace", "brace", 200, 200, graphic_dict["brace"], 0),
        Item("pet candy", "candy", 1078, 197, graphic_dict["pet_candy_img"], 1)])

    npc_sorae_shopkeeper = Shopkeeper("sorae shopkeeper", "amuna", [
        Item("mythical armor", "armor", 1078, 197, graphic_dict["mythical_armor"], 2),
        Item("eldream firework", "firework", 200, 200, graphic_dict["eldream_firework"], 0),
        Item("eldream bait", "bait", 200, 200, graphic_dict["eldream_bait"], 0),
        Item("spirit trinket", "trinket", 200, 200, graphic_dict["wisdom's_spirit"], 0),
        Item("small health potion", "potion", 200, 200, graphic_dict["small_health_pot_img"], 0),
        Item("small energy potion", "potion", 200, 200, graphic_dict["small_energy_pot_img"], 0),
        Item("cure poison potion", "potion", 200, 200, graphic_dict["poison_cure"], 0),
        Item("cure burn potion", "potion", 200, 200, graphic_dict["burn_cure"], 0),
        Item("bandage wrap", "wrap", 200, 200, graphic_dict["bandage_wrap"], 0),
        Item("brace", "brace", 200, 200, graphic_dict["brace"], 0),
        Item("pet tart", "tart", 1078, 197, graphic_dict["pet_tart_img"], 1)])

    npc_garan_interaction = UiElement("garan interaction", 680, 340, graphic_dict["garan_interaction"])
    npc_maurelle_interaction = UiElement("maurelle interaction", 674, 330, graphic_dict["maurelle_interaction"])
    npc_celeste_interaction = UiElement("celeste interaction", 678, 335, graphic_dict["celeste_interaction"])
    npc_torune_interaction = UiElement("torune interaction", 672, 338, graphic_dict["torune_interaction"])
    npc_voruke_interaction = UiElement("voruke interaction", 677, 325, graphic_dict["voruke_interaction"])
    npc_zerah_interaction = UiElement("zerah interaction", 680, 325, graphic_dict["zerah_interaction"])
    npc_dionte_interaction = UiElement("dionte interaction", 678, 340, graphic_dict["dionte_interaction"])
    npc_omoku_interaction = UiElement("omoku interaction", 608, 345, graphic_dict["omoku_interaction"])
    npc_leyre_interaction = UiElement("leyre interaction", 680, 340, graphic_dict["leyre_interaction"])
    npc_everett_interaction = UiElement("everett interaction", 680, 335, graphic_dict["everett_interaction"])
    npc_artherian_interaction = UiElement("artherian interaction", 675, 335, graphic_dict["artherian_interaction"])
    npc_maydria_interaction = UiElement("maydria interaction", 675, 320, graphic_dict["maydria_interaction"])
    npc_kuba_interaction = UiElement("kuba interaction", 676, 345, graphic_dict["kuba_interaction"])
    npc_nahun_interaction = UiElement("nahun interaction", 678, 335, graphic_dict["nahun_interaction"])
    npc_illisare_interaction = UiElement("illisare interaction", 676, 340, graphic_dict["illisare_interaction"])
    npc_roroc_interaction = UiElement("roroc interaction", 678, 340, graphic_dict["roroc_interaction"])

    # enemies: kind, health, energy, level, x_coordinate, y_coordinate, alive_status, items, image, color, health bar
    # seldon enemies ---------------------------------------------------------------------------------------------------
    snake_1 = Enemy("Snake", "snake", 100, 100, 2, 100, 130, True,
                    Item("shiny rock", "rock", 200, 200, graphic_dict["shiny_rock_img"], 0),
                    graphic_dict["snake"], UiElement("snake hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    snake_2 = Enemy("Snake", "snake", 100, 100, 1, 285, 150, True,
                    Item("shiny rock", "rock", 200, 200, graphic_dict["shiny_rock_img"], 0),
                    graphic_dict["snake"], UiElement("snake hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    snake_3 = Enemy("Snake", "snake", 100, 100, 1, 100, 230, True,
                    Item("shiny rock", "rock", 200, 200, graphic_dict["shiny_rock_img"], 0),
                    graphic_dict["snake"], UiElement("snake hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    snake_4 = Enemy("Snake", "snake", 100, 100, 1, 285, 250, True,
                    Item("shiny rock", "rock", 200, 200, graphic_dict["shiny_rock_img"], 0),
                    graphic_dict["snake"], UiElement("snake hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    ghoul_low_1 = Enemy("Ghoul", "ghoul", 100, 100, 3, 665, 180, True,
                        Item("bone dust", "dust", 200, 200, graphic_dict["bone_dust_img"], 0),
                        graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_low_2 = Enemy("Ghoul", "ghoul", 100, 100, 4, 800, 130, True,
                        Item("bone dust", "dust", 200, 200, graphic_dict["bone_dust_img"], 0),
                        graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_low_3 = Enemy("Ghoul", "ghoul", 100, 100, 3, 760, 240, True,
                        Item("bone dust", "dust", 200, 200, graphic_dict["bone_dust_img"], 0),
                        graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_low_4 = Enemy("Ghoul", "ghoul", 100, 100, 3, 890, 205, True,
                        Item("bone dust", "dust", 200, 200, graphic_dict["bone_dust_img"], 0),
                        graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_nede = Enemy("Ghoul", "nede ghoul", 100, 100, 3, 450, 455, True,
                       Item("bone dust", "dust", 200, 200, graphic_dict["bone_dust_img"], 0),
                       graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_ramps = Enemy("ramps ghoul", "ghoul", 100, 100, 3, 175, 200, True, "item",
                        graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_ramps_2 = Enemy("ramps ghoul 2", "ghoul", 100, 100, 3, 925, 200, True, "item",
                          graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_high_1 = Enemy("Ghoul", "ghoul", 100, 100, 20, 220, 175, True,
                         Item("bone shard", "shard", 200, 200, graphic_dict["bone_shard"], 0),
                         graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_high_2 = Enemy("Ghoul", "ghoul", 100, 100, 21, 330, 135, True,
                         Item("bone shard", "shard", 200, 200, graphic_dict["bone_shard"], 0),
                         graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_high_3 = Enemy("Ghoul", "ghoul", 100, 100, 22, 430, 200, True,
                         Item("bone shard", "shard", 200, 200, graphic_dict["bone_shard"], 0),
                         graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    ghoul_high_4 = Enemy("Ghoul", "ghoul", 100, 100, 21, 530, 150, True,
                         Item("bone shard", "shard", 200, 200, graphic_dict["bone_shard"], 0),
                         graphic_dict["ghoul"], UiElement("ghoul hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    # friendly's -------------------------------------------------------------------------------------------------------
    # classed as enemies so players can fight with them, but cannot be killed
    stelli_a = Enemy("Stellia", "stelli", 100, 100, 3, 725, 550, True, "item", graphic_dict["stelli_a"],
                     UiElement("stelli hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    stelli_b = Enemy("Stellib", "stelli", 100, 100, 3, 805, 140, True, "item", graphic_dict["stelli_b"],
                     UiElement("stelli hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    stelli_c = Enemy("Stellic", "stelli", 100, 100, 3, 305, 425, True, "item", graphic_dict["stelli_c"],
                     UiElement("stelli hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    # reservoir enemies ------------------------------------------------------------------------------------------------
    chorizon_1 = Enemy("Chorizon", "chorizon_1", 100, 100, 7, 150, 230, True, "item", graphic_dict["chorizon"],
                       UiElement("chorizon hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    chorizon_2 = Enemy("Chorizon", "chorizon_2", 100, 100, 7, 870, 230, True, "item", graphic_dict["chorizon"],
                       UiElement("chorizon hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    muchador = Enemy("Muchador", "muchador", 100, 100, 10, 350, 360, True, "item", graphic_dict["muchador_dark"],
                     UiElement("muchador hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    # korlok enemies ---------------------------------------------------------------------------------------------------
    magmon_1 = Enemy("Magmon", "magmon", 100, 100, 9, 125, 135, True,
                     Item("cracked ember", "ember", 200, 200, graphic_dict["ember"], 0),
                     graphic_dict["magmon"], UiElement("magmon hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    magmon_2 = Enemy("Magmon", "magmon", 100, 100, 11, 375, 125, True,
                     Item("cracked ember", "ember", 200, 200, graphic_dict["ember"], 0),
                     graphic_dict["magmon"], UiElement("magmon hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    magmon_3 = Enemy("Magmon", "magmon", 100, 100, 10, 200, 197, True,
                     Item("cracked ember", "ember", 200, 200, graphic_dict["ember"], 0),
                     graphic_dict["magmon"], UiElement("magmon hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    magmon_4 = Enemy("Magmon", "magmon", 100, 100, 9, 320, 197, True,
                     Item("cracked ember", "ember", 200, 200, graphic_dict["ember"], 0),
                     graphic_dict["magmon"], UiElement("magmon hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    bandile_1 = Enemy("Bandile", "bandile", 100, 100, 8, 655, 245, True,
                      Item("broken band", "band", 200, 200, graphic_dict["band"], 0),
                      graphic_dict["bandile"], UiElement("bandile hp bar", 700, 90, graphic_dict["hp_100"]),
                      "fighter")
    bandile_2 = Enemy("Bandile", "bandile", 100, 100, 9, 765, 165, True,
                      Item("broken band", "band", 200, 200, graphic_dict["band"], 0),
                      graphic_dict["bandile"], UiElement("bandile hp bar", 700, 90, graphic_dict["hp_100"]),
                      "fighter")
    bandile_3 = Enemy("Bandile", "bandile", 100, 100, 7, 765, 335, True,
                      Item("broken band", "band", 200, 200, graphic_dict["band"], 0),
                      graphic_dict["bandile"], UiElement("bandile hp bar", 700, 90, graphic_dict["hp_100"]),
                      "fighter")
    bandile_4 = Enemy("Bandile", "bandile", 100, 100, 8, 880, 245, True,
                      Item("broken band", "band", 200, 200, graphic_dict["band"], 0),
                      graphic_dict["bandile"], UiElement("bandile hp bar", 700, 90, graphic_dict["hp_100"]),
                      "fighter")
    # terra cave enemy -------------------------------------------------------------------------------------------------
    chinzilla = Enemy("Chinzilla", "chinzilla", 100, 100, 15, 350, 360, True, "item", graphic_dict["chinzilla"],
                      UiElement("chinzilla hp bar", 700, 90, graphic_dict["hp_100"]), "scout")

    # eldream enemies --------------------------------------------------------------------------------------------------
    osodark_1 = Enemy("Osodark", "osodark", 100, 100, 16, 625, 225, True,
                      Item("dried fins", "fins", 200, 200, graphic_dict["fins_img"], 0),
                      graphic_dict["osodark"], UiElement("osodark hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    osodark_2 = Enemy("Osodark", "osodark", 100, 100, 17, 250, 250, True,
                      Item("dried fins", "fins", 200, 200, graphic_dict["fins_img"], 0),
                      graphic_dict["osodark"], UiElement("osodark hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    osodark_3 = Enemy("Osodark", "osodark", 100, 100, 17, 750, 250, True,
                      Item("dried fins", "fins", 200, 200, graphic_dict["fins_img"], 0),
                      graphic_dict["osodark"], UiElement("osodark hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    osodark_4 = Enemy("Osodark", "osodark", 100, 100, 18, 375, 280, True,
                      Item("dried fins", "fins", 200, 200, graphic_dict["fins_img"], 0),
                      graphic_dict["osodark"], UiElement("osodark hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    necrola_1 = Enemy("Necrola", "necrola", 100, 100, 13, 230, 425, True,
                      Item("oscura pluma", "pluma", 200, 200, graphic_dict["pluma_img"], 0),
                      graphic_dict["necrola"], UiElement("necrola hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    necrola_2 = Enemy("Necrola", "necrola", 100, 100, 14, 385, 490, True,
                      Item("oscura pluma", "pluma", 200, 200, graphic_dict["pluma_img"], 0),
                      graphic_dict["necrola"], UiElement("necrola hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    necrola_3 = Enemy("Necrola", "necrola", 100, 100, 13, 460, 365, True,
                      Item("oscura pluma", "pluma", 200, 200, graphic_dict["pluma_img"], 0),
                      graphic_dict["necrola"], UiElement("necrola hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    necrola_4 = Enemy("Necrola", "necrola", 100, 100, 15, 618, 425, True,
                      Item("oscura pluma", "pluma", 200, 200, graphic_dict["pluma_img"], 0),
                      graphic_dict["necrola"], UiElement("necrola hp bar", 700, 90, graphic_dict["hp_100"]), "scout")
    # marrow enemies ---------------------------------------------------------------------------------------------------
    erebyth = Enemy("Erebyth", "erebyth", 100, 100, 26, 575, 450, True, "item", graphic_dict["erebyth"],
                    UiElement("erebyth hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    apothis = Enemy("Apothis", "apothis", 100, 100, 75, 575, 450, True, "item", graphic_dict["apothis_back"],
                    UiElement("apothis hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    necrola_ramps_1 = Enemy("Necrola", "necrola", 100, 100, 21, 198, 360, True,
                            Item("oscura pluma", "pluma", 200, 200, graphic_dict["pluma_img"], 0),
                            graphic_dict["necrola_sleep"], UiElement("necrola hp bar", 700, 90, graphic_dict["hp_100"]),
                            "scout")
    necrola_rect_1 = pygame.Rect((25, 360), (150, 100))
    necrola_ramps_2 = Enemy("Necrola", "necrola", 100, 100, 21, 835, 360, True,
                            Item("oscura pluma", "pluma", 200, 200, graphic_dict["pluma_img"], 0),
                            graphic_dict["necrola_sleep"], UiElement("necrola hp bar", 700, 90, graphic_dict["hp_100"]),
                            "scout")
    necrola_rect_2 = pygame.Rect((865, 300), (150, 50))
    necrola_ramps_3 = Enemy("Necrola", "necrola", 100, 100, 20, 514, 140, True,
                            Item("oscura pluma", "pluma", 200, 200, graphic_dict["pluma_img"], 0),
                            graphic_dict["necrola_sleep"], UiElement("necrola hp bar", 700, 90, graphic_dict["hp_100"]),
                            "scout")
    necrola_rect_3 = pygame.Rect((514, 0), (50, 100))
    atmon_1 = Enemy("Atmon", "atmon", 100, 100, 22, 250, 150, True,
                    Item("prism", "prism", 200, 200, graphic_dict["prism"], 0),
                    graphic_dict["atmon"], UiElement("atmon hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    atmon_1.surf.set_alpha(50)
    atmon_2 = Enemy("Atmon", "atmon", 100, 100, 24, 800, 150, True,
                    Item("prism", "prism", 200, 200, graphic_dict["prism"], 0),
                    graphic_dict["atmon"], UiElement("atmon hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    atmon_2.surf.set_alpha(50)
    atmon_3 = Enemy("Atmon", "atmon", 100, 100, 22, 190, 350, True,
                    Item("prism", "prism", 200, 200, graphic_dict["prism"], 0),
                    graphic_dict["atmon"], UiElement("atmon hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    atmon_3.surf.set_alpha(50)
    atmon_4 = Enemy("Atmon", "atmon", 100, 100, 24, 500, 250, True,
                    Item("prism", "prism", 200, 200, graphic_dict["prism"], 0),
                    graphic_dict["atmon"], UiElement("atmon hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    atmon_4.surf.set_alpha(50)

    # castle enemies ---------------------------------------------------------------------------------------------------
    atmon_castle = Enemy("Atmon", "atmon castle", 100, 100, 26, 350, 275, True, "item",
                         graphic_dict["atmon"], UiElement("atmon hp bar", 700, 90, graphic_dict["hp_100"]), "mage")
    atmon_castle.surf.set_alpha(50)

    jumano_1 = Enemy("Jumano", "jumano", 100, 100, 25, 200, 200, True,
                     Item("marrow bait", "bait", 200, 200, graphic_dict["marrow_bait"], 0),
                     graphic_dict["jumano"], UiElement("jumano hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    jumano_2 = Enemy("Jumano", "jumano", 100, 100, 27, 825, 200, True,
                     Item("marrow bait", "bait", 200, 200, graphic_dict["marrow_bait"], 0),
                     graphic_dict["jumano"], UiElement("jumano hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    jumano_3 = Enemy("Jumano", "jumano", 100, 100, 26, 320, 325, True,
                     Item("marrow bait", "bait", 200, 200, graphic_dict["marrow_bait"], 0),
                     graphic_dict["jumano"], UiElement("jumano hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")
    jumano_4 = Enemy("Jumano", "jumano", 100, 100, 25, 700, 325, True,
                     Item("marrow bait", "bait", 200, 200, graphic_dict["marrow_bait"], 0),
                     graphic_dict["jumano"], UiElement("jumano hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")

    jumano_hall = Enemy("Jumano", "jumano", 100, 100, 28, 910, 250, True,
                        Item("marrow bait", "bait", 200, 200, graphic_dict["marrow_bait"], 0),
                        graphic_dict["jumano"], UiElement("jumano hp bar", 700, 90, graphic_dict["hp_100"]), "fighter")

    dreth = Enemy("Dreth", "dreth", 100, 100, 35, 518, 520, True, "item", graphic_dict["sprite_dreth"],
                  UiElement("dreth hp bar", 700, 90, graphic_dict["hp_100"]), "mage")

    seldon_inn = Building("Inn", "seldon inn", 635, 600, graphic_dict["amuna_inn_building"])
    seldon_shop = Building("Shop", "seldon shop", 665, 400, graphic_dict["amuna_shop_building"])
    seldon_academia = Building("Academia", "seldon academia", 875, 440, graphic_dict["amuna_academia_building"])
    amuna_building_top_1 = UiElement("building top", 635, 572, graphic_dict["amuna_building_top"])
    amuna_building_top_2 = UiElement("building top", 665, 372, graphic_dict["amuna_building_top"])
    amuna_building_top_3 = UiElement("building top", 875, 412, graphic_dict["amuna_building_top"])

    korlok_inn = Building("Inn", "korlok inn", 895, 365, graphic_dict["nuldar_inn_building"])
    korlok_shop = Building("Shop", "korlok shop", 675, 390, graphic_dict["nuldar_shop_building"])
    korlok_herb = Building("Apothecary", "korlok apothecary", 745, 240, graphic_dict["nuldar_herb_building"])
    nuldar_building_top_1 = UiElement("building top", 896, 365, graphic_dict["nuldar_building_top"])
    nuldar_building_top_2 = UiElement("building top", 677, 390, graphic_dict["nuldar_building_top"])
    nuldar_building_top_3 = UiElement("building top", 746, 240, graphic_dict["nuldar_building_top"])
    mines_entrance = Building("entrance", "mines entrance", 430, 375, graphic_dict["mines_entrance"])
    forge_entrance = Building("entrance", "forge entrance", 500, 125, graphic_dict["mines_entrance"])
    altar_entrance = Building("entrance", "altar entrance", 150, 390, graphic_dict["mines_entrance"])

    mines_ore_1 = Item("Mines ore", "ore", 125, 230, graphic_dict["sprite_ore_img"], 0)
    mines_ore_2 = Item("Mines ore", "ore", 200, 230, graphic_dict["sprite_ore_img"], 0)
    mines_ore_3 = Item("Mines ore", "ore", 275, 230, graphic_dict["sprite_ore_img"], 0)
    mines_ore_4 = Item("Mines ore", "ore", 275, 150, graphic_dict["sprite_ore_img"], 0)

    construct_part_1 = Item("Construct part", "part", 700, 460, graphic_dict["construct_part"], 0)
    construct_part_2 = Item("Construct part", "part", 560, 50, graphic_dict["construct_part"], 0)
    construct_part_3 = Item("Construct part", "part", 335, 460, graphic_dict["construct_part"], 0)
    construct_part_4 = Item("Construct part", "part", 472, 50, graphic_dict["construct_part"], 0)

    hearth_stone_seldon = Building("hearth", "seldon hearth", 860, 595, graphic_dict["hearth_stone"])
    hearth_stone_korlok = Building("hearth", "korlok hearth", 885, 230, graphic_dict["hearth_stone"])
    hearth_stone_eldream = Building("hearth", "eldream hearth", 968, 595, graphic_dict["hearth_stone"])
    hearth_stone_marrow = Building("hearth", "marrow hearth", 960, 350, graphic_dict["hearth_stone"])

    castle_bridge = UiElement("castle bridge", 710, 486, graphic_dict["castle_bridge_unfinished"])

    stardust_entrance = Building("Shop", "Stardust Post", 530, 325, graphic_dict["stardust_entrance"])
    rohir_gate = Building("Korlok", "rohir gate", 525, 50, graphic_dict["rohir_gate"])
    nascent_gate = Building("gate", "nascent gate", 418, 262, graphic_dict["nascent_gate_closed"])

    dungeon_entrance = Building("Entrance", "dungeon entrance", 35, 350, graphic_dict["dungeon_entrance"])
    dungeon_wall_1 = Building("wall", "dungeon wall 1", 347, 450, graphic_dict["dungeon_wall_1"])
    dungeon_wall_2 = Building("wall", "dungeon wall 2", 308, 368, graphic_dict["dungeon_wall_2"])
    dungeon_wall_3 = Building("wall", "dungeon wall 3", 682, 450, graphic_dict["dungeon_wall_1"])
    dungeon_wall_4 = Building("wall", "dungeon wall 4", 720, 368, graphic_dict["dungeon_wall_2"])

    korlok_interaction_snowfall = UiElement("korlok snowfall", 238, 156, graphic_dict["korlok_snowfall_1"])

    location_overlay = UiElement("location overlay", 915, 28, graphic_dict["location_overlay"])
    character_select_overlay = UiElement("character select overlay", 640, 365, graphic_dict["char_select_overlay"])
    amuna_select_overlay = UiElement("amuna select overlay", 1140, 305, graphic_dict["amuna_overlay_img"])
    nuldar_select_overlay = UiElement("nuldar select overlay", 1140, 305, graphic_dict["nuldar_overlay_img"])
    sorae_select_overlay = UiElement("sorae select overlay", 1140, 305, graphic_dict["sorae_overlay_img"])
    name_input = UiElement("name input", 640, 585, graphic_dict["name_input_img"])
    mini_map_overlay = UiElement("mini map", 915, 596, graphic_dict["marrow_mini_map"])

    equipment_screen = UiElement("equipment screen", 1155, 360, graphic_dict["equipment_screen"])
    offense_meter = UiElement("offense meter", 1200, 81, graphic_dict["offense_defense_0"])
    defense_meter = UiElement("defense meter", 1200, 117, graphic_dict["offense_defense_0"])
    weapon_select = UiElement("weapon select", 1079, 284, graphic_dict["weapon_select"])

    character_button = UiElement("character button", 860, 680, graphic_dict["character_button_img"])
    quests_button = UiElement("quests button", 970, 680, graphic_dict["journal_button_img"])
    new_game_button = UiElement("new game button", 639, 414, graphic_dict["new_game_img"])
    continue_button = UiElement("continue button", 639, 506, graphic_dict["continue_img"])

    amuna_button = UiElement("amuna button", 70, 245, graphic_dict["amuna_button_img"])
    nuldar_button = UiElement("nuldar button", 70, 340, graphic_dict["nuldar_button_img"])
    sorae_button = UiElement("sorae button", 68, 435, graphic_dict["sorae_button_img"])

    amuna_male_button = UiElement("amuna male button", 178, 245, graphic_dict["male_button_img"])
    amuna_female_button = UiElement("amuna female button", 252, 245, graphic_dict["female_button_img"])
    nuldar_male_button = UiElement("nuldar male button", 178, 340, graphic_dict["male_button_img"])
    nuldar_female_button = UiElement("nuldar female button", 252, 340, graphic_dict["female_button_img"])
    sorae_alpha_button = UiElement("sorae a button", 179, 435, graphic_dict["alpha_button_img"])
    sorae_beta_button = UiElement("sorae b button", 253, 435, graphic_dict["beta_button_img"])

    start_button = UiElement("start button", 640, 660, graphic_dict["start_button"])
    lets_go_button = UiElement("lets go button", 625, 575, graphic_dict["lets_go_button"])
    buy_button = UiElement("buy button", 860, 680, graphic_dict["buy_button_img"])
    upgrade_button = UiElement("upgrade button", 860, 680, graphic_dict["upgrade_button_img"])
    leave_button = UiElement("leave button", 970, 680, graphic_dict["leave_button_img"])
    rest_button = UiElement("rest button", 860, 680, graphic_dict["rest_button_img"])
    mage_learn_button = UiElement("mage learn button", 763, 250, graphic_dict["learn_button"])
    fighter_learn_button = UiElement("fighter learn button", 303, 330, graphic_dict["learn_button"])
    scout_learn_button = UiElement("scout learn button", 560, 410, graphic_dict["learn_button"])
    barrier_learn_button = UiElement("barrier learn button", 505, 305, graphic_dict["skill_learn_button"])
    hard_strike_learn_button = UiElement("hard strike learn button", 505, 305, graphic_dict["skill_learn_button"])
    sharp_sense_learn_button = UiElement("sharp sense learn button", 505, 305, graphic_dict["skill_learn_button"])
    mirror_learn_button = UiElement("mirror learn button", 505, 508, graphic_dict["skill_learn_button"])
    stun_learn_button = UiElement("stun learn button", 505, 508, graphic_dict["skill_learn_button"])
    vanish_learn_button = UiElement("vanish learn button", 505, 508, graphic_dict["skill_learn_button"])
    fire_learn_button = UiElement("fire learn button", 835, 508, graphic_dict["skill_learn_button"])
    edge_learn_button = UiElement("edge learn button", 675, 508, graphic_dict["skill_learn_button"])
    arrow_learn_button = UiElement("arrow learn button", 675, 508, graphic_dict["skill_learn_button"])
    close_button = UiElement("close button", 975, 135, graphic_dict["close_button"])
    quest_button = UiElement("quest button", 860, 680, graphic_dict["quest_button_img"])
    accept_button = UiElement("accept button", 340, 670, graphic_dict["accept_button_img"])
    decline_button = UiElement("decline button", 450, 670, graphic_dict["decline_button_img"])
    map_button = UiElement("map button", 860, 60, graphic_dict["map_button_img"])
    save_button = UiElement("save button", 970, 60, graphic_dict["save_button_img"])
    yes_button = UiElement("yes button", 450, 394, graphic_dict["yes_button_img"])
    ok_button = UiElement("ok button", 960, 605, graphic_dict["ok_button_img"])
    no_button = UiElement("no button", 564, 394, graphic_dict["no_button_img"])
    back_button = UiElement("back button", 75, 665, graphic_dict["back_button_img"])
    item_info_button = UiElement("item info button", 1153, 345, graphic_dict["use_button_img"])
    offense_select_button = UiElement("offense select", 764, 586, graphic_dict["offense_select_button_img"])
    skip_button = UiElement("skip button", 1212, 680, graphic_dict["skip_button_img"])
    potions_button = UiElement("potions button", 860, 680, graphic_dict["potions_button_img"])
    create_potion_button = UiElement("create potion", 435, 475, graphic_dict["create_potion_img"])
    potion_mix_overlay = UiElement("potion mix overlay", 150, 475, graphic_dict["apothecary_empty_potion"])
    pets_button = UiElement("potions button", 860, 680, graphic_dict["manage_pets_img"])
    kasper_manage_button = UiElement("kasper manage", 145, 460, graphic_dict["start_seed_button"])
    torok_manage_button = UiElement("torok manage", 415, 460, graphic_dict["start_seed_button"])
    iriana_manage_button = UiElement("iriana manage", 685, 460, graphic_dict["start_seed_button"])
    music_toggle_button = UiElement("music toggle", 1235, 44, graphic_dict["music_button"])
    fish_button = UiElement("fish button", 860, 680, graphic_dict["fish_button_img"])
    trade_button = UiElement("card button", 860, 680, graphic_dict["trade_button_img"])
    trade_snake = UiElement("trade snake", 427, 243, graphic_dict["trading_button"])
    trade_ghoul = UiElement("trade ghoul", 577, 243, graphic_dict["trading_button"])
    trade_bandile = UiElement("trade bandile", 763, 243, graphic_dict["trading_button"])
    trade_magmon = UiElement("trade magmon", 901, 243, graphic_dict["trading_button"])
    trade_necrola = UiElement("trade necrola", 427, 417, graphic_dict["trading_button"])
    trade_osodark = UiElement("trade osodark", 577, 417, graphic_dict["trading_button"])
    trade_atmon = UiElement("trade atmon", 763, 417, graphic_dict["trading_button"])
    trade_jumano = UiElement("trade jumano", 901, 417, graphic_dict["trading_button"])
    trade_chorizon = UiElement("trade chorizon", 427, 591, graphic_dict["trading_button"])
    trade_muchador = UiElement("trade muchador", 577, 591, graphic_dict["trading_button"])
    trade_chinzilla = UiElement("trade chinzilla", 763, 591, graphic_dict["trading_button"])
    trade_erebyth = UiElement("trade erebyth", 901, 591, graphic_dict["trading_button"])
    check_basic_fish_button = UiElement("check basic", 490, 140, graphic_dict["check_button_img"])
    check_better_fish_button = UiElement("check better", 490, 235, graphic_dict["check_button_img"])
    check_even_better_fish_button = UiElement("check e. better", 490, 330, graphic_dict["check_button_img"])
    check_best_fish_button = UiElement("check best", 490, 425, graphic_dict["check_button_img"])
    fishing_level_overlay = UiElement("fish level overlay", 410, 510, graphic_dict["fishing_level_0"])
    kasper_whistle_button = UiElement("kasper button", 1178, 409, graphic_dict["kasper_button"])
    torok_whistle_button = UiElement("torok button", 1216, 409, graphic_dict["torok_button"])
    iriana_whistle_button = UiElement("iriana button", 1254, 409, graphic_dict["iriana_button"])
    nera_button = UiElement("nera button", 1178, 25, graphic_dict["nera's_grace"])
    aren_button = UiElement("aren button", 1216, 25, graphic_dict["aren's_strength"])
    spirit_button = UiElement("spirit button", 1254, 25, graphic_dict["wisdom's_spirit"])
    card_deck_button = UiElement("card deck button", 775, 680, graphic_dict["card_deck_img"])
    no_role_attack_button = UiElement("no role attack button", 750, 642, graphic_dict["no_role_attack_button_img"])
    mage_attack_button = UiElement("mage attack button", 750, 642, graphic_dict["mage_attack_button_img"])
    fighter_attack_button = UiElement("fighter attack button", 750, 642, graphic_dict["fighter_attack_button_img"])
    scout_attack_button = UiElement("scout attack button", 750, 642, graphic_dict["scout_attack_button_img"])
    barrier_button = UiElement("barrier button", 820, 641, graphic_dict["barrier_button_img"])
    hard_strike_button = UiElement("hard strike button", 820, 641, graphic_dict["strike_button_img"])
    sharp_sense_button = UiElement("sharp sense button", 820, 641, graphic_dict["sense_button_img"])
    mirror_button = UiElement("mirror button", 890, 641, graphic_dict["transpose_button_img"])
    stun_button = UiElement("stun button", 890, 641, graphic_dict["stun_button_img"])
    vanish_button = UiElement("vanish button", 890, 641, graphic_dict["vanish_button_img"])
    fire_button = UiElement("fire button", 960, 641, graphic_dict["fire_button_img"])
    edge_button = UiElement("edge button", 960, 641, graphic_dict["edge_button_img"])
    arrow_button = UiElement("arrow button", 960, 641, graphic_dict["arrow_button_img"])
    seldon_quest_district_button = UiElement("seldon button", 772, 102, graphic_dict["seldon_district_button"])
    korlok_quest_district_button = UiElement("korlok button", 842, 102, graphic_dict["korlok_district_button"])
    eldream_quest_district_button = UiElement("eldream button", 912, 102, graphic_dict["eldream_district_button"])
    marrow_quest_district_button = UiElement("marrow button", 982, 102, graphic_dict["marrow_district_button"])
    district_button_select = UiElement("district select", 772, 102, graphic_dict["district_button_select"])
    pet_advance_popup = UiElement("pet advance popup", 510, 365, graphic_dict["kasper_advance_2"])

    sneaky_snake_stardust_star = UiElement("", 160, 191, graphic_dict["overlay_stardust_star"])
    village_repairs_stardust_star = UiElement("", 211, 191, graphic_dict["overlay_stardust_star"])
    where_nede_stardust_star = UiElement("", 262, 191, graphic_dict["overlay_stardust_star"])
    ghouled_again_stardust_star = UiElement("", 313, 191, graphic_dict["overlay_stardust_star"])
    welcome_to_consona_stardust_star = UiElement("", 722, 191, graphic_dict["overlay_stardust_star"])
    band_hammer_stardust_star = UiElement("", 773, 191, graphic_dict["overlay_stardust_star"])
    elementary_elementals_stardust_star = UiElement("", 824, 191, graphic_dict["overlay_stardust_star"])
    dangerous_alone_stardust_star = UiElement("", 875, 191, graphic_dict["overlay_stardust_star"])

    disenchanted_stardust_star = UiElement("", 160, 301, graphic_dict["overlay_stardust_star"])
    kart_troubles_stardust_star = UiElement("", 211, 301, graphic_dict["overlay_stardust_star"])
    las_escondidas_stardust_star = UiElement("", 262, 301, graphic_dict["overlay_stardust_star"])
    shades_of_fear_stardust_star = UiElement("", 313, 301, graphic_dict["overlay_stardust_star"])

    madness_marrow_stardust_star = UiElement("", 722, 301, graphic_dict["overlay_stardust_star"])
    vamos_vanguard_stardust_star = UiElement("", 773, 301, graphic_dict["overlay_stardust_star"])
    legends_stardust_star = UiElement("", 824, 301, graphic_dict["overlay_stardust_star"])
    re_recycling_stardust_star = UiElement("", 875, 301, graphic_dict["overlay_stardust_star"])

    stun_overlay = UiElement("stun overlay", 700, 260, graphic_dict["stun_img"])
    vanish_overlay = UiElement("vanish overlay", 100, 600, graphic_dict["vanish_img"])
    type_advantage_overlay = UiElement("type advantage overlay", 580, 48, graphic_dict["mage_type_overlay"])
    type_advantage_mini = UiElement("type advantage mini", 960, 58, graphic_dict["type advantages"])
    skill_bar = UiElement("skill bar", 855, 636, graphic_dict["skill_bar"])
    enemy_status = UiElement("enemy status", 855, 687, graphic_dict["enemy_status"])
    hp_bar = UiElement("health bar", 165, 25, graphic_dict["hp_100"])
    en_bar = UiElement("energy bar", 165, 45, graphic_dict["en_100"])
    xp_bar = UiElement("xp bar", 165, 65, graphic_dict["xp_100"])
    journal = UiElement("journal", 770, 364, graphic_dict["journal_window_img"])
    level_up_win = UiElement("level up window", 165, 132, graphic_dict["level_up_win"])
    character_sheet = UiElement("character sheet", 770, 364, graphic_dict["character_window_img"])
    mage_book = UiElement("mage book", 670, 380, graphic_dict["mage_book_img"])
    fighter_book = UiElement("fighter book", 670, 380, graphic_dict["fighter_book_img"])
    scout_book = UiElement("scout book", 670, 380, graphic_dict["scout_book_img"])
    quest_logs_1 = Item("Pine logs", "quest", 60, 540, graphic_dict["pine_logs_img"], 0)
    quest_logs_2 = Item("Pine logs", "quest", 315, 560, graphic_dict["pine_logs_img"], 0)
    quest_logs_3 = Item("Pine logs", "quest", 415, 435, graphic_dict["pine_logs_img"], 0)
    quest_logs_4 = Item("Pine logs", "quest", 100, 540, graphic_dict["pine_logs_img"], 0)
    quest_logs_pile = Item("pine log pile", "quest", 725, 600, graphic_dict["pine_logs_pile_img"], 0)
    quest_supplies_1 = Item("quest supplies", "quest", 625, 48, graphic_dict["quest_supplies"], 0)
    quest_supplies_2 = Item("quest supplies", "quest", 715, 48, graphic_dict["quest_supplies"], 0)
    quest_supplies_3 = Item("quest supplies", "quest", 188, 232, graphic_dict["quest_supplies"], 0)
    quest_supplies_4 = Item("quest supplies", "quest", 855, 618, graphic_dict["quest_supplies"], 0)
    nede = Item("nede", "quest", 650, 450, graphic_dict["nede_left"], 0)
    nede_big = UiElement("big nede", 840, 270, graphic_dict["nede_big"])
    npc_name_plate = UiElement("npc name plate", 675, 165, graphic_dict["npc_name_plate"])
    buy_inventory = Inventory("buy inventory", [], 900, 500, graphic_dict["buy_inventory"])
    knowledge_window = UiElement("knowledge window", 727, 680, graphic_dict["knowledge_window"])
    apothecary_window = UiElement("apothecary window", 297, 319, graphic_dict["apothecary_window"])
    menagerie_window = UiElement("menagerie window", 419, 296, graphic_dict["pet_window_overlay"])
    fish_window = UiElement("fish window", 297, 319, graphic_dict["fishing_journal"])
    trade_window = UiElement("trade window", 670, 368, graphic_dict["trading_window"])
    pet_hatch_window = UiElement("hatching window", 820, 440, graphic_dict["seed_hatching"])
    pet_energy_window = UiElement("pet energy", 375, 45, graphic_dict["pet_energy"])
    quest_visual = UiElement("quest visual", 500, 500, graphic_dict["pine_logs_big_img"])
    marrow_cat = UiElement("marrow cat", 470, 248, graphic_dict["marrow_cat"])
    kasper_stage_overlay = UiElement("kasper stage overlay", 149, 282, graphic_dict["pet_question"])
    torok_stage_overlay = UiElement("torok stage overlay", 419, 282, graphic_dict["pet_question"])
    iriana_stage_overlay = UiElement("iriana stage overlay", 689, 282, graphic_dict["pet_question"])

    overlay_burned = UiElement("overlay burned", 25, 89, graphic_dict["overlay_burned"])
    overlay_poisoned = UiElement("overlay poisoned", 52, 89, graphic_dict["overlay_poisoned"])
    overlay_bleeding = UiElement("overlay bleeding", 79, 89, graphic_dict["overlay_bleeding"])
    overlay_crushed = UiElement("overlay crushed", 106, 89, graphic_dict["overlay_crushed"])

    overlay_burned_desc = UiElement("overlay burned desc", 64, 141, graphic_dict["overlay_burned_description"])
    overlay_poisoned_desc = UiElement("overlay poisoned desc", 91, 141, graphic_dict["overlay_poisoned_description"])
    overlay_bleeding_desc = UiElement("overlay bleeding desc", 118, 141, graphic_dict["overlay_bleeding_description"])
    overlay_crushed_desc = UiElement("overlay crushed desc", 145, 141, graphic_dict["overlay_crushed_description"])

    overlay_burned_enemy = UiElement("overlay burned", 560, 115, graphic_dict["overlay_burned"])
    overlay_poisoned_enemy = UiElement("overlay poisoned", 587, 115, graphic_dict["overlay_poisoned"])
    overlay_bleeding_enemy = UiElement("overlay bleeding", 614, 115, graphic_dict["overlay_bleeding"])
    overlay_crushed_enemy = UiElement("overlay crushed", 641, 115, graphic_dict["overlay_crushed"])

    overlay_burned_desc_enemy = UiElement("overlay burned desc", 599, 167,
                                          graphic_dict["overlay_burned_description"])
    overlay_poisoned_desc_enemy = UiElement("overlay poisoned desc", 638, 167,
                                            graphic_dict["overlay_poisoned_description"])
    overlay_bleeding_desc_enemy = UiElement("overlay bleeding desc", 677, 167,
                                            graphic_dict["overlay_bleeding_description"])
    overlay_crushed_desc_enemy = UiElement("overlay crushed desc", 716, 167,
                                           graphic_dict["overlay_crushed_description"])

    overlay_night_sleep = UiElement("overlay sleep", 200, 500, graphic_dict["night_sleep_overlay"])

    seldon_flower_more_button = pygame.Rect((205, 225), (50, 50))
    seldon_flower_less_button = pygame.Rect((205, 290), (50, 50))
    eldream_flower_more_button = pygame.Rect((420, 225), (50, 50))
    eldream_flower_less_button = pygame.Rect((420, 290), (50, 50))

    garan_quest_window = UiElement("garan quest window", 262, 443, graphic_dict["garan_quest"])
    garan_complete_quest_window = UiElement("garan quest complete window", 550, 350, graphic_dict["garan_complete"])
    maurelle_quest_window = UiElement("maurelle quest window", 262, 443, graphic_dict["maurelle_quest"])
    maurelle_complete_quest_window = UiElement("maurelle quest complete window", 550, 350,
                                               graphic_dict["maurelle_complete"])
    celeste_quest_window = UiElement("maurelle quest window", 262, 443, graphic_dict["celeste_quest"])
    celeste_complete_quest_window = UiElement("celeste quest complete window", 550, 350,
                                              graphic_dict["celeste_complete"])
    torune_quest_window = UiElement("torune quest window", 262, 443, graphic_dict["torune_quest"])
    torune_complete_quest_window = UiElement("torune quest complete window", 550, 350, graphic_dict["torune_complete"])
    voruke_quest_window = UiElement("voruke quest window", 262, 443, graphic_dict["voruke_quest"])
    voruke_complete_quest_window = UiElement("voruke quest complete window", 550, 350, graphic_dict["voruke_complete"])
    zerah_quest_window = UiElement("zerah quest window", 262, 443, graphic_dict["zerah_quest"])
    zerah_complete_quest_window = UiElement("zerah quest complete window", 550, 350, graphic_dict["zerah_complete"])
    kirean_quest_window = UiElement("kirean quest window", 262, 443, graphic_dict["kirean_quest"])
    kirean_complete_quest_window = UiElement("kirean quest complete window", 550, 350, graphic_dict["kirean_complete"])
    dionte_quest_window = UiElement("dionte quest window", 262, 443, graphic_dict["dionte_quest"])
    dionte_complete_quest_window = UiElement("dionte quest complete window", 550, 350, graphic_dict["dionte_complete"])
    omoku_quest_window = UiElement("omoku quest window", 262, 443, graphic_dict["omoku_quest"])
    omoku_complete_quest_window = UiElement("omoku quest complete window", 550, 350, graphic_dict["omoku_complete"])
    leyre_quest_window = UiElement("leyre quest window", 262, 443, graphic_dict["leyre_quest"])
    leyre_complete_quest_window = UiElement("leyre quest complete window", 550, 350, graphic_dict["leyre_complete"])
    aitor_quest_window = UiElement("aitor quest window", 262, 443, graphic_dict["aitor_quest"])
    aitor_complete_quest_window = UiElement("aitor quest complete window", 550, 350, graphic_dict["aitor_complete"])
    everett_quest_window = UiElement("everett quest window", 262, 443, graphic_dict["everett_quest"])
    everett_complete_quest_window = UiElement("everett complete window", 550, 350, graphic_dict["everett_complete"])
    artherian_task_window = UiElement("artherian task window", 262, 443, graphic_dict["artherian_quest"])
    artherian_task_window_2 = UiElement("artherian task window", 262, 443, graphic_dict["artherian_quest_2"])
    artherian_complete_window = UiElement("artherian complete window", 550, 350, graphic_dict["artherian_complete"])
    maydria_task_window = UiElement("maydria task window", 262, 443, graphic_dict["maydria_quest"])
    maydria_complete_window = UiElement("maydria complete window", 550, 350, graphic_dict["maydria_complete"])
    jerry_task_window = UiElement("jerry task window", 262, 443, graphic_dict["jerry_quest"])
    jerry_complete_window = UiElement("jerry complete window", 550, 350, graphic_dict["jerry_complete"])
    prime_task_window = UiElement("prime task window", 262, 443, graphic_dict["prime_quest"])
    prime_complete_window = UiElement("prime complete window", 550, 350, graphic_dict["prime_complete"])
    kuba_quest_window = UiElement("kuba quest window", 262, 443, graphic_dict["kuba_quest"])
    kuba_complete_window = UiElement("kuba complete window", 550, 350, graphic_dict["kuba_complete"])
    nahun_quest_window = UiElement("nahun quest window", 262, 443, graphic_dict["nahun_quest"])
    nahun_complete_window = UiElement("nahun complete window", 550, 350, graphic_dict["nahun_complete"])
    illisare_quest_window = UiElement("illisare quest window", 262, 443, graphic_dict["illisare_quest"])
    illisare_complete_window = UiElement("illisare complete window", 550, 350, graphic_dict["illisare_complete"])
    roroc_quest_window = UiElement("illisare quest window", 262, 443, graphic_dict["roroc_quest"])
    roroc_complete_window = UiElement("illisare complete window", 550, 350, graphic_dict["roroc_complete"])
    
    npc_interaction_star = UiElement("npc interaction star", 680, 80, graphic_dict["interaction_start_star"])

    message_box = UiElement("message box", 173, 650, graphic_dict["message_box_day"])
    bar_backdrop = UiElement("bar backdrop", 165, 45, graphic_dict["bar_backdrop"])
    enemy_status_bar_back = UiElement("enemy bar backdrop", 700, 90, graphic_dict["enemy_bar_backdrop"])

    quest_accepted = UiElement("quest accept overlay", 550, 325, graphic_dict["quest_accepted"])
    task_accepted = UiElement("task accept overlay", 550, 325, graphic_dict["task_accepted"])

    quest_star_nascent = UiElement("quest star kuba", 624, 80, graphic_dict["quest_start_star"])
    quest_star_nahun = UiElement("quest star nahun", 791, 410, graphic_dict["quest_start_star"])
    quest_star_illisare = UiElement("quest star illisare", 515, 60, graphic_dict["quest_start_star"])
    quest_star_roroc = UiElement("quest star roroc", 960, 132, graphic_dict["quest_start_star"])

    quest_star_garan = UiElement("quest star garan", 209, 390, graphic_dict["quest_start_star"])
    quest_star_maurelle = UiElement("quest star maurelle", 744, 575, graphic_dict["quest_start_star"])
    quest_star_celeste = UiElement("quest star maurelle", 760, 373, graphic_dict["quest_start_star"])
    quest_star_torune = UiElement("quest star torune", 430, 75, graphic_dict["quest_start_star"])

    quest_star_voruke = UiElement("quest star voruke", 262, 385, graphic_dict["quest_start_star"])
    quest_star_zerah = UiElement("quest star zerah", 651, 50, graphic_dict["quest_start_star"])
    quest_star_dionte = UiElement("quest star dionte", 585, 60, graphic_dict["quest_start_star"])

    quest_star_omoku = UiElement("quest star omoku", 460, 610, graphic_dict["quest_start_star"])
    quest_star_leyre = UiElement("quest star leyre", 682, 375, graphic_dict["quest_start_star"])
    quest_star_aitor = UiElement("quest star aitor", 818, 200, graphic_dict["quest_start_star"])
    quest_star_everett = UiElement("quest star everett", 749, 278, graphic_dict["quest_start_star"])

    task_star_artherian = UiElement("task star artherian", 210, 400, graphic_dict["artherian_start_star"])
    task_star_maydria = UiElement("task star maydria", 825, 132, graphic_dict["maydria_start_star"])

    player_battle_sprite = BattleCharacter("stan battle", 375, 450, graphic_dict["player_no_role_amuna_battle"])
    snake_battle_sprite = BattleCharacter("snake battle", 715, 250, graphic_dict["snake_battle"])
    ghoul_battle_sprite = BattleCharacter("ghoul battle", 698, 280, graphic_dict["ghoul_battle"])
    chorizon_battle_sprite = BattleCharacter("chorizon battle", 720, 325, graphic_dict["chorizon_battle"])
    muchador_battle_sprite = BattleCharacter("muchador battle", 705, 290, graphic_dict["muchador_battle"])
    magmon_battle_sprite = BattleCharacter("magmon battle", 705, 286, graphic_dict["magmon_battle"])
    bandile_battle_sprite = BattleCharacter("bandile battle", 695, 300, graphic_dict["bandile_battle"])
    chinzilla_battle_sprite = BattleCharacter("chinzilla battle", 715, 300, graphic_dict["chinzilla_battle"])
    necrola_battle_sprite = BattleCharacter("necrola battle", 705, 300, graphic_dict["necrola_battle"])
    osodark_battle_sprite = BattleCharacter("osodark battle", 705, 300, graphic_dict["osodark_battle"])
    stelli_battle_sprite = BattleCharacter("stelli battle", 710, 275, graphic_dict["stelli_battle_a"])
    erebyth_battle_sprite = BattleCharacter("erebyth battle", 695, 350, graphic_dict["erebyth_battle"])
    atmon_battle_sprite = BattleCharacter("atmon battle", 705, 300, graphic_dict["atmon_battle"])
    jumano_battle_sprite = BattleCharacter("jumano battle", 705, 300, graphic_dict["jumano_battle"])
    dreth_battle_sprite = BattleCharacter("dreth battle", 707, 345, graphic_dict["dreth_battle"])

    mirror_battle_sprite = BattleCharacter("mirror battle", 260, 425, graphic_dict["player_no_role_amuna_battle"])
    mirror_overlay = UiElement("mirror overlay", 225, 425, graphic_dict["mirror_overlay"])
    mirror_overlay.surf.set_alpha(75)

    arrow_battle_sprite = UiElement("arrow overlay", 375, 450, graphic_dict["skill_arrow"])
    advantage_battle_sprite = UiElement("advantage overlay", 375, 450, graphic_dict["skill_arrow_advantage"])

    fire_battle_sprite = UiElement("fire overlay", 600, 375, graphic_dict["millennium_fire"])
    edge_battle_sprite = UiElement("edge overlay", 575, 400, graphic_dict["epsilon's_edge"])
    overlay_enemy_vanish = UiElement("enemy vanish", 575, 450, graphic_dict["overlay_enemy_vanish"])
    transpose_battle_sprite = UiElement("xpose overlay", 575, 400, graphic_dict["transpose_1"])

    kasper_battle_sprite = BattleCharacter("kasper battle", 825, 520, graphic_dict["kasper_battle"])
    torok_battle_sprite = BattleCharacter("torok battle", 825, 520, graphic_dict["torok_battle"])
    iriana_battle_sprite = BattleCharacter("iriana battle", 825, 520, graphic_dict["iriana_battle"])

    battle_sprite_effect_burn = UiElement("battle effect", 325, 500, graphic_dict["burn_battle_effect"])
    battle_sprite_effect_poison = UiElement("battle effect", 325, 500, graphic_dict["poison_battle_effect"])
    battle_sprite_effect_bleed = UiElement("battle effect", 325, 500, graphic_dict["bleed_battle_effect"])
    battle_sprite_effect_crush = UiElement("battle effect", 325, 500, graphic_dict["crush_battle_effect"])
    battle_sprite_effect_barrier = UiElement("battle effect", 325, 500, graphic_dict["barrier_battle_effect"])
    battle_sprite_effect_barrier.surf.set_alpha(200)

    nascent_gate_popup = UiElement("nascent gate popup", 418, 200, graphic_dict["nascent_gate_popup"])
    sell_items = UiElement("sell items", 1155, 270, graphic_dict["s_health_pot_img"])
    info_items = UiElement("info items", 1155, 270, graphic_dict["info_health_pot_img"])
    buy_items = UiElement("buy items", 900, 230, graphic_dict["b_health_pot_img"])
    star_power_meter = UiElement("star power", 1195, 360, graphic_dict["star_00"])
    role_select_overlay = UiElement("role select overlay", 710, 263, graphic_dict["role_selection_overlay"])
    game_guide_overlay = UiElement("game guide overlay", 776, 256, graphic_dict["guide_basics_quest_img"])
    cat_pet_button_overlay = UiElement("cat pet button", 505, 235, graphic_dict["cat_pet_button_overlay"])
    cat_pet_animation_overlay = UiElement("cat pet animation", 507, 242, graphic_dict["seldon_shop_cat_pet_img"])
    apothis_star = UiElement("apothis star", 519, 223, graphic_dict["apothis_star"])
    directional_arrow = UiElement("directional arrow", 855, 620, graphic_dict["arrow_down"])
    upgrade_overlay = UiElement("upgrade overlay", 764, 380, graphic_dict["upgrade_overlay"])
    dealt_damage_overlay = UiElement("dealt damage overlay", 850, 225, graphic_dict["dealt_damage_img"])
    fire_damage_overlay = UiElement("fire damage overlay", 575, 160, graphic_dict["fire_damage_img"])
    edge_health_overlay = UiElement("edge health overlay", 775, 160, graphic_dict["edge_health_img"])
    poison_arrow_dmg_overlay = UiElement("poison arrow dmg overlay", 675, 160, graphic_dict["poison_arrow_damage_img"])
    pet_damage_overlay = UiElement("pet damage overlay", 750, 250, graphic_dict["pet_damage_img"])
    mirror_damage_overlay = UiElement("mirror damage overlay", 800, 200, graphic_dict["dealt_damage_img"])
    received_damage_overlay = UiElement("received damage overlay", 125, 275, graphic_dict["received_damage_img"])
    burn_damage_overlay = UiElement("burn damage overlay", 250, 275, graphic_dict["burn_damage_img"])
    poison_damage_overlay = UiElement("poison damage overlay", 350, 275, graphic_dict["poison_damage_img"])
    bleed_damage_overlay = UiElement("bleed damage overlay", 300, 375, graphic_dict["bleed_damage_img"])
    interaction_popup = UiElement("interaction popup", 125, 275, graphic_dict["popup_interaction"])
    loot_popup = UiElement("loot popup", 171, 528, graphic_dict["popup_loot"])
    role_level_up_popup = UiElement("role level popup", 885, 136, graphic_dict["mage_level_up"])
    button_highlight = UiElement("button_highlight", 200, 200, graphic_dict["main high"])
    critical_dealt_overlay = UiElement("critical dealt overlay", 905, 185, graphic_dict["critical_dealt"])
    critical_received_overlay = UiElement("critical received overlay", 65, 235, graphic_dict["critical_received"])
    level_up_visual = UiElement("level up visual", 65, 235, graphic_dict["level_up_vis"])
    gender_select_highlight = UiElement("gender highlight", 182, 245, graphic_dict["gender select"])
    race_select_highlight = UiElement("race highlight", 200, 245, graphic_dict["race select"])
    prime_popup = UiElement("prime popup", 130, 475, graphic_dict["popup_interaction"])
    jez_popup = UiElement("jez popup", 265, 475, graphic_dict["popup_interaction"])
    entrance_popup = UiElement("entrance popup", 675, 97, graphic_dict["popup_wide"])
    apothis_popup = UiElement("apothis popup", 575, 375, graphic_dict["popup_wide"])
    cell_popup = UiElement("cell popup", 420, 205, graphic_dict["popup_wide"])
    cell_popup_2 = UiElement("cell popup", 610, 205, graphic_dict["popup_wide"])
    world_map = UiElement("world map", 769, 332, graphic_dict["world_map"])
    korlok_map_button = UiElement("seldon map button", 663, 238, graphic_dict["map_button"])
    eldream_map_button = UiElement("korlok map button", 874, 238, graphic_dict["map_button"])
    seldon_map_button = UiElement("eldream map button", 663, 448, graphic_dict["map_button"])
    marrow_map_button = UiElement("marrow map button", 874, 448, graphic_dict["map_button"])
    amuna_location = UiElement("amuna character location", 663, 238, graphic_dict["amuna_location"])
    nuldar_location = UiElement("nuldar character location", 663, 238, graphic_dict["nuldar_location"])
    sorae_location = UiElement("sorae character location", 663, 238, graphic_dict["sorae_location"])

    dungeon_teleporter = UiElement("dungeon teleporter", 519, 316, graphic_dict["dungeon_teleporter"])
    dungeon_drop_wall = UiElement("dungeon drop wall", 310, 224, graphic_dict["dungeon_drop_wall"])
    dungeon_gate = UiElement("dungeon gate", 705, 180, graphic_dict["dungeon_gate"])
    reservoir_passage = UiElement("reservoir passage", 27, 365, graphic_dict["reservoir_passage"])
    reservoir_exit = UiElement("reservoir exit", 724, 40, graphic_dict["reservoir_exit"])
    reservoir_enter = UiElement("reservoir enter", 30, 500, graphic_dict["reservoir_enter"])
    muchador_arena = UiElement("muchador arena", 365, 363, graphic_dict["muchador_arena"])
    muchador_crate_1 = UiElement("muchador crate 1", 200, 200, graphic_dict["muchador_crate"])
    muchador_crate_2 = UiElement("muchador crate 2", 500, 200, graphic_dict["muchador_crate"])
    muchador_crate_3 = UiElement("muchador crate 3", 200, 530, graphic_dict["muchador_crate"])
    muchador_crate_4 = UiElement("muchador crate 4", 500, 530, graphic_dict["muchador_crate"])
    muchador_crate_1_top = UiElement("muchador crate 1 top", 200, 200, graphic_dict["muchador_crate_top"])
    muchador_crate_2_top = UiElement("muchador crate 2 top", 500, 200, graphic_dict["muchador_crate_top"])
    muchador_crate_3_top = UiElement("muchador crate 3 top", 200, 530, graphic_dict["muchador_crate_top"])
    muchador_crate_4_top = UiElement("muchador crate 4 top", 500, 530, graphic_dict["muchador_crate_top"])
    dungeon_crate_1 = Item("dungeon crate 1", "Crate", 75, 150, graphic_dict["dungeon_crate"], 0)
    dungeon_crate_2 = Item("dungeon crate 2", "Crate", 960, 150, graphic_dict["dungeon_crate"], 0)
    dungeon_crate_3 = Item("dungeon crate 3", "Crate", 388, 575, graphic_dict["dungeon_crate"], 0)
    dungeon_crate_4 = Item("dungeon crate 4", "Crate", 650, 575, graphic_dict["dungeon_crate"], 0)
    dungeon_crate_5 = Item("dungeon crate 5", "Crate", 875, 150, graphic_dict["dungeon_crate"], 0)
    dungeon_switch_1 = Item("dungeon switch 1", "Switch", 158, 430, graphic_dict["dungeon_switch_inactive"], 0)
    dungeon_switch_2 = Item("dungeon switch 2", "Switch", 874, 430, graphic_dict["dungeon_switch_inactive"], 0)
    dungeon_switch_3 = Item("dungeon switch 3", "Switch", 519, 145, graphic_dict["dungeon_switch_inactive"], 0)
    dungeon_chest = Item("dungeon chest", "chest", 297, 355, graphic_dict["dungeon_chest"], 0)
    dungeon_chest_rect = pygame.Rect((245, 310,), (90, 10))
    ramps_crate_1 = Item("ramps crate 1", "crate", 390, 350, graphic_dict["dungeon_crate"], 0)
    ramps_crate_2 = Item("ramps crate 2", "crate", 650, 350, graphic_dict["dungeon_crate"], 0)
    ramps_crate_3 = Item("ramps crate 3", "crate", 390, 350, graphic_dict["dungeon_crate"], 0)
    ramps_crate_4 = Item("ramps crate 4", "crate", 650, 350, graphic_dict["dungeon_crate"], 0)
    ramps_crate_5 = Item("ramps crate 5", "crate", 870, 230, graphic_dict["dungeon_crate"], 0)
    castle_crate_1 = Item("castle crate 1", "crate", 80, 150, graphic_dict["dungeon_crate"], 0)
    castle_crate_2 = Item("castle crate 2", "crate", 955, 150, graphic_dict["dungeon_crate"], 0)
    dungeon_switch_ramps_1 = Item("switch ramps 1", "switch", 945, 135, graphic_dict["dungeon_switch_inactive"], 0)
    dungeon_switch_ramps_2 = Item("switch ramps 2", "switch", 195, 135, graphic_dict["dungeon_switch_inactive"], 0)
    dungeon_chest_ramps = Item("dungeon chest ramps", "chest", 575, 635, graphic_dict["dungeon_chest"], 0)
    dungeon_chest_ramps_rect = pygame.Rect((530, 625,), (90, 10))
    dungeon_chest_small_marrow = UiElement("dungeon chest ramps small", 857, 600, graphic_dict["chest_small"])
    recycle_crate = UiElement("recycle crate", 1007, 107, graphic_dict["recycle_crate"])
    recycle_crate_overlay = UiElement("recycle crate overlay", 915, 250, graphic_dict["recycle_crate_overlay"])

    item_block_1 = Item("item block 1", "block", 115, 211, graphic_dict["item_block"], 0)
    item_block_2 = Item("item block 2", "block", 595, 45, graphic_dict["item_block"], 0)
    item_block_3 = Item("item block 3", "block", 675, 510, graphic_dict["item_block"], 0)
    item_block_4 = Item("item block 4", "block", 875, 480, graphic_dict["item_block"], 0)
    item_block_5 = Item("item block 5", "block", 155, 480, graphic_dict["item_block"], 0)
    item_block_6 = Item("item block 6", "block", 150, 500, graphic_dict["item_block"], 0)
    item_block_7 = Item("item block 7", "block", 500, 625, graphic_dict["item_block"], 0)
    item_block_8 = Item("item block 8", "block", 650, 625, graphic_dict["item_block"], 0)
    item_block_9 = Item("item block 9", "block", 925, 175, graphic_dict["item_block"], 0)
    item_block_10 = Item("item block 10", "block", 575, 450, graphic_dict["item_block"], 0)
    item_block_11 = Item("item block 11", "block", 780, 400, graphic_dict["item_block"], 0)
    item_block_12 = Item("item block 12", "block", 780, 400, graphic_dict["item_block"], 0)

    chest_small_castle_1 = UiElement("chest small castle 1", 700, 262, graphic_dict["chest_small"])
    chest_small_castle_2 = UiElement("chest small castle 2", 700, 262, graphic_dict["chest_small"])
    overlay_prism_activate = UiElement("overlay prism", 710, 485, graphic_dict["overlay_prism"])
    overlay_chandelier = UiElement("chandelier", 516, 285, graphic_dict["chandelier_full"])
    overlay_chandelier.surf.set_alpha(230)
    overlay_mirage = UiElement("mirage", 415, 250, graphic_dict["mirage_female"])
    overlay_mirage_2 = UiElement("mirage", 608, 250, graphic_dict["mirage_female"])
    pine_tree_1 = Tree("tree", "pine tree", 80, 445, False, graphic_dict["pine_tree"])
    pine_tree_2 = Tree("tree", "pine tree", 260, 590, False, graphic_dict["pine_tree"])
    pine_tree_3 = Tree("tree", "pine tree", 340, 400, False, graphic_dict["pine_tree"])
    pine_tree_1_top = Tree("tree", "pine tree", 80, 410, False, graphic_dict["tree_top"])
    pine_tree_2_top = Tree("tree", "pine tree", 260, 555, False, graphic_dict["tree_top"])
    pine_tree_3_top = Tree("tree", "pine tree", 340, 365, False, graphic_dict["tree_top"])
    water_player = UiElement("water", 855, 620, graphic_dict["water_player"])
    water_1 = UiElement("water", 855, 450, graphic_dict["water"])
    water_2 = UiElement("water", 855, 200, graphic_dict["water"])
    water_3 = UiElement("water", 500, 425, graphic_dict["water"])
    water_4 = UiElement("water", 575, 275, graphic_dict["water"])
    water_5 = UiElement("water", 700, 525, graphic_dict["water"])
    korlok_mountains = UiElement("korlok mountains", 241, 251, graphic_dict["korlok_mountains"])
    water_fish_1 = UiElement("water", 855, 630, graphic_dict["water"])
    water_fish_3 = UiElement("water", 500, 575, graphic_dict["water"])
    water_fish_4 = UiElement("water", 650, 680, graphic_dict["water"])
    water_alcove_1 = UiElement("water", 450, 250, graphic_dict["water"])
    water_alcove_3 = UiElement("water", 300, 285, graphic_dict["water"])
    fishing_spot_korlok_1 = UiElement("fishing spot k1", 740, 410, graphic_dict["fishing_spot_1"])
    fishing_spot_korlok_2 = UiElement("fishing spot k2", 575, 525, graphic_dict["fishing_spot_1"])
    fishing_spot_stardust_1 = UiElement("fishing spot s1", 900, 490, graphic_dict["fishing_spot_1"])
    fishing_spot_stardust_2 = UiElement("fishing spot s2", 450, 648, graphic_dict["fishing_spot_1"])
    fishing_spot_eldream_1 = UiElement("fishing spot e1", 250, 335, graphic_dict["fishing_spot_1"])
    fishing_spot_eldream_2 = UiElement("fishing spot e2", 645, 335, graphic_dict["fishing_spot_1"])
    fishing_spot_caldera = UiElement("fishing spot c", 710, 365, graphic_dict["fishing_spot_1"])
    fishing_popup = UiElement("fishing popup", 510, 365, graphic_dict["basic_fish_popup"])
    flower_count_overlay = UiElement("flower counts", 1155, 642, graphic_dict["flower_counts"])
    fish_count_overlay = UiElement("fish counts", 1155, 642, graphic_dict["fish_counts"])
    flower_button = pygame.Rect((1150, 670), (65, 65))
    fish_button_count = pygame.Rect((1210, 670), (65, 65))
    eldream_riv_1 = UiElement("eldream river 1", 190, 400, graphic_dict["eldream_river"])
    eldream_riv_2 = UiElement("eldream river 2", 240, 370, graphic_dict["eldream_river"])
    eldream_riv_3 = UiElement("eldream river 3", 285, 340, graphic_dict["eldream_river"])
    eldream_riv_4 = UiElement("eldream river 4", 335, 310, graphic_dict["eldream_river"])
    eldream_riv_5 = UiElement("eldream river 5", 385, 280, graphic_dict["eldream_river"])
    eldream_riv_6 = UiElement("eldream river 6", 420, 230, graphic_dict["eldream_river"])
    eldream_riv_7 = UiElement("eldream river 7", 470, 230, graphic_dict["eldream_river"])
    eldream_riv_8 = UiElement("eldream river 8", 520, 240, graphic_dict["eldream_river"])
    eldream_riv_9 = UiElement("eldream river 9", 570, 240, graphic_dict["eldream_river"])
    eldream_riv_10 = UiElement("eldream river 10", 620, 250, graphic_dict["eldream_river"])
    eldream_riv_11 = UiElement("eldream river 11", 670, 250, graphic_dict["eldream_river"])
    eldream_riv_12 = UiElement("eldream river 12", 720, 260, graphic_dict["eldream_river"])
    eldream_riv_13 = UiElement("eldream river 13", 770, 260, graphic_dict["eldream_river"])
    eldream_riv_14 = UiElement("eldream river 14", 820, 270, graphic_dict["eldream_river"])
    eldream_riv_15 = UiElement("eldream river 15", 840, 270, graphic_dict["eldream_river"])
    eldream_riv_16 = UiElement("eldream river 16", 1020, 250, graphic_dict["eldream_river"])
    eldream_riv_17 = UiElement("eldream river 17", 1020, 230, graphic_dict["eldream_river"])
    eldream_riv_18 = UiElement("eldream river 18", 140, 430, graphic_dict["eldream_river"])
    eldream_riv_19 = UiElement("eldream river 19", 90, 470, graphic_dict["eldream_river"])
    eldream_riv_20 = UiElement("eldream river 20", 40, 500, graphic_dict["eldream_river"])
    eldream_riv_21 = UiElement("eldream river 21", 0, 540, graphic_dict["eldream_river"])
    overlay_ectrene = UiElement("ectrene", 525, 325, graphic_dict["overlay_ectrene"])
    overlay_bridge_gate = UiElement("overlay bridge gate", 527, 619, graphic_dict["overlay_bridge_gate"])
    overlay_marrow_ramps_west = UiElement("marrow west", 110, 250, graphic_dict["overlay_marrow_ramps_west"])
    overlay_marrow_ramps_east = UiElement("marrow east", 925, 250, graphic_dict["overlay_marrow_ramps_east"])
    overlay_marrow_switch = UiElement("marrow switch", 640, 360, graphic_dict["marrow_switch"])
    marrow_switch_box = UiElement("marrow box", 515, 225, graphic_dict["marrow_switch_box"])
    overlay_stardust_waterfall = UiElement("waterfall", 857, 593, graphic_dict["overlay_stardust_waterfall"])
    overlay_stardust_waterfall.surf.set_alpha(200)
    chroma_bridge = UiElement("chroma bridge", 477, 493, graphic_dict["chroma_bridge"])
    chroma_bridge_small = UiElement("chroma bridge small", 308, 281, graphic_dict["chroma_bridge_small"])
    chroma_bridge_ramps = UiElement("chroma bridge ramps", 575, 395, graphic_dict["overlay_chroma_ramps"])
    chroma_bridge_forge = UiElement("chroma bridge forge", 516, 545, graphic_dict["chroma_forge"])
    big_hp_bar = UiElement("big hp bar", 634, 270, graphic_dict["big_hp_1"])
    volcano_rect = pygame.Rect((450, 15), (100, 50))
    forge_rect = pygame.Rect((515, 150), (100, 100))
    eldream_gate_rect = pygame.Rect((715, 0), (100, 200))
    ectrenos_entrance_rect = pygame.Rect((520, 520), (100, 50))
    ectrenos_ladder_rect = pygame.Rect((500, 520), (100, 50))
    alcove_ladder_rect = pygame.Rect((400, 550), (100, 50))
    ectrenos_inn_entrance = pygame.Rect((825, 275), (100, 100))
    ectrenos_shop_entrance = pygame.Rect((215, 175), (100, 100))
    ectrenos_pet_entrance = pygame.Rect((775, 175), (100, 100))
    sub_marrow_rect = pygame.Rect((360, 610), (100, 100))
    sub_marrow_rect_2 = pygame.Rect((455, 595), (100, 100))
    dungeon_gate_marrow_rect = pygame.Rect((740, 325), (500, 100))
    fishing_hut_rect = pygame.Rect((800, 110), (100, 100))
    fishing_hut_rect_collide = pygame.Rect((800, 110), (75, 50))
    alcove_fishing_rect_1 = pygame.Rect((375, 35), (100, 25))
    alcove_fishing_rect_2 = pygame.Rect((375, 625), (100, 25))
    marrow_castle_exit = pygame.Rect((470, 25), (100, 50))
    rope_wind_1 = pygame.Rect((910, 225), (100, 50))
    rope_wind_2 = pygame.Rect((75, 225), (100, 50))
    castle_cell_1 = pygame.Rect((365, 325), (150, 50))
    castle_cell_2 = pygame.Rect((640, 325), (150, 50))
    castle_cell_3 = pygame.Rect((525, 325), (150, 50))
    castle_ladder = pygame.Rect((280, 230), (100, 50))
    caldera_ladder = pygame.Rect((295, 275), (75, 50))
    lair_exit = pygame.Rect((450, 25), (150, 50))
    castle_key = pygame.Rect((490, 225), (50, 50))
    boss_door = pygame.Rect((430, 470), (150, 50))
    marrow_barrier_small = pygame.Rect((30, 260), (75, 70))
    seldon_barrier_small = pygame.Rect((925, 260), (75, 70))
    stardust_card_cave = pygame.Rect((225, 75), (75, 75))
    recycle_crate_rect = pygame.Rect((995, 25), (50, 50))
    mines_light = UiElement("mines light", 322, 325, graphic_dict["mines_light"])
    mines_cart = UiElement("mines cart", 885, 475, graphic_dict["mines_light"])
    mines_shard_1 = UiElement("mines shard 1", 885, 370, graphic_dict["mines_light"])
    mines_shard_2 = UiElement("mines shard 2", 150, 100, graphic_dict["mines_light"])
    terra_mountains = UiElement("terra mountains", 250, 270, graphic_dict["terra_mountains"])
    terra_cave = UiElement("terra cave", 100, 400, graphic_dict["terra_cave"])
    terra_cave_enter = UiElement("terra cave entrance", 145, 400, graphic_dict["terra_cave"])
    eldream_cart = UiElement("eldream cart", 380, 640, graphic_dict["mines_light"])
    kart_full = UiElement("kart full", 388, 636, graphic_dict["kart_overworld"])
    overlay_smelting = UiElement("smelting", 517, 150, graphic_dict["overlay_smelting"])
    overlay_enchanting = UiElement("enchanting", 517, 150, graphic_dict["overlay_enchanting"])
    overlay_seldon_fireworks = UiElement("seldon fireworks", 200, 200, graphic_dict["seldon_fireworks_1"])
    stardust_top = UiElement("stardust top", 531, 205, graphic_dict["stardust_top"])
    alcove_star = UiElement("alcove star", 979, 674, graphic_dict["alcove_star"])
    # dungeon rocks
    rock_1 = Item("rock 1", "rock", 580, 145, graphic_dict["rock"], 0)
    rock_2 = Item("rock 2", "rock", 580, 255, graphic_dict["rock"], 0)
    # stardust rock
    rock_3 = Item("rock 3", "rock", 675, 80, graphic_dict["rock_small"], 0)
    # korlok rocks
    rock_4 = Item("rock 4", "rock", 400, 570, graphic_dict["rock_small"], 0)
    rock_5 = Item("rock 5", "rock", 660, 570, graphic_dict["rock_small"], 0)
    rock_6 = Item("rock 6", "rock", 750, 60, graphic_dict["rock_small"], 0)
    # terra trail rock
    rock_7 = Item("rock 7", "rock", 515, 395, graphic_dict["rock_small"], 0)
    # nascent grove rock
    rock_8 = Item("rock 8", "rock", 405, 500, graphic_dict["rock_small"], 0)
    # marrow castle rocks
    rock_9 = Item("rock 9", "rock", 70, 275, graphic_dict["rock"], 0)
    rock_10 = Item("rock 10", "rock", 170, 275, graphic_dict["rock"], 0)
    # marrow ramparts rocks
    rock_11 = Item("rock 11", "rock", 420, 290, graphic_dict["rock"], 0)
    rock_12 = Item("rock 12", "rock", 520, 290, graphic_dict["rock"], 0)
    rock_13 = Item("rock 13", "rock", 620, 290, graphic_dict["rock"], 0)
    rock_14 = Item("rock 14", "rock", 720, 290, graphic_dict["rock"], 0)
    # flowers for apothecary
    flower_seldon_1 = Item("flower seldon 1", "flower", 190, 185, graphic_dict["flower_seldon"], 0)
    flower_seldon_2 = Item("flower seldon 2", "flower", 390, 185, graphic_dict["flower_seldon"], 0)
    flower_seldon_3 = Item("flower seldon 3", "flower", 150, 425, graphic_dict["flower_seldon"], 0)
    flower_seldon_4 = Item("flower seldon 4", "flower", 400, 500, graphic_dict["flower_seldon"], 0)
    flower_seldon_5 = Item("flower seldon 5", "flower", 590, 380, graphic_dict["flower_seldon"], 0)
    flower_eldream_1 = Item("flower eldream 1", "flower", 355, 530, graphic_dict["flower_eldream"], 0)
    flower_eldream_2 = Item("flower eldream 2", "flower", 722, 530, graphic_dict["flower_eldream"], 0)
    flower_eldream_3 = Item("flower eldream 3", "flower", 850, 120, graphic_dict["flower_eldream"], 0)
    flower_eldream_4 = Item("flower eldream 4", "flower", 985, 450, graphic_dict["flower_eldream"], 0)
    flower_eldream_5 = Item("flower eldream 5", "flower", 775, 670, graphic_dict["flower_eldream"], 0)
    ramps_flower = Item("flower ramps", "flower", 150, 225, graphic_dict["flower_seldon"], 0)

    quest_items_seldon = pygame.sprite.Group()
    quest_items_eldream = pygame.sprite.Group()
    npcs_seldon = pygame.sprite.Group()
    npcs_korlok = pygame.sprite.Group()
    npcs_marrow = pygame.sprite.Group()
    seldon_enemies = pygame.sprite.Group()
    korlok_enemies = pygame.sprite.Group()
    ectrenos_front_enemies = pygame.sprite.Group()
    ectrenos_alcove_enemies = pygame.sprite.Group()
    boss_enemies = pygame.sprite.Group()
    stardust_stelli = pygame.sprite.Group()
    trees = pygame.sprite.Group()
    ores = pygame.sprite.Group()
    parts_one = pygame.sprite.Group()
    parts_two = pygame.sprite.Group()
    dungeon_rocks = pygame.sprite.Group()
    korlok_rocks = pygame.sprite.Group()
    other_rocks = pygame.sprite.Group()
    castle_rocks = pygame.sprite.Group()
    ramparts_rocks = pygame.sprite.Group()
    seldon_flowers = pygame.sprite.Group()
    eldream_flowers = pygame.sprite.Group()
    eldream_river = pygame.sprite.Group()
    amuna_buildings = pygame.sprite.Group()
    nuldar_buildings = pygame.sprite.Group()
    dungeon_walls = pygame.sprite.Group()
    dungeon_items = pygame.sprite.Group()
    muchador_crates = pygame.sprite.Group()
    environments = pygame.sprite.Group()
    user_interface = pygame.sprite.Group()
    most_sprites = pygame.sprite.Group()
    snakes = pygame.sprite.Group()
    ghouls = pygame.sprite.Group()
    ghouls_marrow = pygame.sprite.Group()
    magmons = pygame.sprite.Group()
    bandiles = pygame.sprite.Group()
    atmons = pygame.sprite.Group()
    jumanos = pygame.sprite.Group()
    interactables_nascent = pygame.sprite.Group()
    interactables_seldon = pygame.sprite.Group()
    interactables_stardust = pygame.sprite.Group()
    interactables_korlok = pygame.sprite.Group()
    interactables_mines = pygame.sprite.Group()
    interactables_eldream = pygame.sprite.Group()
    interactables_terra_trail = pygame.sprite.Group()
    interactables_reservoir_a = pygame.sprite.Group()
    interactables_reservoir_b = pygame.sprite.Group()
    interactables_reservoir_c = pygame.sprite.Group()
    interactables_ectrenos = pygame.sprite.Group()
    interactables_marrow_entrance = pygame.sprite.Group()

    snakes.add(snake_1, snake_2, snake_3, snake_4)
    ghouls.add(ghoul_low_1, ghoul_low_2, ghoul_low_3, ghoul_low_4)
    ghouls_marrow.add(ghoul_high_1, ghoul_high_2, ghoul_high_3, ghoul_high_4)
    magmons.add(magmon_1, magmon_2, magmon_3, magmon_4)
    bandiles.add(bandile_1, bandile_2, bandile_3, bandile_4)
    stardust_stelli.add(stelli_a, stelli_b, stelli_c)
    atmons.add(atmon_1, atmon_2, atmon_3, atmon_4)
    jumanos.add(jumano_1, jumano_2, jumano_3, jumano_4)
    npcs_seldon.add(npc_garan, npc_maurelle, npc_celeste, npc_torune)
    npcs_korlok.add(npc_voruke, npc_zerah, npc_nahun)
    npcs_marrow.add(npc_maydria, npc_noren, npc_boro, npc_artherian, npc_roroc)
    seldon_enemies.add(snake_1, snake_2, snake_3, snake_4, ghoul_low_1, ghoul_low_2, ghoul_low_3, ghoul_low_4)
    korlok_enemies.add(magmon_1, magmon_2, magmon_3, magmon_4)
    ectrenos_front_enemies.add(necrola_1, necrola_2, necrola_3, necrola_4)
    ectrenos_alcove_enemies.add(osodark_1, osodark_2, osodark_3, osodark_4)
    boss_enemies.add(chorizon_1, chorizon_2)
    trees.add(pine_tree_1, pine_tree_2, pine_tree_3)
    ores.add(mines_ore_1, mines_ore_2, mines_ore_3, mines_ore_4)
    parts_one.add(construct_part_1, construct_part_2)
    parts_two.add(construct_part_3, construct_part_4)
    dungeon_rocks.add(rock_1, rock_2)
    korlok_rocks.add(rock_4, rock_5, rock_6)
    other_rocks.add(rock_3, rock_7, rock_8)
    castle_rocks.add(rock_9, rock_10)
    ramparts_rocks.add(rock_11, rock_12, rock_13, rock_14)
    seldon_flowers.add(flower_seldon_1, flower_seldon_2, flower_seldon_3, flower_seldon_4, flower_seldon_5)
    eldream_flowers.add(flower_eldream_1, flower_eldream_2, flower_eldream_3, flower_eldream_4, flower_eldream_5)
    eldream_river.add(eldream_riv_1, eldream_riv_2, eldream_riv_3, eldream_riv_4, eldream_riv_5, eldream_riv_6,
                      eldream_riv_7, eldream_riv_8, eldream_riv_9, eldream_riv_10, eldream_riv_11, eldream_riv_12,
                      eldream_riv_13, eldream_riv_14, eldream_riv_15, eldream_riv_16, eldream_riv_17, eldream_riv_18,
                      eldream_riv_19, eldream_riv_20, eldream_riv_21)
    amuna_buildings.add(seldon_inn, seldon_shop, seldon_academia)
    nuldar_buildings.add(korlok_inn, korlok_shop, korlok_herb, reservoir_enter)
    dungeon_walls.add(dungeon_wall_1, dungeon_wall_2, dungeon_wall_3, dungeon_wall_4)
    dungeon_items.add(dungeon_crate_1, dungeon_crate_2, dungeon_crate_3, dungeon_crate_4, dungeon_switch_1,
                      dungeon_switch_2, dungeon_switch_3)
    muchador_crates.add(muchador_crate_1, muchador_crate_2, muchador_crate_3, muchador_crate_4)
    environments.add(trees, amuna_buildings)
    quest_items_seldon.add(quest_logs_1, quest_logs_2, quest_logs_3, quest_logs_4, rohir_gate)
    quest_items_eldream.add(quest_supplies_1, quest_supplies_2, quest_supplies_3, quest_supplies_4)
    most_sprites.add(npcs_seldon, trees, amuna_buildings, quest_items_seldon, seldon_enemies, hearth_stone_seldon,
                     rohir_gate)
    user_interface.add(character_button, quests_button, save_button, map_button, message_box, location_overlay,
                       star_power_meter)
    interactables_nascent.add(nascent_gate, rock_8, npc_nascent)
    interactables_seldon.add(npcs_seldon, seldon_enemies, amuna_buildings, hearth_stone_seldon, quest_items_seldon,
                             seldon_flowers)
    interactables_stardust.add(stardust_entrance, nede, ghoul_nede, rock_3, stelli_a, stelli_b, stelli_c)
    interactables_korlok.add(nuldar_buildings, reservoir_enter, rohir_gate, hearth_stone_korlok, korlok_enemies,
                             mines_entrance, npc_voruke, npc_zerah, rock_4, rock_5, rock_6, npc_nahun)
    interactables_reservoir_a.add(dungeon_items, chorizon_1, chorizon_2, dungeon_teleporter)
    interactables_reservoir_b.add(dungeon_gate, dungeon_teleporter, dungeon_crate_5, muchador, reservoir_passage)
    interactables_reservoir_c.add(dungeon_chest, rock_1, rock_2, reservoir_exit)
    interactables_mines.add(bandiles, mines_ore_1, mines_ore_2, mines_ore_3, mines_ore_4)
    interactables_terra_trail.add(npc_dionte, terra_cave, rock_7, terra_cave_enter)
    interactables_eldream.add(eldream_flowers, hearth_stone_eldream, quest_items_eldream, npc_omoku)
    interactables_marrow_entrance.add(overlay_marrow_ramps_west, overlay_marrow_ramps_east)

    # music tracks
    start_screen_music = resource_path("resources/sounds/eterna_start_new.mp3")
    character_select_music = resource_path("resources/sounds/eterna_title.mp3")
    nascent_music = resource_path("resources/sounds/eterna_nascent.mp3")
    seldon_overworld_music = resource_path("resources/sounds/eterna_seldon.mp3")
    seldon_building_music = resource_path("resources/sounds/eterna_building.mp3")
    stardust_outpost_music = resource_path("resources/sounds/eterna_stardust.mp3")
    apothis_intro_music = resource_path("resources/sounds/eterna_apothis.mp3")
    apothis_dreth_music = resource_path("resources/sounds/eterna_apothis_2.mp3")
    final_music = resource_path("resources/sounds/eterna_final.mp3")
    rohir_river_music = resource_path("resources/sounds/eterna_rohir.mp3")
    reservoir_music = resource_path("resources/sounds/eterna_dungeon.mp3")
    korlok_overworld_music = resource_path("resources/sounds/eterna_korlok.mp3")
    korlok_building_music = resource_path("resources/sounds/eterna_building_korlok.mp3")
    eldream_overworld_music = resource_path("resources/sounds/eterna_eldream.mp3")
    eldream_building_music = resource_path("resources/sounds/eterna_building_eldream.mp3")
    marrow_overworld_music = resource_path("resources/sounds/eterna_marrow.mp3")
    marrow_entrance_music = resource_path("resources/sounds/eterna_marrow_entrance.mp3")
    boss_battle_music = resource_path("resources/sounds/eterna_boss_battle.mp3")
    fishing_music = resource_path("resources/sounds/eterna_fishing.mp3")
    card_music = resource_path("resources/sounds/eterna_card_cave.mp3")
    castle_music = resource_path("resources/sounds/eterna_castle.mp3")
    caldera_music = resource_path("resources/sounds/eterna_caldera.mp3")
    lair_music = resource_path("resources/sounds/eterna_dreth.mp3")
    credit_music = resource_path("resources/sounds/eterna_credit.mp3")
    night_music = resource_path("resources/sounds/night.mp3")

    pygame.mixer.music.set_volume(0.35)
    pygame.mixer.music.load(start_screen_music)
    pygame.mixer.music.play(loops=-1)

    sfx_game_over = pygame.mixer.Sound(resource_path("resources/sounds/game_over.mp3"))
    sfx_game_over.set_volume(0.65)

    sfx_no_weapon_attack = pygame.mixer.Sound(resource_path("resources/sounds/no_weapon_attack.mp3"))
    sfx_no_weapon_attack.set_volume(0.40)
    sfx_mage_attack = pygame.mixer.Sound(resource_path("resources/sounds/mage_attack.mp3"))
    sfx_mage_attack.set_volume(0.18)
    sfx_mage_barrier = pygame.mixer.Sound(resource_path("resources/sounds/mage_barrier.mp3"))
    sfx_mage_barrier.set_volume(0.50)
    sfx_mage_mirror = pygame.mixer.Sound(resource_path("resources/sounds/sfx_mirror.mp3"))
    sfx_mage_mirror.set_volume(0.25)
    sfx_mage_fire = pygame.mixer.Sound(resource_path("resources/sounds/sfx_millennium_fire.mp3"))
    sfx_mage_fire.set_volume(0.30)
    sfx_fighter_attack = pygame.mixer.Sound(resource_path("resources/sounds/fighter_attack.mp3"))
    sfx_fighter_attack.set_volume(0.30)
    sfx_fighter_strike = pygame.mixer.Sound(resource_path("resources/sounds/fighter_strike.mp3"))
    sfx_fighter_strike.set_volume(0.45)
    sfx_fighter_stun = pygame.mixer.Sound(resource_path("resources/sounds/sfx_stun.mp3"))
    sfx_fighter_stun.set_volume(0.30)
    sfx_fighter_edge = pygame.mixer.Sound(resource_path("resources/sounds/sfx_fighter_edge.mp3"))
    sfx_fighter_edge.set_volume(0.35)
    sfx_scout_attack = pygame.mixer.Sound(resource_path("resources/sounds/scout_attack.mp3"))
    sfx_scout_attack.set_volume(0.50)
    sfx_scout_sense = pygame.mixer.Sound(resource_path("resources/sounds/scout_sense.mp3"))
    sfx_scout_sense.set_volume(0.25)
    sfx_scout_vanish = pygame.mixer.Sound(resource_path("resources/sounds/sfx_vanish.mp3"))
    sfx_scout_vanish.set_volume(0.60)
    sfx_scout_arrow = pygame.mixer.Sound(resource_path("resources/sounds/sfx_arrow.mp3"))
    sfx_scout_arrow.set_volume(0.35)

    sfx_enemy_ghoul = pygame.mixer.Sound(resource_path("resources/sounds/enemy_ghoul.mp3"))
    sfx_enemy_ghoul.set_volume(0.30)
    sfx_enemy_snake = pygame.mixer.Sound(resource_path("resources/sounds/enemy_snake.mp3"))
    sfx_enemy_snake.set_volume(0.15)
    sfx_enemy_chorizon = pygame.mixer.Sound(resource_path("resources/sounds/enemy_chorizon.mp3"))
    sfx_enemy_chorizon.set_volume(0.20)
    sfx_enemy_muchador = pygame.mixer.Sound(resource_path("resources/sounds/enemy_muchador.mp3"))
    sfx_enemy_muchador.set_volume(0.25)
    sfx_enemy_bandile = pygame.mixer.Sound(resource_path("resources/sounds/enemy_bandile.mp3"))
    sfx_enemy_bandile.set_volume(0.15)
    sfx_enemy_magmon = pygame.mixer.Sound(resource_path("resources/sounds/enemy_magmon.mp3"))
    sfx_enemy_magmon.set_volume(0.15)
    sfx_enemy_chinzilla = pygame.mixer.Sound(resource_path("resources/sounds/enemy_chinzilla.mp3"))
    sfx_enemy_chinzilla.set_volume(0.15)
    sfx_enemy_necrola = pygame.mixer.Sound(resource_path("resources/sounds/enemy_necrola.mp3"))
    sfx_enemy_necrola.set_volume(0.15)
    sfx_enemy_erebyth_growl = pygame.mixer.Sound(resource_path("resources/sounds/enemy_erebyth_growl.mp3"))
    sfx_enemy_erebyth_growl.set_volume(0.55)
    sfx_enemy_erebyth_flame = pygame.mixer.Sound(resource_path("resources/sounds/enemy_erebyth_flame.mp3"))
    sfx_enemy_erebyth_flame.set_volume(0.25)
    sfx_stelli_battle = pygame.mixer.Sound(resource_path("resources/sounds/stelli_battle.mp3"))
    sfx_stelli_battle.set_volume(0.20)
    sfx_enemy_osodark = pygame.mixer.Sound(resource_path("resources/sounds/enemy_osodark.mp3"))
    sfx_enemy_osodark.set_volume(0.30)
    sfx_enemy_atmon = pygame.mixer.Sound(resource_path("resources/sounds/enemy_atmon.mp3"))
    sfx_enemy_atmon.set_volume(0.20)
    sfx_enemy_atmon_loud = pygame.mixer.Sound(resource_path("resources/sounds/enemy_atmon.mp3"))
    sfx_enemy_atmon_loud.set_volume(0.25)
    sfx_dreth_laugh = pygame.mixer.Sound(resource_path("resources/sounds/sfx_dreth_laugh.mp3"))
    sfx_dreth_laugh.set_volume(0.40)
    sfx_enemy_jumano = pygame.mixer.Sound(resource_path("resources/sounds/enemy_jumano.mp3"))
    sfx_enemy_jumano.set_volume(0.20)
    sfx_enemy_dreth = pygame.mixer.Sound(resource_path("resources/sounds/enemy_dreth.mp3"))
    sfx_enemy_dreth.set_volume(0.30)
    sfx_enemy_dreth_shatter = pygame.mixer.Sound(resource_path("resources/sounds/enemy_dreth_shatter.mp3"))
    sfx_enemy_dreth_shatter.set_volume(0.25)

    sfx_cloaked = pygame.mixer.Sound(resource_path("resources/sounds/sfx_cloak.mp3"))
    sfx_cloaked.set_volume(0.20)

    sfx_burned = pygame.mixer.Sound(resource_path("resources/sounds/sfx_burn.mp3"))
    sfx_burned.set_volume(0.15)
    sfx_bleed = pygame.mixer.Sound(resource_path("resources/sounds/bleed.mp3"))
    sfx_bleed.set_volume(0.15)
    sfx_poison = pygame.mixer.Sound(resource_path("resources/sounds/poison.mp3"))
    sfx_poison.set_volume(0.25)
    sfx_crushed = pygame.mixer.Sound(resource_path("resources/sounds/crushed.mp3"))
    sfx_crushed.set_volume(0.20)

    sfx_surprise_attack = pygame.mixer.Sound(resource_path("resources/sounds/sfx_surprise_attack.mp3"))
    sfx_surprise_attack.set_volume(0.20)

    sfx_quest_complete = pygame.mixer.Sound(resource_path("resources/sounds/quest_complete.mp3"))
    sfx_quest_complete.set_volume(0.30)
    sfx_quest_start = pygame.mixer.Sound(resource_path("resources/sounds/quest_start.mp3"))
    sfx_quest_start.set_volume(0.15)
    sfx_level_up = pygame.mixer.Sound(resource_path("resources/sounds/level_up.mp3"))
    sfx_level_up.set_volume(0.25)
    sfx_role_level = pygame.mixer.Sound(resource_path("resources/sounds/role_level.mp3"))
    sfx_role_level.set_volume(0.20)

    sfx_sheet_paper = pygame.mixer.Sound(resource_path("resources/sounds/sheet_paper.mp3"))
    sfx_sheet_paper.set_volume(0.50)

    sfx_steps_path = pygame.mixer.Sound(resource_path("resources/sounds/steps_path.mp3"))
    sfx_steps_path.set_volume(0.06)
    sfx_steps_water = pygame.mixer.Sound(resource_path("resources/sounds/steps_water.mp3"))
    sfx_steps_water.set_volume(0.12)
    sfx_steps_chroma = pygame.mixer.Sound(resource_path("resources/sounds/sfx_chroma_walk.mp3"))
    sfx_steps_chroma.set_volume(0.18)

    sfx_item_chroma = pygame.mixer.Sound(resource_path("resources/sounds/sfx_chroma_walk.mp3"))
    sfx_item_chroma.set_volume(0.40)

    sfx_item_rupee = pygame.mixer.Sound(resource_path("resources/sounds/item_rupee.mp3"))
    sfx_item_rupee.set_volume(0.20)
    sfx_item_key = pygame.mixer.Sound(resource_path("resources/sounds/item_key.mp3"))
    sfx_item_key.set_volume(0.30)
    sfx_item_potion = pygame.mixer.Sound(resource_path("resources/sounds/item_potion.mp3"))
    sfx_item_potion.set_volume(0.20)
    sfx_item_flower = pygame.mixer.Sound(resource_path("resources/sounds/item_flower.mp3"))
    sfx_item_flower.set_volume(0.45)
    sfx_item_pickup = pygame.mixer.Sound(resource_path("resources/sounds/item_crate.mp3"))
    sfx_item_pickup.set_volume(0.15)
    sfx_item_equip = pygame.mixer.Sound(resource_path("resources/sounds/item_equip.mp3"))
    sfx_item_equip.set_volume(0.10)
    sfx_item_whistle = pygame.mixer.Sound(resource_path("resources/sounds/pet_whistle.mp3"))
    sfx_item_whistle.set_volume(0.40)
    sfx_item_snack = pygame.mixer.Sound(resource_path("resources/sounds/pet_snack.mp3"))
    sfx_item_snack.set_volume(0.30)
    sfx_item_block = pygame.mixer.Sound(resource_path("resources/sounds/sfx_item_block.mp3"))
    sfx_item_block.set_volume(0.35)

    sfx_activate_switch = pygame.mixer.Sound(resource_path("resources/sounds/activate_switch.mp3"))
    sfx_activate_switch.set_volume(0.15)
    sfx_activate_teleporter = pygame.mixer.Sound(resource_path("resources/sounds/activate_teleporter.mp3"))
    sfx_activate_teleporter.set_volume(0.20)
    sfx_door_open = pygame.mixer.Sound(resource_path("resources/sounds/door_open.mp3"))
    sfx_door_open.set_volume(0.35)
    sfx_gate_open = pygame.mixer.Sound(resource_path("resources/sounds/gate_open.mp3"))
    sfx_gate_open.set_volume(0.30)
    sfx_chest_open = pygame.mixer.Sound(resource_path("resources/sounds/chest_open.mp3"))
    sfx_chest_open.set_volume(0.25)
    sfx_rock_push = pygame.mixer.Sound(resource_path("resources/sounds/rock_push.mp3"))
    sfx_rock_push.set_volume(0.40)
    sfx_find = pygame.mixer.Sound(resource_path("resources/sounds/find.mp3"))
    sfx_find.set_volume(0.15)
    sfx_ladder = pygame.mixer.Sound(resource_path("resources/sounds/ladder.mp3"))
    sfx_ladder.set_volume(0.15)
    sfx_smelting = pygame.mixer.Sound(resource_path("resources/sounds/sfx_smelting.mp3"))
    sfx_smelting.set_volume(0.35)
    sfx_enchanting = pygame.mixer.Sound(resource_path("resources/sounds/sfx_enchanting.mp3"))
    sfx_enchanting.set_volume(0.35)
    sfx_rope_release = pygame.mixer.Sound(resource_path("resources/sounds/sfx_rope_release.mp3"))
    sfx_rope_release.set_volume(0.25)

    sfx_button_click = pygame.mixer.Sound(resource_path("resources/sounds/button_click.mp3"))
    sfx_button_click.set_volume(0.05)
    sfx_button_start = pygame.mixer.Sound(resource_path("resources/sounds/button_start.mp3"))
    sfx_button_start.set_volume(0.18)
    sfx_button_key = pygame.mixer.Sound(resource_path("resources/sounds/button_key.mp3"))
    sfx_button_key.set_volume(0.20)
    sfx_button_role = pygame.mixer.Sound(resource_path("resources/sounds/button_role.mp3"))
    sfx_button_role.set_volume(0.15)
    sfx_button_inventory = pygame.mixer.Sound(resource_path("resources/sounds/button_inventory.mp3"))
    sfx_button_inventory.set_volume(0.15)
    sfx_save_game = pygame.mixer.Sound(resource_path("resources/sounds/save_game.mp3"))
    sfx_save_game.set_volume(0.40)
    sfx_map_teleport = pygame.mixer.Sound(resource_path("resources/sounds/map_teleport.mp3"))
    sfx_map_teleport.set_volume(0.25)

    sfx_shop_transaction = pygame.mixer.Sound(resource_path("resources/sounds/shop_transaction.mp3"))
    sfx_shop_transaction.set_volume(0.35)
    sfx_skill_learn = pygame.mixer.Sound(resource_path("resources/sounds/skill_learn.mp3"))
    sfx_skill_learn.set_volume(0.50)
    sfx_inn_sleep = pygame.mixer.Sound(resource_path("resources/sounds/inn_sleep.mp3"))
    sfx_inn_sleep.set_volume(0.15)
    sfx_power_up = pygame.mixer.Sound(resource_path("resources/sounds/power_up.mp3"))
    sfx_power_up.set_volume(0.12)
    sfx_hatch = pygame.mixer.Sound(resource_path("resources/sounds/hatch.mp3"))
    sfx_hatch.set_volume(0.10)
    sfx_pet_reward = pygame.mixer.Sound(resource_path("resources/sounds/pet_reward.mp3"))
    sfx_pet_reward.set_volume(0.25)

    sfx_nede_bark = pygame.mixer.Sound(resource_path("resources/sounds/nede_bark.mp3"))
    sfx_nede_bark.set_volume(0.40)
    sfx_cat_meow = pygame.mixer.Sound(resource_path("resources/sounds/cat_meow.mp3"))
    sfx_cat_meow.set_volume(0.50)
    sfx_talking = pygame.mixer.Sound(resource_path("resources/sounds/prime_jezus_talk.mp3"))
    sfx_talking.set_volume(0.20)

    sfx_firework = pygame.mixer.Sound(resource_path("resources/sounds/sfx_firework.mp3"))
    sfx_firework.set_volume(0.35)

    sfx_fishing_cast = pygame.mixer.Sound(resource_path("resources/sounds/sfx_fishing_cast.mp3"))
    sfx_fishing_cast.set_volume(0.20)
    sfx_fishing_splash = pygame.mixer.Sound(resource_path("resources/sounds/sfx_fishing_splash.mp3"))
    sfx_fishing_splash.set_volume(0.15)
    sfx_fishing_catch = pygame.mixer.Sound(resource_path("resources/sounds/sfx_fish_catch.mp3"))
    sfx_fishing_catch.set_volume(0.20)

    sfx_card_drop = pygame.mixer.Sound(resource_path("resources/sounds/card_drop.mp3"))
    sfx_card_drop.set_volume(0.25)

    sfx_howl = pygame.mixer.Sound(resource_path("resources/sounds/wolf_howl.mp3"))
    sfx_howl.set_volume(0.30)
    sfx_chirp = pygame.mixer.Sound(resource_path("resources/sounds/bird_chirp.mp3"))
    sfx_chirp.set_volume(0.10)

    # main loop variables ----------------------------------------------------------------------------------------------
    show_pet_advancement = False
    level_visual_insert = False
    bait_given = False
    level_checked = False
    game_running = True
    saving = False
    new_game_chosen = False
    continue_game_chosen = False
    game_over_sound_played = False
    start_chosen = False
    amuna_race_selected = True
    nuldar_race_selected = False
    sorae_race_selected = False
    name_input_selected = False
    in_over_world = True
    in_battle = False
    in_shop = False
    in_inn = False
    in_academia = False
    in_apothecary = False
    in_menagerie = False
    in_hut = False
    in_npc_interaction = False
    interacted = False
    movement_able = True
    combat_cooldown = False
    combat_happened = False
    buy_clicked = False
    rest_clicked = False
    mage_learn_clicked = False
    fighter_learn_clicked = False
    scout_learn_clicked = False
    character_button_clicked = False
    journal_button_clicked = False
    map_button_clicked = False
    encounter_started = False
    item_bought = False
    rested = False
    barrier_learned = False
    hard_strike_learned = False
    sharp_sense_learned = False
    mirror_learned = False
    stun_learned = False
    vanish_learned = False
    fire_learned = False
    edge_learned = False
    arrow_learned = False
    barrier_active = False
    sharp_sense_active = False
    fire_active = False
    strike_active = False
    arrow_active = False
    faded_inn_screen = False
    hard_strike = False
    quest_clicked = False
    knowledge_academia_show = False
    rest_recover_show = False
    outpost_show = True
    saved = False
    entered = False
    loot_updated = True
    loot_info = False
    level_visual = False
    garan_complete_shown = False
    maurelle_complete_shown = False
    celeste_complete_shown = False
    torune_complete_shown = False
    voruke_complete_shown = False
    zerah_complete_shown = False
    kirean_complete_shown = False
    dionte_complete_shown = False
    aitor_complete_shown = False
    omoku_complete_shown = False
    leyre_complete_shown = False
    everett_complete_shown = False
    artherian_complete_shown = False
    maydria_complete_shown = False
    fishing_complete_shown = False
    trading_complete_shown = False
    kuba_complete_shown = False
    nahun_complete_shown = False
    illisare_complete_shown = False
    roroc_complete_shown = False
    snake_sprite_reset = False
    ghoul_sprite_reset = False
    log_sprite_reset = False
    nede_sprite_reset = False
    quest_guide_shown = False
    battle_guide_shown = False
    apothis_popup_shown = False
    quest_highlight_popup = True
    shop_cat_pet = False
    academia_cat_pet = False
    apothecary_cat_pet = False
    menagerie_cat_pet = False
    rest_shown_before = False
    cloaked_popup_shown = False
    condition_popup_shown = False
    pet_popup_shown = False
    leveled = False
    button_highlighted = False
    book_appended = False
    first_npc_cond = True
    first_shop_cond = True
    first_inn_cond = True
    first_academy_cond = True
    first_battle_cond = True
    bridge_not_repaired = True
    nede_ghoul_defeated = False
    bridge_cutscenes_not_viewed = True
    dreth_cutscenes_not_viewed = True
    has_key = False
    muchador_lights_on = False
    muchador_relocate = False
    muchador_defeated = False
    mini_boss_1_defeated = False
    mini_boss_2_defeated = False
    chinzilla_defeated = False
    gloves_obtained = False
    korlok_attuned = False
    eldream_attuned = False
    marrow_attuned = False
    apothecary_access = False
    menagerie_access = False
    prime_1 = True
    prime_2 = False
    prime_3 = False
    jez_1 = True
    jez_2 = False
    jez_3 = False
    entrance_1 = True
    entrance_2 = False
    entrance_3 = False
    talk_start = False
    chorizon_phase = False
    boots_obtained = False
    erebyth_defeated = False
    dreth_defeated = False
    apothis_push = False
    apothis_1 = True
    apothis_2 = False
    artherian_1 = False
    artherian_2 = False
    npc_text_reset = False
    seed_given = False
    hatch_ready = False
    hatched = False
    hatch_show = True
    hatch_sound = False
    kasper_unlocked = False
    torok_unlocked = False
    iriana_unlocked = False
    rock_3_con = False
    rock_4_con = False
    rock_5_con = False
    rock_6_con = False
    rock_7_con = False
    rock_8_con = False
    over_world_song_set = False
    building_song_set = False
    new_game_music = False
    attack_hotkey = False
    skill_1_hotkey = False
    skill_2_hotkey = False
    skill_3_hotkey = False
    mirror_image = False
    vanished = False
    stun_them = False
    stun_visual = False
    beyond_seldon = False
    start_logo_set = False
    using_forge = False
    smelted_casing = False
    enchanted_casing = False
    fireworking = False
    fishing_unlocked = False
    fishing_journal_unlocked = False
    trading_deck = False
    trading_task_complete = False
    fishing = False
    fish_caught = False
    fishing_level = 1
    basic_fish_reward = False
    better_fish_reward = False
    even_better_fish_reward = False
    best_fish_reward = False
    # reservoir dungeon conditions
    crate_1 = False
    crate_2 = False
    crate_3 = False
    crate_4 = False
    crate_5 = False
    switch_1 = False
    switch_2 = False
    switch_3 = False
    mini_boss_1 = False
    mini_boss_2 = False
    ramps_crate_1_got = False
    ramps_crate_2_got = False
    ramps_crate_3_got = False
    ramps_crate_4_got = False
    ramps_crate_5_got = False
    castle_crate_1_got = False
    castle_crate_2_got = False
    castle_chest_1_got = False
    castle_chest_2_got = False
    apothecary_window_open = False
    menagerie_window_open = False
    hut_window_open = False
    trade_window_open = False
    critter_right_move = False
    critter_left_move = True
    critter_up_move = False
    walk_move = True
    alpha_set = False
    logo_alpha_set = False
    music_toggle = False
    catch_played = False
    marrow_small_chest_got = False
    prism_received = False
    artherian_task_start = False
    dreth_taunt_1 = False
    dreth_taunt_2 = False
    dreth_taunt_3 = False
    dreth_taunt_4 = False
    mirage_updated = False
    mirage_2_updated = False
    mirage_saved = False
    mirage_2_saved = False
    thanked = False
    surprised = False
    apothis_gift = False
    apothis_upgrade = False
    sub_marrow_opened = False
    credits_shown = False
    cat_rewarded = False
    show_cat_card = False
    show_trade_deck = False
    in_card_cave = False
    card_drop_played = False
    cleared = False
    show_arrow = False
    show_poison_arrow = False
    edge_active = False
    show_edge = False
    on_card_quest = False
    card_counted = False
    card_popup_checked = False
    item_block_1_got = False
    item_block_2_got = False
    item_block_3_got = False
    item_block_4_got = False
    item_block_5_got = False
    item_block_6_got = False
    item_block_7_got = False
    item_block_8_got = False
    item_block_9_got = False
    item_block_10_got = False
    item_block_11_got = False
    item_block_12_got = False
    loot_timer_reset = True

    marrow_ghouls_reset = False
    magmons_reset = False
    bandiles_reset = False
    necrolas_reset = False
    atmons_reset = False

    snakes_highlighted = False
    ghouls_seldon_highlighted = False
    marrow_ghouls_highlighted = False
    bandiles_highlighted = False
    magmons_highlighted = False
    necrolas_highlighted = False
    atmons_highlighted = False

    quest_logs_highlighted = False
    ore_highlighted = False
    supplies_highlighted = False
    construct_parts_one_highlighted = False
    construct_parts_two_highlighted = False

    time_of_day = 1
    day_timer_started = False

    cloaked = False
    burned = False
    poisoned = False
    bleeding = False
    crushed = False

    bleed_shown = False
    crush_shown = False
    poisoned_before = False
    first_attack = True

    # worker position for updates on map
    worker_positions = [[618, 428], [895, 475], [655, 638]]
    # apothecary flower counters
    seldon_flower_counter = 0
    eldream_flower_counter = 0
    # fish collection counters
    basic_fish_counter = 0
    better_fish_counter = 0
    even_better_fish_counter = 0
    best_fish_counter = 0
    # combat event counters
    turn_counter = 0
    # counter to count number of atmons killed for prism task/drop
    atmon_counter = 0
    # keeps track of growing orb for mage transpose skill
    transpose_orb = 0

    cats_pet = {"seldon_shop": False, "seldon_academia": False, "korlok_shop": False, "korlok_apothecary": False,
                "eldream_shop": False, "eldream_menagerie": False, "marrow": False}

    card_deck = {"basic_snake": 0, "better_snake": 0, "basic_ghoul": 0, "better_ghoul": 0,
                 "basic_bandile": 0, "better_bandile": 0, "basic_magmon": 0, "better_magmon": 0,
                 "better_necrola": 0, "best_necrola": 0, "better_osodark": 0, "best_osodark": 0,
                 "better_atmon": 0, "best_atmon": 0, "better_jumano": 0, "best_jumano": 0,
                 "chorizon": 0, "muchador": 0, "chinzilla": 0, "erebyth": 0, "dreth": 0, "snake_popup": False,
                 "ghoul_popup": False, "bandile_popup": False, "magmon_popup": False, "necrola_popup": False,
                 "osodark_popup": False, "atmon_popup": False, "jumano_popup": False}

    # counter for collection task to unlock trading card window
    any_card_counter = 0

    buy_shop_elements = []
    stardust_upgrade_elements = []
    shopkeeper_items = []
    skill_learn_items = []
    books = []
    save_check_window = []
    save_data_window = []
    sell_window = []
    buy_window = []
    loot_popup_container = []
    loot_text_container = []

    info_text_1 = ''
    info_text_2 = ''
    info_text_3 = ''
    info_text_4 = ''
    character_name_input = ''
    current_buy_item = ''
    current_sell_item = ''
    current_info_item = ''
    gender_choice = 'male'
    marrow_switch_phase = 'none'
    firework_type = ''
    previous_surf = player.surf
    rope_phase = 0
    light_switch = 0
    quest_district_selected = 0
    snow_fall_phase = 0

    # default objects for event loops, updated when player interacts with new object
    current_enemy_battling = snake_1
    current_npc_interacting = npc_garan
    current_building_entering = seldon_inn

    battle_info_to_return_to_main_loop = {"experience": 0, "item dropped": "", "leveled_up": False, "knowledge": ""}

    clock = pygame.time.Clock()
    enemy_tic = time.perf_counter()
    worker_tic = time.perf_counter()
    worker_move_tic = time.perf_counter()
    npc_tic = time.perf_counter()
    walk_tic = time.perf_counter()
    loot_level_tic = time.perf_counter()
    walk_sound_tic = time.perf_counter()
    level_visual_tic = time.perf_counter()
    critter_tic = time.perf_counter()
    worker_delay_tic = time.perf_counter()
    start_logo_tic = time.perf_counter()
    firework_tic = time.perf_counter()
    fishing_timer = time.perf_counter()
    prism_activate_tic = time.perf_counter()
    combat_tic = time.perf_counter()
    snow_fall_tic = time.perf_counter()

    # main loop --------------------------------------------------------------------------------------------------------
    while game_running:

        SCREEN_WIDTH, SCREEN_HEIGHT = game_window.get_size()
        # print(player.x_coordinate, player.y_coordinate)

        # --------------------------------------------------------------------------------------------------------------
        if not new_game_chosen and not continue_game_chosen and not start_chosen:

            if not start_logo_set:
                start_logo_toc = time.perf_counter()

            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                screen.blit(start_screen, (0, 0))
                if start_logo_set:
                    if not logo_alpha_set:
                        start_screen_logo.set_alpha(255)
                        logo_alpha_set = True
                    screen.blit(start_screen_logo, (0, 0))
                    screen.blit(new_game_button.surf, new_game_button.rect)
                    screen.blit(continue_button.surf, continue_button.rect)
                    screen.blit(music_toggle_button.surf, music_toggle_button.rect)

                if start_logo_toc - start_logo_tic > 1:
                    if not start_logo_set:
                        for alpha in range(0, 100):
                            start_screen_logo.set_alpha(alpha)
                            screen.blit(start_screen_logo, (0, 0))
                            pygame.display.flip()
                        start_logo_set = True
            else:
                game_window.blit(start_screen, (0, 0))
                if start_logo_set:
                    if not logo_alpha_set:
                        start_screen_logo.set_alpha(255)
                        logo_alpha_set = True
                    game_window.blit(start_screen_logo, (0, 0))
                    game_window.blit(new_game_button.surf, new_game_button.rect)
                    game_window.blit(continue_button.surf, continue_button.rect)
                    game_window.blit(music_toggle_button.surf, music_toggle_button.rect)

                if start_logo_toc - start_logo_tic > 1:
                    if not start_logo_set:
                        for alpha in range(0, 100):
                            start_screen_logo.set_alpha(alpha)
                            game_window.blit(start_screen_logo, (0, 0))
                            pygame.display.flip()
                        start_logo_set = True

            if len(save_data_window) > 0:
                for element in save_data_window:
                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        screen.blit(element.surf, element.rect)
                    else:
                        game_window.blit(element.surf, element.rect)

            for event in pygame.event.get():
                if event.type == KEYDOWN:
                    if event.key == K_ESCAPE:
                        if len(save_data_window) > 0:
                            for _ in save_data_window:
                                save_data_window.clear()

                init_pos = list(pygame.mouse.get_pos())
                ratio_x = (SCREEN_WIDTH / screen.get_width())
                ratio_y = (SCREEN_HEIGHT / screen.get_height())
                pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)

                if start_logo_set:
                    button_highlighted = button_highlighter(pos)
                if event.type == pygame.MOUSEBUTTONUP:

                    # turn music off and on
                    if music_toggle_button.rect.collidepoint(pos):
                        if not music_toggle:
                            pygame.mixer.music.pause()
                            music_toggle_button.update(1235, 44, graphic_dict["music_button_off"])
                            music_toggle = True
                        else:
                            pygame.mixer.music.unpause()
                            music_toggle_button.update(1235, 44, graphic_dict["music_button"])
                            music_toggle = False

                    if start_logo_set:
                        # player chooses to start a new game or continue from previous
                        if new_game_button.rect.collidepoint(pos):
                            pygame.mixer.find_channel(True).play(sfx_button_click)
                            new_game_chosen = True
                            button_highlighted = False
                            save_data_window.clear()
                        if continue_button.rect.collidepoint(pos):
                            if len(save_data_window) == 0:
                                pygame.mixer.find_channel(True).play(sfx_button_start)
                                continue_game_chosen = True
                                button_highlighted = False
                    # click to dismiss save absent popup if player tries to continue with no save file
                    if save_absent.rect.collidepoint(pos):
                        save_data_window.clear()
                elif event.type == QUIT:
                    sys.exit()

            if button_highlighted:
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(button_highlight.surf, button_highlight.rect)
                else:
                    game_window.blit(button_highlight.surf, button_highlight.rect)

            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH, SCREEN_HEIGHT))
                game_window.blit(frame, frame.get_rect())
                pygame.display.flip()

            else:
                pygame.display.flip()

        # --------------------------------------------------------------------------------------------------------------
        # character selection for new game -----------------------------------------------------------------------------
        if new_game_chosen:

            if not new_game_music:
                if pygame.mixer.music.get_busy():
                    pygame.mixer.music.fadeout(50)
                    pygame.mixer.music.load(character_select_music)
                    pygame.mixer.music.play(loops=-1)
                    new_game_music = True

            for event in pygame.event.get():
                if event.type == KEYDOWN:
                    if event.key == K_ESCAPE:
                        new_game_chosen = False
                    # if enter key is pressed, de-select name box and proceed
                    if event.key == K_RETURN:
                        name_input_selected = False
                        entered = True
                    if event.key == K_BACKSPACE:
                        if name_input_selected:
                            pygame.mixer.find_channel(True).play(sfx_button_key)
                            character_name_input = character_name_input[:-1]
                    else:
                        if name_input_selected:
                            if len(character_name_input) < 12:
                                pygame.mixer.find_channel(True).play(sfx_button_key)
                                character_name_input += event.unicode
                elif event.type == QUIT:
                    pygame.mixer.quit()
                    sys.exit()

                init_pos = list(pygame.mouse.get_pos())
                ratio_x = (SCREEN_WIDTH / screen.get_width())
                ratio_y = (SCREEN_HEIGHT / screen.get_height())
                pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                button_highlighted = button_highlighter(pos)

                if event.type == pygame.MOUSEBUTTONUP:

                    # turn music off and on
                    if music_toggle_button.rect.collidepoint(pos):
                        if not music_toggle:
                            pygame.mixer.music.pause()
                            music_toggle_button.update(1235, 44, graphic_dict["music_button_off"])
                            music_toggle = True
                        else:
                            pygame.mixer.music.unpause()
                            music_toggle_button.update(1235, 44, graphic_dict["music_button"])
                            music_toggle = False

                    # player clicks on the box to type name
                    if name_input.rect.collidepoint(pos):
                        if name_input_selected:
                            if len(character_name_input) < 1:
                                name_input.update(name_input.x_coordinate, name_input.y_coordinate,
                                                  graphic_dict["name_input_img"])
                            name_input_selected = False
                        else:
                            name_input.update(name_input.x_coordinate, name_input.y_coordinate,
                                              graphic_dict["name_input_empty_img"])
                            name_input_selected = True

                    # player amuna race selection, set conditions to go to amuna select screen
                    if amuna_button.rect.collidepoint(pos):
                        pygame.mixer.find_channel(True).play(sfx_button_click)
                        amuna_race_selected = True
                        nuldar_race_selected = False
                        sorae_race_selected = False
                    # player amuna race selection, set conditions to go to amuna select screen
                    if nuldar_button.rect.collidepoint(pos):
                        pygame.mixer.find_channel(True).play(sfx_button_click)
                        amuna_race_selected = False
                        nuldar_race_selected = True
                        sorae_race_selected = False
                    # player amuna race selection, set conditions to go to amuna select screen
                    if sorae_button.rect.collidepoint(pos):
                        pygame.mixer.find_channel(True).play(sfx_button_click)
                        amuna_race_selected = False
                        nuldar_race_selected = False
                        sorae_race_selected = True

                    # player gender selection for amuna and nuldar, type for sorae
                    if amuna_male_button.rect.collidepoint(pos):
                        amuna_race_selected = True
                        nuldar_race_selected = False
                        sorae_race_selected = False
                        pygame.mixer.find_channel(True).play(sfx_button_click)
                        gender_choice = "male"
                    if amuna_female_button.rect.collidepoint(pos):
                        amuna_race_selected = True
                        nuldar_race_selected = False
                        sorae_race_selected = False
                        pygame.mixer.find_channel(True).play(sfx_button_click)
                        gender_choice = "female"
                    if nuldar_male_button.rect.collidepoint(pos):
                        amuna_race_selected = False
                        nuldar_race_selected = True
                        sorae_race_selected = False
                        pygame.mixer.find_channel(True).play(sfx_button_click)
                        gender_choice = "male"
                    if nuldar_female_button.rect.collidepoint(pos):
                        amuna_race_selected = False
                        nuldar_race_selected = True
                        sorae_race_selected = False
                        pygame.mixer.find_channel(True).play(sfx_button_click)
                        gender_choice = "female"
                    if sorae_alpha_button.rect.collidepoint(pos):
                        amuna_race_selected = False
                        nuldar_race_selected = False
                        sorae_race_selected = True
                        pygame.mixer.find_channel(True).play(sfx_button_click)
                        gender_choice = "male"
                    if sorae_beta_button.rect.collidepoint(pos):
                        amuna_race_selected = False
                        nuldar_race_selected = False
                        sorae_race_selected = True
                        pygame.mixer.find_channel(True).play(sfx_button_click)
                        gender_choice = "female"

                    # noinspection PyUnboundLocalVariable
                    if start_button.rect.collidepoint(pos) or entered:
                        if music_toggle:
                            music_toggle_button.update(775, 44, graphic_dict["music_button_off"])
                        if not music_toggle:
                            music_toggle_button.update(775, 44, graphic_dict["music_button"])
                        pygame.mixer.find_channel(True).play(sfx_button_start)
                        if amuna_race_selected:
                            player = PlayerAmuna(player.name, player.race, gender_choice, player.role, player.items,
                                                 player.equipment, player.current_quests, player.quest_progress,
                                                 player.quest_status, player.quest_complete, player.knowledge,
                                                 player.skills_mage, player.skills_fighter, player.skills_scout,
                                                 player.level, player.experience, player.health, player.energy,
                                                 player.alive_status, player.rupees, player.reputation,
                                                 player.current_zone, player.defense, player.offense, player.star_power,
                                                 player.flowers_amuna, player.flowers_sorae, player.pet,
                                                 player.velocity, player.mage_level, player.fighter_level, 2)
                            player.race = "amuna"
                            if player.gender == "male":
                                player.surf = graphic_dict["player_no_role_amuna_male_down_1"]
                            if player.gender == "female":
                                player.surf = graphic_dict["player_no_role_amuna_female_down_1"]
                            player.current_zone = "nascent"
                            in_over_world = True
                            new_game_chosen = False
                            start_chosen = True
                        if nuldar_race_selected:
                            player = PlayerNuldar(player.name, player.race, gender_choice, player.role, player.items,
                                                  player.equipment, player.current_quests, player.quest_progress,
                                                  player.quest_status, player.quest_complete, player.knowledge,
                                                  player.skills_mage, player.skills_fighter, player.skills_scout,
                                                  player.level, player.experience, player.health, player.energy,
                                                  player.alive_status, player.rupees, player.reputation,
                                                  player.current_zone, player.defense, player.offense,
                                                  player.star_power, player.flowers_amuna, player.flowers_sorae,
                                                  player.pet, player.velocity, player.mage_level, 2, player.scout_level)
                            player.race = "nuldar"
                            if player.gender == "male":
                                player.surf = graphic_dict["player_no_role_nuldar_male_down_1"]
                            if player.gender == "female":
                                player.surf = graphic_dict["player_no_role_nuldar_female_down_1"]
                            player.current_zone = "nascent"
                            in_over_world = True
                            new_game_chosen = False
                            start_chosen = True
                        if sorae_race_selected:
                            player = PlayerSorae(player.name, player.race, gender_choice, player.role, player.items,
                                                 player.equipment, player.current_quests, player.quest_progress,
                                                 player.quest_status, player.quest_complete, player.knowledge,
                                                 player.skills_mage, player.skills_fighter, player.skills_scout,
                                                 player.level, player.experience, player.health, player.energy,
                                                 player.alive_status, player.rupees, player.reputation,
                                                 player.current_zone, player.defense, player.offense, player.star_power,
                                                 player.flowers_amuna, player.flowers_sorae, player.pet,
                                                 player.velocity, 2, player.fighter_level, player.scout_level)
                            player.race = "sorae"
                            if player.gender == "male":
                                player.surf = graphic_dict["player_no_role_sorae_a_down_1"]
                            if player.gender == "female":
                                player.surf = graphic_dict["player_no_role_sorae_b_down_1"]
                            player.current_zone = "nascent"
                            in_over_world = True
                            new_game_chosen = False
                            start_chosen = True

                        if len(character_name_input) > 0:
                            player.name = str(character_name_input)
                        else:
                            player.name = "Default"

                    if back_button.rect.collidepoint(pos):
                        pygame.mixer.find_channel(True).play(sfx_item_flower)
                        button_highlighted = False
                        new_game_chosen = False

            # amuna race selected on character selection screen --------------------------------------------------------
            if amuna_race_selected:
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    character_creation.character_screen_draw(screen, "amuna", gender_choice, amuna_character_screen,
                                                             nuldar_character_screen, sorae_character_screen,
                                                             character_select_overlay, amuna_select_overlay,
                                                             amuna_male_character, amuna_female_character,
                                                             nuldar_select_overlay, nuldar_male_character,
                                                             nuldar_female_character, sorae_select_overlay,
                                                             sorae_a_character, sorae_b_character, amuna_button,
                                                             nuldar_button, sorae_button, start_button, back_button,
                                                             name_input, name_input_font, character_name_input,
                                                             amuna_male_button, amuna_female_button, nuldar_male_button,
                                                             nuldar_female_button, sorae_alpha_button,
                                                             sorae_beta_button)
                else:
                    character_creation.character_screen_draw(game_window, "amuna", gender_choice,
                                                             amuna_character_screen, nuldar_character_screen,
                                                             sorae_character_screen, character_select_overlay,
                                                             amuna_select_overlay, amuna_male_character,
                                                             amuna_female_character, nuldar_select_overlay,
                                                             nuldar_male_character, nuldar_female_character,
                                                             sorae_select_overlay, sorae_a_character, sorae_b_character,
                                                             amuna_button, nuldar_button, sorae_button, start_button,
                                                             back_button, name_input, name_input_font,
                                                             character_name_input, amuna_male_button,
                                                             amuna_female_button, nuldar_male_button,
                                                             nuldar_female_button, sorae_alpha_button,
                                                             sorae_beta_button)

                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(music_toggle_button.surf, music_toggle_button.rect)
                else:
                    game_window.blit(music_toggle_button.surf, music_toggle_button.rect)

                if button_highlighted:
                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        screen.blit(button_highlight.surf, button_highlight.rect)
                    else:
                        game_window.blit(button_highlight.surf, button_highlight.rect)
                if gender_choice == "male":
                    gender_select_highlight.update(275, 245, graphic_dict["gender select"])
                if gender_choice == "female":
                    gender_select_highlight.update(349, 245, graphic_dict["gender select"])
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(gender_select_highlight.surf, gender_select_highlight.rect)
                else:
                    game_window.blit(gender_select_highlight.surf, gender_select_highlight.rect)
                race_select_highlight.update(158, 245, graphic_dict["race select"])
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(race_select_highlight.surf, race_select_highlight.rect)
                else:
                    game_window.blit(race_select_highlight.surf, race_select_highlight.rect)

                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH, SCREEN_HEIGHT))
                    game_window.blit(frame, frame.get_rect())
                    pygame.display.flip()

                else:
                    pygame.display.flip()

            # nuldar race selected on character selection screen -------------------------------------------------------
            if nuldar_race_selected:
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    character_creation.character_screen_draw(screen, "nuldar", gender_choice, amuna_character_screen,
                                                             nuldar_character_screen, sorae_character_screen,
                                                             character_select_overlay, amuna_select_overlay,
                                                             amuna_male_character, amuna_female_character,
                                                             nuldar_select_overlay, nuldar_male_character,
                                                             nuldar_female_character, sorae_select_overlay,
                                                             sorae_a_character, sorae_b_character, amuna_button,
                                                             nuldar_button, sorae_button, start_button, back_button,
                                                             name_input, name_input_font, character_name_input,
                                                             amuna_male_button, amuna_female_button, nuldar_male_button,
                                                             nuldar_female_button, sorae_alpha_button,
                                                             sorae_beta_button)
                else:
                    character_creation.character_screen_draw(game_window, "nuldar", gender_choice,
                                                             amuna_character_screen, nuldar_character_screen,
                                                             sorae_character_screen, character_select_overlay,
                                                             amuna_select_overlay, amuna_male_character,
                                                             amuna_female_character, nuldar_select_overlay,
                                                             nuldar_male_character, nuldar_female_character,
                                                             sorae_select_overlay, sorae_a_character, sorae_b_character,
                                                             amuna_button, nuldar_button, sorae_button, start_button,
                                                             back_button, name_input, name_input_font,
                                                             character_name_input, amuna_male_button,
                                                             amuna_female_button, nuldar_male_button,
                                                             nuldar_female_button, sorae_alpha_button,
                                                             sorae_beta_button)

                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(music_toggle_button.surf, music_toggle_button.rect)
                else:
                    game_window.blit(music_toggle_button.surf, music_toggle_button.rect)

                if button_highlighted:
                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        screen.blit(button_highlight.surf, button_highlight.rect)
                    else:
                        game_window.blit(button_highlight.surf, button_highlight.rect)
                if gender_choice == "male":
                    gender_select_highlight.update(275, 340, graphic_dict["gender select"])
                if gender_choice == "female":
                    gender_select_highlight.update(349, 340, graphic_dict["gender select"])
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(gender_select_highlight.surf, gender_select_highlight.rect)
                else:
                    game_window.blit(gender_select_highlight.surf, gender_select_highlight.rect)
                race_select_highlight.update(158, 340, graphic_dict["race select"])
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(race_select_highlight.surf, race_select_highlight.rect)
                else:
                    game_window.blit(race_select_highlight.surf, race_select_highlight.rect)

                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH, SCREEN_HEIGHT))
                    game_window.blit(frame, frame.get_rect())
                    pygame.display.flip()
                else:
                    pygame.display.flip()

            # sorae race selected on character selection screen --------------------------------------------------------
            if sorae_race_selected:
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    character_creation.character_screen_draw(screen, "sorae", gender_choice, amuna_character_screen,
                                                             nuldar_character_screen, sorae_character_screen,
                                                             character_select_overlay, amuna_select_overlay,
                                                             amuna_male_character, amuna_female_character,
                                                             nuldar_select_overlay, nuldar_male_character,
                                                             nuldar_female_character, sorae_select_overlay,
                                                             sorae_a_character, sorae_b_character, amuna_button,
                                                             nuldar_button, sorae_button, start_button, back_button,
                                                             name_input, name_input_font, character_name_input,
                                                             amuna_male_button, amuna_female_button, nuldar_male_button,
                                                             nuldar_female_button, sorae_alpha_button,
                                                             sorae_beta_button)
                else:
                    character_creation.character_screen_draw(game_window, "sorae", gender_choice,
                                                             amuna_character_screen, nuldar_character_screen,
                                                             sorae_character_screen, character_select_overlay,
                                                             amuna_select_overlay, amuna_male_character,
                                                             amuna_female_character, nuldar_select_overlay,
                                                             nuldar_male_character, nuldar_female_character,
                                                             sorae_select_overlay, sorae_a_character, sorae_b_character,
                                                             amuna_button, nuldar_button, sorae_button, start_button,
                                                             back_button, name_input, name_input_font,
                                                             character_name_input, amuna_male_button,
                                                             amuna_female_button, nuldar_male_button,
                                                             nuldar_female_button, sorae_alpha_button,
                                                             sorae_beta_button)

                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(music_toggle_button.surf, music_toggle_button.rect)
                else:
                    game_window.blit(music_toggle_button.surf, music_toggle_button.rect)

                if button_highlighted:
                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        screen.blit(button_highlight.surf, button_highlight.rect)
                    else:
                        game_window.blit(button_highlight.surf, button_highlight.rect)
                if gender_choice == "male":
                    gender_select_highlight.update(275, 435, graphic_dict["gender select"])
                if gender_choice == "female":
                    gender_select_highlight.update(349, 435, graphic_dict["gender select"])
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(gender_select_highlight.surf, gender_select_highlight.rect)
                else:
                    game_window.blit(gender_select_highlight.surf, gender_select_highlight.rect)
                race_select_highlight.update(158, 435, graphic_dict["race select"])
                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    screen.blit(race_select_highlight.surf, race_select_highlight.rect)
                else:
                    game_window.blit(race_select_highlight.surf, race_select_highlight.rect)

                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH, SCREEN_HEIGHT))
                    game_window.blit(frame, frame.get_rect())
                    pygame.display.flip()
                else:
                    pygame.display.flip()

        # continue game selected on start screen. try to load player info from save_game file --------------------------
        if continue_game_chosen:
            try:
                try:
                    load_returned = gameplay_functions.load_game(player, Item, graphic_dict, Pet)
                    try:
                        if load_returned["not found"]:
                            save_data_window.append(save_absent)
                        continue_game_chosen = load_returned["continue"]
                        music_toggle = load_returned["music_toggle"]
                        if music_toggle:
                            pygame.mixer.music.pause()
                        smelted_casing = load_returned["smelted_casing"]
                        barrier_learned = load_returned["barrier learned"]
                        hard_strike_learned = load_returned["strike learned"]
                        sharp_sense_learned = load_returned["sense learned"]
                        mirror_learned = load_returned["mirror learned"]
                        stun_learned = load_returned["stun learned"]
                        vanish_learned = load_returned["vanish learned"]
                        saved = load_returned["saved"]
                        start_chosen = load_returned["start"]
                        npc_garan.gift = load_returned["garan gift"]
                        npc_artherian.gift = load_returned["artherian gift"]
                        npc_artherian.quest_complete = load_returned["artherian_complete"]
                        artherian_2 = load_returned["artherian_2"]
                        rest_recover_show = load_returned["rest popup"]
                        knowledge_academia_show = load_returned["knowledge popup"]
                        quest_guide_shown = load_returned["quest guide"]
                        battle_guide_shown = load_returned["battle guide"]
                        rest_shown_before = load_returned["rest shown before"]
                        quest_highlight_popup = load_returned["quest highlight popup"]
                        bridge_not_repaired = load_returned["bridge not repaired"]
                        nede_ghoul_defeated = load_returned["nede ghoul defeated"]
                        bridge_cutscenes_not_viewed = load_returned["bridge_cutscenes_not_viewed"]
                        dreth_cutscenes_not_viewed = load_returned["dreth_cutscenes_not_viewed"]
                        crate_1 = load_returned["crate_1"]
                        crate_2 = load_returned["crate_2"]
                        crate_3 = load_returned["crate_3"]
                        crate_4 = load_returned["crate_4"]
                        crate_5 = load_returned["crate_5"]
                        ramps_crate_1_got = load_returned["ramps_crate_1"]
                        ramps_crate_2_got = load_returned["ramps_crate_2"]
                        ramps_crate_3_got = load_returned["ramps_crate_3"]
                        ramps_crate_4_got = load_returned["ramps_crate_4"]
                        ramps_crate_5_got = load_returned["ramps_crate_5"]
                        switch_1 = load_returned["switch_1"]
                        switch_2 = load_returned["switch_2"]
                        switch_3 = load_returned["switch_3"]
                        rock_3_con = load_returned["rock_3_con"]
                        rock_4_con = load_returned["rock_4_con"]
                        rock_5_con = load_returned["rock_5_con"]
                        rock_6_con = load_returned["rock_6_con"]
                        rock_7_con = load_returned["rock_7_con"]
                        rock_8_con = load_returned["rock_8_con"]
                        muchador_defeated = load_returned["muchador_defeated"]
                        chinzilla_defeated = load_returned["chinzilla_defeated"]
                        has_key = load_returned["has_key"]
                        gloves_obtained = load_returned["gloves_obtained"]
                        boots_obtained = load_returned["boots_obtained"]
                        korlok_attuned = load_returned["korlok_attuned"]
                        eldream_attuned = load_returned["eldream_attuned"]
                        marrow_attuned = load_returned["marrow_attuned"]
                        apothecary_access = load_returned["apothecary_access"]
                        beyond_seldon = load_returned["beyond seldon"]
                        seed_given = load_returned["seed given"]
                        hatch_ready = load_returned["hatch ready"]
                        menagerie_access = load_returned["menagerie access"]
                        kasper_unlocked = load_returned["kasper unlocked"]
                        torok_unlocked = load_returned["torok unlocked"]
                        iriana_unlocked = load_returned["iriana unlocked"]
                        drawing_functions.pet_button_draw(kasper_unlocked, kasper_whistle_button, torok_unlocked,
                                                          torok_whistle_button, iriana_unlocked, iriana_whistle_button)
                        seed_mage_count = load_returned["seed mage"]
                        seed_fighter_count = load_returned["seed fighter"]
                        seed_scout_count = load_returned["seed scout"]
                        marrow_switch_phase = load_returned["marrow switch phase"]
                        erebyth_defeated = load_returned["erebyth defeated"]
                        fishing_unlocked = load_returned["fishing_unlocked"]
                        fishing_journal_unlocked = load_returned["fishing_journal_unlocked"]
                        bait_given = load_returned["bait_given"]
                        basic_fish_counter = load_returned["basic_fish_counter"]
                        better_fish_counter = load_returned["better_fish_counter"]
                        even_better_fish_counter = load_returned["even_better_fish_counter"]
                        best_fish_counter = load_returned["best_fish_counter"]
                        fishing_level = load_returned["fishing_level"]
                        basic_fish_reward = load_returned["basic_fish_reward"]
                        better_fish_reward = load_returned["better_fish_reward"]
                        even_better_fish_reward = load_returned["even_better_fish_reward"]
                        best_fish_reward = load_returned["best_fish_reward"]
                        marrow_small_chest_got = load_returned["marrow_small_chest_got"]
                        npc_noren.quest_complete = load_returned["noren_complete"]
                        npc_boro.quest_complete = load_returned["boro_complete"]
                        npc_maydria.gift = load_returned["vanguard_start"]
                        npc_maydria.quest_complete = load_returned["vanguard_complete"]
                        artherian_task_start = load_returned["artherian_start"]
                        prism_received = load_returned["prism_received"]
                        castle_crate_1_got = load_returned["castle_crate_1"]
                        castle_crate_2_got = load_returned["castle_crate_2"]
                        castle_chest_1_got = load_returned["castle_chest_1"]
                        castle_chest_2_got = load_returned["castle_chest_2"]
                        dreth_taunt_1 = load_returned["dreth_taunt_1"]
                        dreth_taunt_2 = load_returned["dreth_taunt_2"]
                        dreth_taunt_3 = load_returned["dreth_taunt_3"]
                        dreth_taunt_4 = load_returned["dreth_taunt_4"]
                        mirage_saved = load_returned["mirage_saved"]
                        mirage_2_saved = load_returned["mirage_2_saved"]
                        rope_phase = load_returned["rope_phase"]
                        atmon_castle.alive_status = load_returned["mirage_alive"]
                        thanked = load_returned["thanked"]
                        dreth_defeated = load_returned["dreth_defeated"]
                        apothis_gift = load_returned["apothis_gift"]
                        cat_rewarded = load_returned["cat_rewarded"]
                        cats_pet["seldon_shop"] = load_returned["seldon_shop_cat"]
                        cats_pet["seldon_academia"] = load_returned["seldon_academia_cat"]
                        cats_pet["korlok_shop"] = load_returned["korlok_shop_cat"]
                        cats_pet["korlok_apothecary"] = load_returned["korlok_apothecary_cat"]
                        cats_pet["eldream_shop"] = load_returned["eldream_shop_cat"]
                        cats_pet["eldream_menagerie"] = load_returned["eldream_menagerie_cat"]
                        cats_pet["marrow"] = load_returned["marrow_cat"]
                        sub_marrow_opened = load_returned["sub_marrow_opened"]
                        credits_shown = load_returned["credits_shown"]
                        trading_deck = load_returned["trading_deck"]
                        if trading_deck:
                            drawing_functions.extra_button_container.append(card_deck_button)
                        trading_task_complete = load_returned["trading_task_complete"]
                        any_card_counter = load_returned["any_card_counter"]
                        card_deck["basic_snake"] = load_returned["basic_snake"]
                        card_deck["better_snake"] = load_returned["better_snake"]
                        card_deck["basic_ghoul"] = load_returned["basic_ghoul"]
                        card_deck["better_ghoul"] = load_returned["better_ghoul"]
                        card_deck["basic_bandile"] = load_returned["basic_bandile"]
                        card_deck["better_bandile"] = load_returned["better_bandile"]
                        card_deck["basic_magmon"] = load_returned["basic_magmon"]
                        card_deck["better_magmon"] = load_returned["better_magmon"]
                        card_deck["better_necrola"] = load_returned["better_necrola"]
                        card_deck["best_necrola"] = load_returned["best_necrola"]
                        card_deck["better_osodark"] = load_returned["better_osodark"]
                        card_deck["best_osodark"] = load_returned["best_osodark"]
                        card_deck["better_atmon"] = load_returned["better_atmon"]
                        card_deck["best_atmon"] = load_returned["best_atmon"]
                        card_deck["better_jumano"] = load_returned["better_jumano"]
                        card_deck["best_jumano"] = load_returned["best_jumano"]
                        card_deck["chorizon"] = load_returned["chorizon"]
                        card_deck["muchador"] = load_returned["muchador"]
                        card_deck["chinzilla"] = load_returned["chinzilla"]
                        card_deck["erebyth"] = load_returned["erebyth"]
                        fire_learned = load_returned["fire_learned"]
                        edge_learned = load_returned["edge_learned"]
                        arrow_learned = load_returned["arrow_learned"]
                        on_card_quest = load_returned["on_card_quest"]
                        item_block_1_got = load_returned["item_block_1_got"]
                        item_block_2_got = load_returned["item_block_2_got"]
                        item_block_3_got = load_returned["item_block_3_got"]
                        item_block_4_got = load_returned["item_block_4_got"]
                        item_block_5_got = load_returned["item_block_5_got"]
                        item_block_6_got = load_returned["item_block_6_got"]
                        item_block_7_got = load_returned["item_block_7_got"]
                        item_block_8_got = load_returned["item_block_8_got"]
                        item_block_9_got = load_returned["item_block_9_got"]
                        item_block_10_got = load_returned["item_block_10_got"]
                        item_block_11_got = load_returned["item_block_11_got"]
                        item_block_12_got = load_returned["item_block_12_got"]
                        cloaked_popup_shown = load_returned["cloaked_popup_shown"]
                        time_of_day = load_returned["time_of_day"]
                        poisoned = load_returned["poisoned"]
                        burned = load_returned["burned"]
                        bleeding = load_returned["bleeding"]
                        condition_popup_shown = load_returned["condition_popup_shown"]
                        crushed = load_returned["crushed"]
                        apothis_upgrade = load_returned["apothis_upgrade"]
                        apothis_popup_shown = load_returned["apothis_popup_shown"]
                        pet_popup_shown = load_returned["pet_popup_shown"]

                        if rope_phase == 10:
                            overlay_chandelier.update(516, 285, graphic_dict["chandelier_right"])
                            overlay_chandelier.surf.set_alpha(230)
                        if rope_phase == 11:
                            overlay_chandelier.update(516, 285, graphic_dict["chandelier_left"])
                            overlay_chandelier.surf.set_alpha(230)

                        if npc_noren.quest_complete and npc_boro.quest_complete:
                            castle_bridge.update(castle_bridge.x_coordinate, castle_bridge.y_coordinate,
                                                 graphic_dict["castle_bridge_finished"])

                        if player.quest_complete["re recycling"]:
                            recycle_crate.update(recycle_crate.x_coordinate, recycle_crate.y_coordinate,
                                                 graphic_dict["recycle_crate_full"])
                            recycle_crate_overlay.update(recycle_crate_overlay.x_coordinate,
                                                         recycle_crate_overlay.y_coordinate,
                                                         graphic_dict["recycle_crate_overlay_full"])

                        if player.race == "amuna":
                            player = PlayerAmuna(player.name, player.race, player.gender, player.role, player.items,
                                                 player.equipment, player.current_quests, player.quest_progress,
                                                 player.quest_status, player.quest_complete, player.knowledge,
                                                 player.skills_mage, player.skills_fighter, player.skills_scout,
                                                 player.level, player.experience, player.health, player.energy,
                                                 player.alive_status, player.rupees, player.reputation,
                                                 player.current_zone, player.defense, player.offense, player.star_power,
                                                 player.flowers_amuna, player.flowers_sorae, player.pet,
                                                 player.velocity, player.mage_level, player.fighter_level,
                                                 player.scout_level)
                            if player.gender == "male":
                                player.surf = graphic_dict["player_no_role_amuna_male_down_1"]
                            if player.gender == "female":
                                player.surf = graphic_dict["player_no_role_amuna_female_down_1"]

                        if player.race == "nuldar":
                            player = PlayerNuldar(player.name, player.race, player.gender, player.role, player.items,
                                                  player.equipment, player.current_quests, player.quest_progress,
                                                  player.quest_status, player.quest_complete, player.knowledge,
                                                  player.skills_mage, player.skills_fighter, player.skills_scout,
                                                  player.level, player.experience, player.health, player.energy,
                                                  player.alive_status, player.rupees, player.reputation,
                                                  player.current_zone, player.defense, player.offense,
                                                  player.star_power, player.flowers_amuna, player.flowers_sorae,
                                                  player.pet, player.velocity, player.mage_level, player.fighter_level,
                                                  player.scout_level)
                            if player.gender == "male":
                                player.surf = graphic_dict["player_no_role_nuldar_male_down_1"]
                            if player.gender == "female":
                                player.surf = graphic_dict["player_no_role_nuldar_female_down_1"]

                        if player.race == "sorae":
                            player = PlayerSorae(player.name, player.race, player.gender, player.role, player.items,
                                                 player.equipment, player.current_quests, player.quest_progress,
                                                 player.quest_status, player.quest_complete, player.knowledge,
                                                 player.skills_mage, player.skills_fighter, player.skills_scout,
                                                 player.level, player.experience, player.health, player.energy,
                                                 player.alive_status, player.rupees, player.reputation,
                                                 player.current_zone, player.defense, player.offense, player.star_power,
                                                 player.flowers_amuna, player.flowers_sorae, player.pet,
                                                 player.velocity, player.mage_level, player.fighter_level,
                                                 player.scout_level)
                            if player.gender == "male":
                                player.surf = graphic_dict["player_no_role_sorae_a_down_1"]
                            if player.gender == "female":
                                player.surf = graphic_dict["player_no_role_sorae_b_down_1"]

                        try:
                            if player.equipment["armor"].name == "basic armor":
                                if player.race == "amuna":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_amuna_male_down_1_basic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_amuna_male_down_1_basic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_amuna_male_down_1_basic"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_amuna_female_down_1_basic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_amuna_female_down_1_basic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_amuna_female_down_1_basic"]
                                if player.race == "nuldar":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_nuldar_male_down_1_basic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_nuldar_male_down_1_basic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_nuldar_male_down_1_basic"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_nuldar_female_down_1_basic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_nuldar_female_down_1_basic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_nuldar_female_down_1_basic"]
                                if player.race == "sorae":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_sorae_a_down_1_basic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_sorae_a_down_1_basic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_sorae_a_down_1_basic"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_sorae_b_down_1_basic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_sorae_b_down_1_basic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_sorae_b_down_1_basic"]
                            if player.equipment["armor"].name == "forged armor":
                                if player.race == "amuna":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_amuna_male_down_1_forged"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_amuna_male_down_1_forged"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_amuna_male_down_1_forged"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_amuna_female_down_1_forged"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_amuna_female_down_1_forged"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_amuna_female_down_1_forged"]
                                if player.race == "nuldar":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_nuldar_male_down_1_forged"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_nuldar_male_down_1_forged"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_nuldar_male_down_1_forged"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_nuldar_female_down_1_forged"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_nuldar_female_down_1_forged"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_nuldar_female_down_1_forged"]
                                if player.race == "sorae":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_sorae_a_down_1_forged"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_sorae_a_down_1_forged"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_sorae_a_down_1_forged"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_sorae_b_down_1_forged"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_sorae_b_down_1_forged"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_sorae_b_down_1_forged"]
                            if player.equipment["armor"].name == "mythical armor":
                                if player.race == "amuna":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_amuna_male_down_1_mythic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_amuna_male_down_1_mythic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_amuna_male_down_1_mythic"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_amuna_female_down_1_mythic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_amuna_female_down_1_mythic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_amuna_female_down_1_mythic"]
                                if player.race == "nuldar":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_nuldar_male_down_1_mythic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_nuldar_male_down_1_mythic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_nuldar_male_down_1_mythic"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_nuldar_female_down_1_mythic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_nuldar_female_down_1_mythic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_nuldar_female_down_1_mythic"]
                                if player.race == "sorae":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_sorae_a_down_1_mythic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_sorae_a_down_1_mythic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_sorae_a_down_1_mythic"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_sorae_b_down_1_mythic"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_sorae_b_down_1_mythic"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_sorae_b_down_1_mythic"]
                            if player.equipment["armor"].name == "legendary armor":
                                if player.race == "amuna":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_amuna_male_down_1_legend"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_amuna_male_down_1_legend"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_amuna_male_down_1_legend"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_amuna_female_down_1_legend"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_amuna_female_down_1_legend"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_amuna_female_down_1_legend"]
                                if player.race == "nuldar":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_nuldar_male_down_1_legend"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_nuldar_male_down_1_legend"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_nuldar_male_down_1_legend"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_nuldar_female_down_1_legend"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_nuldar_female_down_1_legend"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_nuldar_female_down_1_legend"]
                                if player.race == "sorae":
                                    if player.gender == "male":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_sorae_a_down_1_legend"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_sorae_a_down_1_legend"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_sorae_a_down_1_legend"]
                                    if player.gender == "female":
                                        if player.role == "mage":
                                            player.surf = graphic_dict["player_mage_sorae_b_down_1_legend"]
                                        if player.role == "fighter":
                                            player.surf = graphic_dict["player_fighter_sorae_b_down_1_legend"]
                                        if player.role == "scout":
                                            player.surf = graphic_dict["player_scout_sorae_b_down_1_legend"]
                        except AttributeError:
                            pass

                        if player.quest_progress["where's nede?"] == 1:
                            nede.update(809, 390, graphic_dict["nede_left"])

                        if player.current_zone == "seldon":
                            player.x_coordinate = 860
                            player.y_coordinate = 655
                            rohir_gate.update(525, 50, graphic_dict["rohir_gate"])
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                            if time_of_day == 0 or time_of_day == 7:
                                for snake in snakes:
                                    if (player.quest_status["sneaky snakes"]
                                            and not player.quest_complete["sneaky snakes"]):
                                        snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                           graphic_dict["snake_high_night"])
                                    else:
                                        snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                           graphic_dict["snake_night"])
                                if player.quest_progress["where's nede?"] == 1:
                                    nede.update(809, 390, graphic_dict["nede_sleep"])
                            else:
                                for snake in snakes:
                                    if (player.quest_status["sneaky snakes"]
                                            and not player.quest_complete["sneaky snakes"]):
                                        snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                           graphic_dict["snake_high"])
                                    else:
                                        snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                           graphic_dict["snake"])
                                if player.quest_progress["where's nede?"] == 1:
                                    nede.update(809, 390, graphic_dict["nede_left"])
                        if player.current_zone == "stardust":
                            player.x_coordinate = 925
                            player.y_coordinate = 275
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                            if time_of_day == 0 or time_of_day == 7:
                                for stelli in stardust_stelli:
                                    if stelli.name == "Stellia":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_a_night"])
                                    if stelli.name == "Stellib":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_b_night"])
                                    if stelli.name == "Stellic":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_c_night"])
                            else:
                                for stelli in stardust_stelli:
                                    if stelli.name == "Stellia":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_a"])
                                    if stelli.name == "Stellib":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_b"])
                                    if stelli.name == "Stellic":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_c"])
                        if player.current_zone == "korlok":
                            player.x_coordinate = 882
                            player.y_coordinate = 290
                            rohir_gate.update(525, 600, graphic_dict["rohir_gate"])
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                            if time_of_day == 0 or time_of_day == 7:
                                for magmon in magmons:
                                    if (player.quest_status["elementary elementals"]
                                            and not player.quest_complete["elementary elementals"]):
                                        magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                            graphic_dict["magmon_high_night"])
                                    else:
                                        magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                            graphic_dict["magmon_night"])
                            else:
                                for magmon in magmons:
                                    if (player.quest_status["elementary elementals"]
                                            and not player.quest_complete["elementary elementals"]):
                                        magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                            graphic_dict["magmon_high"])
                                    else:
                                        magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                            graphic_dict["magmon"])
                        if player.current_zone == "fishing hut":
                            player.x_coordinate = 410
                            player.y_coordinate = 265
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "mines":
                            player.x_coordinate = 815
                            player.y_coordinate = 600
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                            if time_of_day == 0 or time_of_day == 7:
                                for bandile in bandiles:
                                    if (player.quest_status["band hammer"]
                                            and not player.quest_complete["band hammer"]):
                                        bandile.update_image(bandile.x_coordinate, bandile.y_coordinate,
                                                             graphic_dict["bandile_high_night"])
                                    else:
                                        bandile.update_image(bandile.x_coordinate, bandile.y_coordinate,
                                                             graphic_dict["bandile_night"])
                            else:
                                for bandile in bandiles:
                                    if (player.quest_status["band hammer"]
                                            and not player.quest_complete["band hammer"]):
                                        bandile.update_image(bandile.x_coordinate, bandile.y_coordinate,
                                                             graphic_dict["bandile_high"])
                                    else:
                                        bandile.update_image(bandile.x_coordinate, bandile.y_coordinate,
                                                             graphic_dict["bandile"])
                        if player.current_zone == "rohir":
                            player.x_coordinate = 900
                            player.y_coordinate = 400
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "reservoir a":
                            player.x_coordinate = 525
                            player.y_coordinate = 650
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                            dungeon_teleporter.update(519, 316, graphic_dict["dungeon_teleporter"])
                        if player.current_zone == "reservoir b":
                            player.x_coordinate = 852
                            player.y_coordinate = 560
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                            dungeon_teleporter.update(853, 540, graphic_dict["dungeon_teleporter"])
                        if player.current_zone == "reservoir c":
                            player.x_coordinate = 900
                            player.y_coordinate = 545
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "terra trail":
                            player.x_coordinate = 150
                            player.y_coordinate = 150
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "eldream":
                            player.x_coordinate = 255
                            player.y_coordinate = 175
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "ectrenos":
                            mini_map_overlay.update(915, 596, graphic_dict["ectrenos_mini_map"])
                            player.x_coordinate = 515
                            player.y_coordinate = 675
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "ectrenos left":
                            mini_map_overlay.update(915, 596, graphic_dict["ectrenos_mini_map_left"])
                            player.x_coordinate = 850
                            player.y_coordinate = 530
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "ectrenos right":
                            mini_map_overlay.update(915, 596, graphic_dict["ectrenos_mini_map_right"])
                            player.x_coordinate = 210
                            player.y_coordinate = 515
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "ectrenos front":
                            mini_map_overlay.update(915, 596, graphic_dict["ectrenos_mini_map_front"])
                            player.x_coordinate = 905
                            player.y_coordinate = 500
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "ectrenos alcove":
                            mini_map_overlay.update(915, 596, graphic_dict["ectrenos_mini_map"])
                            player.x_coordinate = 425
                            player.y_coordinate = 675
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                            if time_of_day == 0 or time_of_day == 7:
                                for osodark in ectrenos_alcove_enemies:
                                    osodark.update_image(osodark.x_coordinate, osodark.y_coordinate,
                                                         graphic_dict["osodark_night"])
                            else:
                                for osodark in ectrenos_alcove_enemies:
                                    osodark.update_image(osodark.x_coordinate, osodark.y_coordinate,
                                                         graphic_dict["osodark"])
                        if player.current_zone == "fishing alcove":
                            mini_map_overlay.update(915, 596, graphic_dict["ectrenos_mini_map"])
                            player.x_coordinate = 415
                            player.y_coordinate = 550
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "marrow":
                            player.x_coordinate = 685
                            player.y_coordinate = 170
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "marrow entrance":
                            mini_map_overlay.update(915, 596, graphic_dict["marrow_mini_map"])
                            player.x_coordinate = 510
                            player.y_coordinate = 100
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "marrow tower west":
                            mini_map_overlay.update(915, 596, graphic_dict["marrow_mini_map_tower_left"])
                            player.x_coordinate = 520
                            player.y_coordinate = 440
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "marrow tower east":
                            mini_map_overlay.update(915, 596, graphic_dict["marrow_mini_map_tower_right"])
                            player.x_coordinate = 520
                            player.y_coordinate = 440
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "marrow ramps west":
                            overlay_marrow_ramps_west.update(570, 55, graphic_dict["overlay_marrow_ramps_west"])
                            mini_map_overlay.update(915, 596, graphic_dict["marrow_mini_map_ramps_left"])
                            player.x_coordinate = 570
                            player.y_coordinate = 260
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "marrow ramps east":
                            overlay_marrow_ramps_east.update(570, 55, graphic_dict["overlay_marrow_ramps_east"])
                            mini_map_overlay.update(915, 596, graphic_dict["marrow_mini_map_ramps_right"])
                            player.x_coordinate = 570
                            player.y_coordinate = 260
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "marrow ramps west end":
                            overlay_marrow_ramps_west.update(570, 55, graphic_dict["overlay_marrow_ramps_west"])
                            mini_map_overlay.update(915, 596, graphic_dict["marrow_mini_map_ramps_left_end"])
                            player.x_coordinate = 570
                            player.y_coordinate = 200
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "marrow ramps east end":
                            overlay_marrow_ramps_east.update(570, 55, graphic_dict["overlay_marrow_ramps_east"])
                            mini_map_overlay.update(915, 596, graphic_dict["marrow_mini_map_ramps_right_end"])
                            player.x_coordinate = 570
                            player.y_coordinate = 250
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "forge" or player.current_zone == "altar":
                            player.x_coordinate = 515
                            player.y_coordinate = 650
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "sub marrow":
                            player.x_coordinate = 425
                            player.y_coordinate = 650
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                            if time_of_day == 0 or time_of_day == 7:
                                for atmon in atmons:
                                    if npc_maydria.gift and not prism_received:
                                        atmon.update_image(atmon.x_coordinate, atmon.y_coordinate,
                                                           graphic_dict["atmon_high_night"])
                                    else:
                                        atmon.update_image(atmon.x_coordinate, atmon.y_coordinate,
                                                           graphic_dict["atmon_night"])
                            else:
                                for atmon in atmons:
                                    if npc_maydria.gift and not prism_received:
                                        atmon.update_image(atmon.x_coordinate, atmon.y_coordinate,
                                                           graphic_dict["atmon_high"])
                                    else:
                                        atmon.update_image(atmon.x_coordinate, atmon.y_coordinate,
                                                           graphic_dict["atmon"])

                        if player.current_zone == "castle one":
                            player.x_coordinate = 515
                            player.y_coordinate = 175
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "castle two":
                            player.x_coordinate = 860
                            player.y_coordinate = 640
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "castle three":
                            player.x_coordinate = 160
                            player.y_coordinate = 640
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "castle lair":
                            player.x_coordinate = 515
                            player.y_coordinate = 150
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        if player.current_zone == "caldera":
                            player.x_coordinate = 390
                            player.y_coordinate = 315
                            player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))

                        if marrow_switch_phase == "red":
                            overlay_marrow_switch.update(640, 360, graphic_dict["marrow_switch_red"])
                        if marrow_switch_phase == "blue":
                            overlay_marrow_switch.update(640, 360, graphic_dict["marrow_switch_blue"])
                        if marrow_switch_phase == "purple":
                            overlay_marrow_switch.update(640, 360, graphic_dict["marrow_switch_purple"])

                        if music_toggle:
                            music_toggle_button.update(775, 44, graphic_dict["music_button_off"])
                        if not music_toggle:
                            music_toggle_button.update(775, 44, graphic_dict["music_button"])

                        if time_of_day == 1 or time_of_day == 2:
                            message_box.update(173, 650, graphic_dict["message_box_dawn"])
                        if time_of_day == 3 or time_of_day == 4:
                            message_box.update(173, 650, graphic_dict["message_box_day"])
                        if time_of_day == 5 or time_of_day == 6:
                            message_box.update(173, 650, graphic_dict["message_box_dusk"])
                        if time_of_day == 7 or time_of_day == 0:
                            message_box.update(173, 650, graphic_dict["message_box_night"])

                    except TypeError:
                        pass
                except KeyError:
                    pass
            except FileNotFoundError:
                continue_game_chosen = False
                save_data_window.append(save_absent)

        # --------------------------------------------------------------------------------------------------------------
        # player has chosen to start game ------------------------------------------------------------------------------
        if start_chosen:
            if player.alive_status:

                # keep track of time of day while player is active
                if not day_timer_started:
                    day_timer = time.perf_counter()
                    day_timer_started = True

                # player information updates
                gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar, xp_bar, star_power_meter,
                                                              offense_meter, defense_meter, graphic_dict,
                                                              basic_armor, forged_armor, mythical_armor,
                                                              legendary_armor, power_gloves, chroma_boots,
                                                              neras_grace, arens_strength, spirit_of_wisdom, crushed)

                # after level, loot and cards, clear popups after about 3 seconds
                if not loot_timer_reset:
                    loot_level_toc = time.perf_counter()
                    if loot_level_toc - loot_level_tic > 4:
                        drawing_functions.loot_popup_container.clear()
                        drawing_functions.loot_text_container.clear()
                        drawing_functions.level_up_draw(level_up_win, player, font, False)
                        drawing_functions.level_up_visual.clear()
                        leveled = False
                        if trading_deck:
                            card_deck["snake_popup"] = False
                            card_deck["ghoul_popup"] = False
                            card_deck["bandile_popup"] = False
                            card_deck["magmon_popup"] = False
                            card_deck["necrola_popup"] = False
                            card_deck["osodark_popup"] = False
                            card_deck["atmon_popup"] = False
                            card_deck["jumano_popup"] = False
                            card_drop_played = False
                            card_popup_checked = True
                        drawing_functions.role_level_up_popup.clear()
                        drawing_functions.role_level_window_text.clear()
                        loot_timer_reset = True

                if in_over_world and not in_battle and not in_npc_interaction and not in_shop and not in_inn \
                        and not in_academia:

                    # loot from any battle
                    if (battle_info_to_return_to_main_loop["item dropped"] != ""
                            or battle_info_to_return_to_main_loop["experience"] != 0
                            or battle_info_to_return_to_main_loop["knowledge"] != ""):
                        try:
                            loot_popup_returned = drawing_functions.loot_popups(time, loot_updated, font, loot_popup,
                                                                                battle_info_to_return_to_main_loop,
                                                                                leveled)
                        except TypeError:
                            drawing_functions.loot_popup_container.clear()
                            drawing_functions.loot_text_container.clear()
                        try:
                            loot_updated = loot_popup_returned["loot_updated"]
                            loot_info = loot_popup_returned["loot_info"]
                            leveled = loot_popup_returned["leveled"]
                        except TypeError:
                            pass

                    try:
                        if vanished:
                            vanished_toc = time.perf_counter()
                            if vanished_toc - vanished_tic > 2:
                                vanished = False
                    except NameError:
                        vanished = False

                    # update player pet position. check experience for popup
                    try:
                        pet_update_x = player.x_coordinate + 35
                        pet_update_y = player.y_coordinate - 25
                        for pet in player.pet:
                            if pet.active:
                                pet.update(pet_update_x, pet_update_y, SCREEN_WIDTH, SCREEN_HEIGHT, player.current_zone)
                                if pet.experience == 100 and not pet_popup_shown:
                                    drawing_functions.pet_popup_window.append(pet_popup)
                                    pet_popup_shown = True
                    except AttributeError:
                        pass

                    gameplay_functions.npc_quest_star_updates(player, quest_star_garan, quest_star_maurelle,
                                                              quest_star_celeste, quest_star_torune,
                                                              graphic_dict["quest_start_star"],
                                                              graphic_dict["quest_progress_star"],
                                                              graphic_dict["quest_complete_star"],
                                                              quest_star_voruke, quest_star_zerah,
                                                              quest_star_dionte, quest_star_omoku,
                                                              quest_star_leyre, quest_star_everett,
                                                              task_star_artherian,
                                                              graphic_dict["artherian_progress_star"],
                                                              graphic_dict["artherian_complete_star"],
                                                              artherian_2, npc_maydria, task_star_maydria,
                                                              graphic_dict["maydria_progress_star"],
                                                              graphic_dict["maydria_complete_star"], npc_boro,
                                                              npc_noren, artherian_task_start, quest_star_nascent,
                                                              quest_star_nahun, quest_star_illisare,
                                                              graphic_dict["maydria_start_star"],
                                                              quest_star_roroc)

                    # hide UI elements if player walks under them ------------------------------------------------------
                    try:
                        if player.x_coordinate < 350 and 600 < player.y_coordinate:
                            if not alpha_set:
                                message_box.surf.set_alpha(50)
                                alpha_set = True
                        else:
                            message_box.surf.set_alpha(255)
                            alpha_set = False
                        if player.y_coordinate > 550 and player.x_coordinate > 725:
                            if not alpha_set:
                                mini_map_overlay.surf.set_alpha(50)
                                character_button.surf.set_alpha(50)
                                quests_button.surf.set_alpha(50)
                                card_deck_button.surf.set_alpha(50)
                                alpha_set = True
                        else:
                            mini_map_overlay.surf.set_alpha(225)
                            character_button.surf.set_alpha(255)
                            quests_button.surf.set_alpha(255)
                            card_deck_button.surf.set_alpha(255)
                            alpha_set = False

                        if player.x_coordinate < 420 and player.y_coordinate < 150:
                            if not alpha_set:
                                hp_bar.surf.set_alpha(50)
                                en_bar.surf.set_alpha(50)
                                xp_bar.surf.set_alpha(50)
                                bar_backdrop.surf.set_alpha(50)
                                pet_energy_window.surf.set_alpha(50)
                                overlay_burned.surf.set_alpha(50)
                                overlay_poisoned.surf.set_alpha(50)
                                overlay_bleeding.surf.set_alpha(50)
                                overlay_crushed.surf.set_alpha(50)
                                overlay_burned_desc.surf.set_alpha(50)
                                overlay_poisoned_desc.surf.set_alpha(50)
                                overlay_bleeding_desc.surf.set_alpha(50)
                                overlay_crushed_desc.surf.set_alpha(50)
                                alpha_set = True
                        else:
                            hp_bar.surf.set_alpha(255)
                            en_bar.surf.set_alpha(255)
                            xp_bar.surf.set_alpha(255)
                            bar_backdrop.surf.set_alpha(255)
                            pet_energy_window.surf.set_alpha(255)
                            overlay_burned.surf.set_alpha(255)
                            overlay_poisoned.surf.set_alpha(255)
                            overlay_bleeding.surf.set_alpha(255)
                            overlay_crushed.surf.set_alpha(255)
                            overlay_burned_desc.surf.set_alpha(255)
                            overlay_poisoned_desc.surf.set_alpha(255)
                            overlay_bleeding_desc.surf.set_alpha(255)
                            overlay_crushed_desc.surf.set_alpha(255)
                            alpha_set = False

                        if player.x_coordinate > 730 and player.y_coordinate < 125:
                            if not alpha_set:
                                save_button.surf.set_alpha(50)
                                map_button.surf.set_alpha(50)
                                location_overlay.surf.set_alpha(50)
                                music_toggle_button.surf.set_alpha(50)
                                alpha_set = True
                        else:
                            save_button.surf.set_alpha(255)
                            map_button.surf.set_alpha(255)
                            location_overlay.surf.set_alpha(255)
                            music_toggle_button.surf.set_alpha(255)
                            alpha_set = False
                    except AttributeError:
                        pass

                    if player.level < 10:
                        # checks if player has started any quest to show the quest popup info window for highlights
                        if player.quest_status["sneaky snakes"]:
                            if quest_highlight_popup:
                                drawing_functions.first_quest_window.append(first_quest)
                                quest_highlight_popup = False
                        elif player.quest_status["village repairs"]:
                            if quest_highlight_popup:
                                drawing_functions.first_quest_window.append(first_quest)
                                quest_highlight_popup = False
                        elif player.quest_status["where's nede?"]:
                            if quest_highlight_popup:
                                drawing_functions.first_quest_window.append(first_quest)
                                quest_highlight_popup = False
                        elif player.quest_status["ghouled again"]:
                            if quest_highlight_popup:
                                drawing_functions.first_quest_window.append(first_quest)
                                quest_highlight_popup = False

                    pressed_keys = pygame.key.get_pressed()
                    # player movement updates
                    walking_return = gameplay_functions.walk_time(walk_tic)
                    if walking_return["reset"]:
                        walk_tic = time.perf_counter()
                    if movement_able and in_over_world:
                        if pressed_keys[K_d] or pressed_keys[K_RIGHT]:
                            walk_sound_toc = time.perf_counter()
                            if walk_sound_toc - walk_sound_tic > 0.40:
                                walk_sound_tic = time.perf_counter()
                                if player.current_zone == "rohir":
                                    if player.x_coordinate > 240:
                                        pygame.mixer.find_channel(True).play(sfx_steps_water)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "ectrenos left":
                                    if 645 > player.x_coordinate > 320:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "stardust":
                                    if 350 > player.x_coordinate > 260 and 335 > player.y_coordinate > 235:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "forge":
                                    if 620 > player.y_coordinate > 475:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "marrow ramps west":
                                    if 530 > player.y_coordinate > 288:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "marrow":
                                    if 565 > player.y_coordinate > 420 and player.x_coordinate > 660:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_steps_path)

                            player.update("right", player.current_zone, walking_return["total time"])
                            for pet in player.pet:
                                if pet.name == "kasper" and pet.active:
                                    if pet.stage == 1:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["kasper_right_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["kasper_right"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["kasper_right_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["kasper_right"])
                                    if pet.stage == 2:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_2_kasper_right_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_2_kasper_right"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_2_kasper_right_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_2_kasper_right"])
                                    if pet.stage == 3:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_3_kasper_right_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_3_kasper_right"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_3_kasper_right_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_3_kasper_right"])
                                if pet.name == "torok" and pet.active:
                                    if pet.stage == 1:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["torok_right_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["torok_right"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["torok_right_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["torok_right"])
                                    if pet.stage == 2:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_2_torok_right_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_2_torok_right"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_2_torok_right_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_2_torok_right"])
                                    if pet.stage == 3:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_3_torok_right_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_3_torok_right"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_3_torok_right_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_3_torok_right"])
                                if pet.name == "iriana" and pet.active:
                                    if pet.stage == 1:
                                        pet.update_image(graphic_dict["iriana_right"])
                                    if pet.stage == 2:
                                        pet.update_image(graphic_dict["stage_2_iriana_right"])
                                    if pet.stage == 3:
                                        pet.update_image(graphic_dict["stage_3_iriana_right"])
                        if pressed_keys[K_a] or pressed_keys[K_LEFT]:
                            walk_sound_toc = time.perf_counter()
                            if walk_sound_toc - walk_sound_tic > 0.40:
                                walk_sound_tic = time.perf_counter()
                                if player.current_zone == "rohir":
                                    if player.x_coordinate > 240:
                                        pygame.mixer.find_channel(True).play(sfx_steps_water)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "ectrenos left":
                                    if 645 > player.x_coordinate > 320:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "stardust":
                                    if 350 > player.x_coordinate > 260 and 335 > player.y_coordinate > 235:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "forge":
                                    if 620 > player.y_coordinate > 475:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "marrow ramps west":
                                    if 530 > player.y_coordinate > 288:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "marrow":
                                    if 565 > player.y_coordinate > 420 and player.x_coordinate > 660:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_steps_path)
                            player.update("left", player.current_zone, walking_return["total time"])
                            for pet in player.pet:
                                if pet.name == "kasper" and pet.active:
                                    if pet.stage == 1:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["kasper_left_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["kasper_left"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["kasper_left_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["kasper_left"])
                                    if pet.stage == 2:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_2_kasper_left_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_2_kasper_left"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_2_kasper_left_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_2_kasper_left"])
                                    if pet.stage == 3:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_3_kasper_left_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_3_kasper_left"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_3_kasper_left_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_3_kasper_left"])
                                if pet.name == "torok" and pet.active:
                                    if pet.stage == 1:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["torok_left_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["torok_left"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["torok_left_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["torok_left"])
                                    if pet.stage == 2:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_2_torok_left_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_2_torok_left"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_2_torok_left_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_2_torok_left"])
                                    if pet.stage == 3:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_3_torok_left_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_3_torok_left"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_3_torok_left_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_3_torok_left"])
                                if pet.name == "iriana" and pet.active:
                                    if pet.stage == 1:
                                        pet.update_image(graphic_dict["iriana_left"])
                                    if pet.stage == 2:
                                        pet.update_image(graphic_dict["stage_2_iriana_left"])
                                    if pet.stage == 3:
                                        pet.update_image(graphic_dict["stage_3_iriana_left"])
                        if pressed_keys[K_w] or pressed_keys[K_UP]:
                            walk_sound_toc = time.perf_counter()
                            if walk_sound_toc - walk_sound_tic > 0.40:
                                walk_sound_tic = time.perf_counter()
                                if player.current_zone == "rohir":
                                    if player.x_coordinate > 240:
                                        pygame.mixer.find_channel(True).play(sfx_steps_water)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "ectrenos left":
                                    if 645 > player.x_coordinate > 320:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "stardust":
                                    if 350 > player.x_coordinate > 260 and 335 > player.y_coordinate > 235:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "forge":
                                    if 620 > player.y_coordinate > 475:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "marrow ramps west":
                                    if 530 > player.y_coordinate > 288:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "marrow":
                                    if 565 > player.y_coordinate > 420 and player.x_coordinate > 660:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_steps_path)
                            player.update("up", player.current_zone, walking_return["total time"])
                            for pet in player.pet:
                                if pet.name == "kasper" and pet.active:
                                    if pet.stage == 1:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["kasper_up_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["kasper_up"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["kasper_up_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["kasper_up"])
                                    if pet.stage == 2:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_2_kasper_up_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_2_kasper_up"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_2_kasper_up_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_2_kasper_up"])
                                    if pet.stage == 3:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_3_kasper_up_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_3_kasper_up"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_3_kasper_up_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_3_kasper_up"])
                                if pet.name == "torok" and pet.active:
                                    if pet.stage == 1:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["torok_up_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["torok_up"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["torok_up_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["torok_up"])
                                    if pet.stage == 2:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_2_torok_up_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_2_torok_up"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_2_torok_up_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_2_torok_up"])
                                    if pet.stage == 3:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_3_torok_up_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_3_torok_up"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_3_torok_up_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_3_torok_up"])
                                if pet.name == "iriana" and pet.active:
                                    if pet.stage == 1:
                                        pet.update_image(graphic_dict["iriana_up"])
                                    if pet.stage == 2:
                                        pet.update_image(graphic_dict["stage_2_iriana_up"])
                                    if pet.stage == 3:
                                        pet.update_image(graphic_dict["stage_3_iriana_up"])
                        if pressed_keys[K_s] or pressed_keys[K_DOWN]:
                            walk_sound_toc = time.perf_counter()
                            if walk_sound_toc - walk_sound_tic > 0.40:
                                walk_sound_tic = time.perf_counter()
                                if player.current_zone == "rohir":
                                    if player.x_coordinate > 240:
                                        pygame.mixer.find_channel(True).play(sfx_steps_water)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "ectrenos left":
                                    if 645 > player.x_coordinate > 320:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "stardust":
                                    if 350 > player.x_coordinate > 260 and 335 > player.y_coordinate > 235:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "forge":
                                    if 620 > player.y_coordinate > 475:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "marrow ramps west":
                                    if 530 > player.y_coordinate > 288:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                elif player.current_zone == "marrow":
                                    if 565 > player.y_coordinate > 420 and player.x_coordinate > 660:
                                        pygame.mixer.find_channel(True).play(sfx_steps_chroma)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_steps_path)
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_steps_path)
                            player.update("down", player.current_zone, walking_return["total time"])
                            for pet in player.pet:
                                if pet.name == "kasper" and pet.active:
                                    if pet.stage == 1:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["kasper_down_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["kasper_down"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["kasper_down_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["kasper_down"])
                                    if pet.stage == 2:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_2_kasper_down_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_2_kasper_down"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_2_kasper_down_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_2_kasper_down"])
                                    if pet.stage == 3:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_3_kasper_down_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_3_kasper_down"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_3_kasper_down_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_3_kasper_down"])
                                if pet.name == "torok" and pet.active:
                                    if pet.stage == 1:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["torok_down_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["torok_down"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["torok_down_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["torok_down"])
                                    if pet.stage == 2:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_2_torok_down_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_2_torok_down"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_2_torok_down_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_2_torok_down"])
                                    if pet.stage == 3:
                                        if walking_return["total time"] < 0.2:
                                            pet.update_image(graphic_dict["stage_3_torok_down_1"])
                                        if walking_return["total time"] > 0.2:
                                            pet.update_image(graphic_dict["stage_3_torok_down"])
                                        if walking_return["total time"] > 0.4:
                                            pet.update_image(graphic_dict["stage_3_torok_down_2"])
                                        if walking_return["total time"] > 0.6:
                                            pet.update_image(graphic_dict["stage_3_torok_down"])
                                if pet.name == "iriana" and pet.active:
                                    if pet.stage == 1:
                                        pet.update_image(graphic_dict["iriana_down"])
                                    if pet.stage == 2:
                                        pet.update_image(graphic_dict["stage_2_iriana_down"])
                                    if pet.stage == 3:
                                        pet.update_image(graphic_dict["stage_3_iriana_down"])

                    # main event loop
                    for event in pygame.event.get():
                        if event.type == KEYDOWN:
                            # escape key was pressed, clear any element on top of screen
                            if event.key == K_ESCAPE:
                                # clear popups
                                if len(drawing_functions.knowledge_academia_window) > 0:
                                    drawing_functions.knowledge_academia_window.clear()
                                if len(drawing_functions.rest_recover_window) > 0:
                                    drawing_functions.rest_recover_window.clear()
                                if len(drawing_functions.game_guide_container) > 0:
                                    drawing_functions.game_guide_container.clear()
                                if len(save_check_window) > 0:
                                    save_check_window.clear()
                                if len(drawing_functions.first_quest_window) > 0:
                                    drawing_functions.first_quest_window.clear()
                                if len(drawing_functions.world_map_container) > 0:
                                    drawing_functions.world_map_container.clear()
                                if len(drawing_functions.role_level_up_popup) > 0:
                                    drawing_functions.role_level_up_popup.clear()
                                    drawing_functions.role_level_window_text.clear()

                                if show_cat_card:
                                    show_cat_card = False
                                if fish_caught:
                                    fish_caught = False

                                if trading_deck:
                                    card_deck["snake_popup"] = False
                                    card_deck["ghoul_popup"] = False
                                    card_deck["bandile_popup"] = False
                                    card_deck["magmon_popup"] = False
                                    card_deck["necrola_popup"] = False
                                    card_deck["osodark_popup"] = False
                                    card_deck["atmon_popup"] = False
                                    card_deck["jumano_popup"] = False
                                    card_drop_played = False

                                # clear character or journal sheet
                                drawing_functions.character_sheet_info_draw(character_sheet, player, font, False)
                                drawing_functions.journal_info_draw(journal, player, font, False, marrow_switch_phase,
                                                                    npc_artherian, artherian_2, npc_maydria, npc_boro,
                                                                    npc_noren, seldon_quest_district_button,
                                                                    korlok_quest_district_button,
                                                                    eldream_quest_district_button,
                                                                    marrow_quest_district_button,
                                                                    quest_district_selected, district_button_select)

                            # "F" key for player interaction
                            if event.key == K_f:
                                if len(drawing_functions.knowledge_academia_window) > 0:
                                    drawing_functions.knowledge_academia_window.clear()
                                if len(drawing_functions.rest_recover_window) > 0:
                                    drawing_functions.rest_recover_window.clear()
                                if len(drawing_functions.game_guide_container) > 0:
                                    drawing_functions.game_guide_container.clear()
                                if len(save_check_window) > 0:
                                    save_check_window.clear()
                                if len(drawing_functions.first_quest_window) > 0:
                                    drawing_functions.first_quest_window.clear()
                                if len(drawing_functions.world_map_container) > 0:
                                    drawing_functions.world_map_container.clear()

                                interacted = gameplay_functions.check_interaction(pygame, player, interactables_nascent,
                                                                                  interactables_seldon,
                                                                                  interactables_stardust,
                                                                                  fishing_spot_stardust_1,
                                                                                  fishing_spot_stardust_2,
                                                                                  dungeon_entrance, dungeon_items,
                                                                                  mini_boss_1, chorizon_1, mini_boss_2,
                                                                                  chorizon_2, switch_3,
                                                                                  dungeon_teleporter,
                                                                                  interactables_reservoir_b,
                                                                                  interactables_reservoir_c,
                                                                                  interactables_korlok, forge_entrance,
                                                                                  interactables_mines,
                                                                                  interactables_terra_trail,
                                                                                  eldream_gate_rect, fishing_hut_rect,
                                                                                  fishing_spot_korlok_1,
                                                                                  fishing_spot_korlok_2,
                                                                                  interactables_eldream,
                                                                                  ectrenos_entrance_rect,
                                                                                  ectrenos_ladder_rect, npc_leyre,
                                                                                  ectrenos_inn_entrance,
                                                                                  ectrenos_shop_entrance,
                                                                                  ectrenos_pet_entrance, altar_entrance,
                                                                                  npc_everett, ectrenos_front_enemies,
                                                                                  alcove_ladder_rect, ghouls_marrow,
                                                                                  npc_artherian, hearth_stone_marrow,
                                                                                  npc_maydria, npc_noren, npc_boro,
                                                                                  sub_marrow_rect,
                                                                                  interactables_marrow_entrance,
                                                                                  marrow_switch_box, ramps_crate_1,
                                                                                  ramps_crate_2, ramps_crate_3,
                                                                                  ramps_crate_4,
                                                                                  overlay_marrow_ramps_west,
                                                                                  overlay_marrow_ramps_east,
                                                                                  dungeon_chest_ramps,
                                                                                  dungeon_switch_ramps_2, erebyth,
                                                                                  dungeon_switch_ramps_1, ramps_crate_5,
                                                                                  forge_rect, interacted, True,
                                                                                  ectrenos_alcove_enemies,
                                                                                  alcove_fishing_rect_1,
                                                                                  alcove_fishing_rect_2,
                                                                                  fishing_spot_eldream_1,
                                                                                  fishing_spot_eldream_2,
                                                                                  sub_marrow_rect_2,
                                                                                  dungeon_gate_marrow_rect,
                                                                                  dungeon_chest_small_marrow, atmons,
                                                                                  marrow_castle_exit, castle_crate_1,
                                                                                  castle_crate_2, rock_9, rock_10,
                                                                                  rope_wind_1, castle_cell_1,
                                                                                  castle_cell_2, rope_wind_2,
                                                                                  castle_cell_3, castle_ladder,
                                                                                  castle_key, boss_door, caldera_ladder,
                                                                                  fishing_spot_caldera, jumanos,
                                                                                  lair_exit, dreth, marrow_cat,
                                                                                  marrow_barrier_small,
                                                                                  seldon_barrier_small,
                                                                                  stardust_card_cave, item_block_1,
                                                                                  item_block_2, item_block_3,
                                                                                  item_block_4, item_block_5,
                                                                                  item_block_6, item_block_7,
                                                                                  item_block_8, item_block_9,
                                                                                  item_block_10, item_block_11,
                                                                                  item_block_12, npc_illisare,
                                                                                  npc_roroc, construct_part_1,
                                                                                  construct_part_2,
                                                                                  construct_part_3,
                                                                                  construct_part_4, ramparts_rocks)

                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                        # getting mouse position and highlighting buttons if they collide
                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        button_highlighted = button_highlighter(pos)

                        if overlay_burned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if burned:
                                drawing_functions.condition_description_window.append(overlay_burned_desc)
                        elif overlay_poisoned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if poisoned:
                                drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                        elif overlay_bleeding.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if bleeding:
                                drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                        elif overlay_crushed.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if crushed:
                                drawing_functions.condition_description_window.append(overlay_crushed_desc)
                        else:
                            drawing_functions.condition_description_window.clear()

                        if flower_button.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                        else:
                            drawing_functions.flower_pop_up_window.clear()
                            drawing_functions.flower_pop_up_window_text.clear()

                        if fish_button_count.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                        else:
                            drawing_functions.fish_pop_up_window.clear()
                            drawing_functions.fish_pop_up_window_text.clear()

                        # continuing to use mouse position for clicking buttons
                        if event.type == pygame.MOUSEBUTTONUP and player.current_zone != "nascent":
                            if show_cat_card:
                                show_cat_card = False
                            if fish_caught:
                                if fishing_popup.rect.collidepoint(pos):
                                    fish_caught = False
                            if role_level_up_popup.rect.collidepoint(pos):
                                drawing_functions.role_level_up_popup.clear()
                                drawing_functions.role_level_window_text.clear()

                            if trading_deck:
                                card_deck["snake_popup"] = False
                                card_deck["ghoul_popup"] = False
                                card_deck["bandile_popup"] = False
                                card_deck["magmon_popup"] = False
                                card_deck["necrola_popup"] = False
                                card_deck["osodark_popup"] = False
                                card_deck["atmon_popup"] = False
                                card_deck["jumano_popup"] = False
                                card_drop_played = False

                            if len(drawing_functions.journal_window) > 0:
                                if seldon_quest_district_button.rect.collidepoint(pos):
                                    district_button_select.update(772, 102, graphic_dict["district_button_select"])
                                    drawing_functions.journal_info_draw(journal, player, font, False,
                                                                        marrow_switch_phase, npc_artherian,
                                                                        artherian_2, npc_maydria, npc_boro,
                                                                        npc_noren, seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    quest_district_selected = 0
                                    drawing_functions.journal_info_draw(journal, player, font, True,
                                                                        marrow_switch_phase, npc_artherian,
                                                                        artherian_2, npc_maydria, npc_boro,
                                                                        npc_noren, seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                if korlok_quest_district_button.rect.collidepoint(pos):
                                    district_button_select.update(842, 102, graphic_dict["district_button_select"])
                                    drawing_functions.journal_info_draw(journal, player, font, False,
                                                                        marrow_switch_phase, npc_artherian,
                                                                        artherian_2, npc_maydria, npc_boro,
                                                                        npc_noren, seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    quest_district_selected = 1
                                    drawing_functions.journal_info_draw(journal, player, font, True,
                                                                        marrow_switch_phase, npc_artherian,
                                                                        artherian_2, npc_maydria, npc_boro,
                                                                        npc_noren, seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                if eldream_quest_district_button.rect.collidepoint(pos):
                                    district_button_select.update(912, 102, graphic_dict["district_button_select"])
                                    drawing_functions.journal_info_draw(journal, player, font, False,
                                                                        marrow_switch_phase, npc_artherian,
                                                                        artherian_2, npc_maydria, npc_boro,
                                                                        npc_noren, seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    quest_district_selected = 2
                                    drawing_functions.journal_info_draw(journal, player, font, True,
                                                                        marrow_switch_phase, npc_artherian,
                                                                        artherian_2, npc_maydria, npc_boro,
                                                                        npc_noren, seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                if marrow_quest_district_button.rect.collidepoint(pos):
                                    district_button_select.update(982, 102, graphic_dict["district_button_select"])
                                    drawing_functions.journal_info_draw(journal, player, font, False,
                                                                        marrow_switch_phase, npc_artherian,
                                                                        artherian_2, npc_maydria, npc_boro,
                                                                        npc_noren, seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    quest_district_selected = 3
                                    drawing_functions.journal_info_draw(journal, player, font, True,
                                                                        marrow_switch_phase, npc_artherian,
                                                                        artherian_2, npc_maydria, npc_boro,
                                                                        npc_noren, seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)

                            # turn music off and on
                            if music_toggle_button.rect.collidepoint(pos):
                                if not music_toggle:
                                    pygame.mixer.music.pause()
                                    music_toggle_button.update(775, 44, graphic_dict["music_button_off"])
                                    music_toggle = True
                                else:
                                    pygame.mixer.music.unpause()
                                    music_toggle_button.update(775, 44, graphic_dict["music_button"])
                                    music_toggle = False

                            if player.current_zone == "altar":
                                cat_pet_button_overlay.update(990, 440, graphic_dict["cat_pet_button_overlay"])
                                if cat_pet_button_overlay.rect.collidepoint(pos):
                                    pygame.mixer.find_channel(True).play(sfx_nede_bark)
                                    info_text_1 = "For the best boy. "
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""

                            if npc_garan.gift:
                                gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff, sword, bow,
                                                             pressed_keys, sfx_button_role)
                            if kasper_unlocked:
                                if kasper_whistle_button.rect.collidepoint(pos):
                                    gameplay_functions.pet_call(pygame, player, True, False, False,
                                                                sfx_item_whistle, SCREEN_WIDTH, SCREEN_HEIGHT)
                                    for pet in player.pet:
                                        if pet.name == "kasper":
                                            if pet.stage == 1:
                                                pet.update_image(graphic_dict["kasper_down"])
                                            if pet.stage == 2:
                                                pet.update_image(graphic_dict["stage_2_kasper_down"])
                                            if pet.stage == 3:
                                                pet.update_image(graphic_dict["stage_3_kasper_down"])
                            if torok_unlocked:
                                if torok_whistle_button.rect.collidepoint(pos):
                                    gameplay_functions.pet_call(pygame, player, False, True, False,
                                                                sfx_item_whistle, SCREEN_WIDTH, SCREEN_HEIGHT)
                                    for pet in player.pet:
                                        if pet.name == "torok":
                                            if pet.stage == 1:
                                                pet.update_image(graphic_dict["torok_down"])
                                            if pet.stage == 2:
                                                pet.update_image(graphic_dict["stage_2_torok_down"])
                                            if pet.stage == 3:
                                                pet.update_image(graphic_dict["stage_3_torok_down"])
                            if iriana_unlocked:
                                if iriana_whistle_button.rect.collidepoint(pos):
                                    gameplay_functions.pet_call(pygame, player, False, False, True,
                                                                sfx_item_whistle, SCREEN_WIDTH, SCREEN_HEIGHT)
                                    for pet in player.pet:
                                        if pet.name == "iriana":
                                            if pet.stage == 1:
                                                pet.update_image(graphic_dict["iriana_down"])
                                            if pet.stage == 2:
                                                pet.update_image(graphic_dict["stage_2_iriana_down"])
                                            if pet.stage == 3:
                                                pet.update_image(graphic_dict["stage_3_iriana_down"])
                            if trading_deck:
                                if (len(drawing_functions.quest_box) == 0 and
                                        len(drawing_functions.quest_box_trading) == 0 and
                                        len(drawing_functions.quest_box_fishing) == 0):
                                    if card_deck_button.rect.collidepoint(pos):
                                        match show_trade_deck:
                                            case True:
                                                show_trade_deck = False
                                            case False:
                                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                                show_trade_deck = True

                            # click handlers
                            info_choice = click_handlers.item_info_button(event, item_info_button, pygame, info_items,
                                                                          SCREEN_WIDTH, SCREEN_HEIGHT)
                            if info_choice == "yes":
                                inventory_event = click_handlers.inventory(pygame, player, current_info_item,
                                                                           sfx_item_potion, sfx_item_equip,
                                                                           sfx_item_whistle, sfx_item_snack,
                                                                           graphic_dict, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                           sfx_firework, sfx_skill_learn, poisoned,
                                                                           burned, bleeding, crushed, font,
                                                                           sfx_role_level, role_level_up_popup)
                                if inventory_event["item message"] != "":
                                    info_text_1 = inventory_event["item message"]
                                    info_text_2 = ""
                                drawing_functions.item_info_window.clear()
                                try:
                                    fireworking = inventory_event["fireworking"]
                                    firework_type = inventory_event["firework_type"]
                                except KeyError:
                                    fireworking = False
                                    firework_type = ""

                                if fireworking:
                                    firework_tic = time.perf_counter()
                                try:
                                    if inventory_event["cat card"]:
                                        pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                        show_cat_card = True
                                except KeyError:
                                    pass
                                try:
                                    poisoned = inventory_event["poisoned"]
                                except KeyError:
                                    pass
                                try:
                                    burned = inventory_event["burned"]
                                except KeyError:
                                    pass
                                try:
                                    bleeding = inventory_event["bleeding"]
                                except KeyError:
                                    pass
                                try:
                                    crushed = inventory_event["crushed"]
                                except KeyError:
                                    pass

                            if info_choice == "no":
                                drawing_functions.item_info_window.clear()
                                button_highlighted = False
                            else:
                                button_highlighted = False

                            inventory_item_clicked = click_handlers.inventory_event_item(event, pygame, SCREEN_WIDTH,
                                                                                         SCREEN_HEIGHT)
                            if inventory_item_clicked["clicked"]:
                                pygame.mixer.find_channel(True).play(sfx_button_inventory)
                                current_info_item = drawing_functions.item_info_draw(inventory_item_clicked["element"],
                                                                                     info_items, item_info_button,
                                                                                     graphic_dict)

                            if len(drawing_functions.item_info_window) == 0:
                                equipment_event = click_handlers.equipment(player, event, pygame, basic_armor,
                                                                           forged_armor, mythical_armor,
                                                                           legendary_armor, power_gloves, chroma_boots,
                                                                           sfx_item_equip, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                           graphic_dict, neras_grace, arens_strength,
                                                                           spirit_of_wisdom)
                                if equipment_event["equipment message"] != "":
                                    button_highlighted = False
                                    info_text_1 = equipment_event["equipment message"]
                                    info_text_2 = ""

                            # map button was clicked, set animation and move player to stone
                            if (map_button.rect.collidepoint(pos) and not fishing
                                    and player.current_zone != "castle lair"):
                                # clears other windows first, if they were open
                                drawing_functions.journal_info_draw(journal, player, font, False, marrow_switch_phase,
                                                                    npc_artherian, artherian_2, npc_maydria, npc_boro,
                                                                    npc_noren, seldon_quest_district_button,
                                                                    korlok_quest_district_button,
                                                                    eldream_quest_district_button,
                                                                    marrow_quest_district_button,
                                                                    quest_district_selected,
                                                                    district_button_select)
                                journal_button_clicked = False
                                drawing_functions.character_sheet_info_draw(character_sheet, player, font, False)
                                character_button_clicked = False
                                save_check_window.clear()
                                saving = False
                                button_highlighted = False

                                if map_button_clicked:
                                    drawing_functions.world_map_container.clear()
                                    map_button_clicked = False
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    map_button_clicked = True
                                    info_text_1 = "Click an area to travel there. "
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""

                                    drawing_functions.mini_map(player, graphic_dict, world_map, seldon_map_button,
                                                               korlok_map_button, eldream_map_button, marrow_map_button,
                                                               amuna_location, nuldar_location, sorae_location)

                            # save button was clicked. Save player info in dictionary to be loaded later
                            if save_button.rect.collidepoint(pos):
                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                # clears other windows first, if they were open
                                drawing_functions.character_sheet_info_draw(character_sheet, player, font,
                                                                            False)
                                character_button_clicked = False
                                drawing_functions.journal_info_draw(journal, player, font, False,
                                                                    marrow_switch_phase,
                                                                    npc_artherian, artherian_2, npc_maydria, npc_boro,
                                                                    npc_noren, seldon_quest_district_button,
                                                                    korlok_quest_district_button,
                                                                    eldream_quest_district_button,
                                                                    marrow_quest_district_button,
                                                                    quest_district_selected,
                                                                    district_button_select)
                                journal_button_clicked = False
                                drawing_functions.world_map_container.clear()
                                map_button_clicked = False

                                saving = True
                                yes_button.update(450, 394, graphic_dict["yes_button_img"])

                                # see if the save file has data by checking length
                                try:
                                    with open("save", "rb"):
                                        if os.path.getsize("save") > 0:
                                            saved = True
                                        else:
                                            saved = False
                                except FileNotFoundError:
                                    with open("save", "wb"):
                                        saved = False

                                if saved:
                                    save_check_window.append(save_check)
                                    save_check_window.append(yes_button)
                                    save_check_window.append(no_button)

                                if not saved:
                                    # reset to prevent skipping in first dungeon (reservoir)
                                    if not switch_3:
                                        switch_1 = False
                                        switch_2 = False
                                    info = gameplay_functions.save_game(player, barrier_learned, hard_strike_learned,
                                                                        sharp_sense_learned, saved, npc_garan.gift,
                                                                        rest_recover_show, knowledge_academia_show,
                                                                        quest_guide_shown, battle_guide_shown,
                                                                        rest_shown_before, quest_highlight_popup,
                                                                        bridge_not_repaired, nede_ghoul_defeated,
                                                                        bridge_cutscenes_not_viewed, crate_1, crate_2,
                                                                        crate_3, crate_4, crate_5, switch_1, switch_2,
                                                                        switch_3, muchador_defeated, has_key,
                                                                        mini_boss_1_defeated, mini_boss_2_defeated,
                                                                        gloves_obtained, korlok_attuned,
                                                                        eldream_attuned, rock_4_con, rock_5_con,
                                                                        rock_6_con, rock_7_con, chinzilla_defeated,
                                                                        apothecary_access, beyond_seldon, seed_given,
                                                                        hatch_ready, menagerie_access, kasper_unlocked,
                                                                        torok_unlocked, iriana_unlocked, rock_8_con,
                                                                        rock_3_con, seed_scout_count,
                                                                        seed_fighter_count, seed_mage_count,
                                                                        dreth_cutscenes_not_viewed, mirror_learned,
                                                                        stun_learned, vanish_learned, boots_obtained,
                                                                        marrow_switch_phase, erebyth_defeated,
                                                                        ramps_crate_1_got, ramps_crate_2_got,
                                                                        ramps_crate_3_got, ramps_crate_4_got,
                                                                        ramps_crate_5_got, marrow_attuned,
                                                                        npc_artherian.gift, artherian_2,
                                                                        npc_artherian.quest_complete, fishing_unlocked,
                                                                        fishing_journal_unlocked, bait_given,
                                                                        basic_fish_counter, better_fish_counter,
                                                                        even_better_fish_counter, best_fish_counter,
                                                                        fishing_level, basic_fish_reward,
                                                                        better_fish_reward, even_better_fish_reward,
                                                                        best_fish_reward, marrow_small_chest_got,
                                                                        npc_noren.quest_complete,
                                                                        npc_boro.quest_complete, npc_maydria,
                                                                        artherian_task_start, prism_received,
                                                                        castle_crate_1_got, castle_crate_2_got,
                                                                        castle_chest_1_got, castle_chest_2_got,
                                                                        dreth_taunt_1, dreth_taunt_2, dreth_taunt_3,
                                                                        mirage_updated, mirage_2_updated, mirage_saved,
                                                                        mirage_2_saved, rope_phase,
                                                                        atmon_castle.alive_status, thanked,
                                                                        dreth_taunt_4, dreth_defeated, apothis_gift,
                                                                        sub_marrow_opened, cat_rewarded, cats_pet,
                                                                        credits_shown, trading_deck,
                                                                        trading_task_complete, any_card_counter,
                                                                        card_deck, fire_learned, edge_learned,
                                                                        arrow_learned, on_card_quest, item_block_1_got,
                                                                        item_block_2_got, item_block_3_got,
                                                                        item_block_4_got, item_block_5_got,
                                                                        item_block_6_got, item_block_7_got,
                                                                        item_block_8_got, item_block_9_got,
                                                                        item_block_10_got, item_block_11_got,
                                                                        item_block_12_got, cloaked_popup_shown,
                                                                        time_of_day, poisoned, burned, bleeding,
                                                                        condition_popup_shown, crushed, music_toggle,
                                                                        apothis_upgrade, apothis_popup_shown,
                                                                        pet_popup_shown, smelted_casing)
                                    saved = True
                                    saving = False
                                    info_text_1 = info
                                    pygame.mixer.find_channel(True).play(sfx_save_game)

                            if yes_button.rect.collidepoint(pos) and saving:
                                # reset to prevent skipping
                                if not switch_3:
                                    switch_1 = False
                                    switch_2 = False
                                info = gameplay_functions.save_game(player, barrier_learned, hard_strike_learned,
                                                                    sharp_sense_learned, saved, npc_garan.gift,
                                                                    rest_recover_show, knowledge_academia_show,
                                                                    quest_guide_shown, battle_guide_shown,
                                                                    rest_shown_before,
                                                                    quest_highlight_popup, bridge_not_repaired,
                                                                    nede_ghoul_defeated, bridge_cutscenes_not_viewed,
                                                                    crate_1,
                                                                    crate_2, crate_3, crate_4, crate_5, switch_1,
                                                                    switch_2,
                                                                    switch_3, muchador_defeated, has_key,
                                                                    mini_boss_1_defeated,
                                                                    mini_boss_2_defeated, gloves_obtained,
                                                                    korlok_attuned,
                                                                    eldream_attuned, rock_4_con, rock_5_con, rock_6_con,
                                                                    rock_7_con, chinzilla_defeated, apothecary_access,
                                                                    beyond_seldon, seed_given, hatch_ready,
                                                                    menagerie_access,
                                                                    kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                    rock_8_con, rock_3_con, seed_scout_count,
                                                                    seed_fighter_count, seed_mage_count,
                                                                    dreth_cutscenes_not_viewed, mirror_learned,
                                                                    stun_learned,
                                                                    vanish_learned, boots_obtained, marrow_switch_phase,
                                                                    erebyth_defeated, ramps_crate_1_got,
                                                                    ramps_crate_2_got,
                                                                    ramps_crate_3_got, ramps_crate_4_got,
                                                                    ramps_crate_5_got,
                                                                    marrow_attuned, npc_artherian.gift, artherian_2,
                                                                    npc_artherian.quest_complete, fishing_unlocked,
                                                                    fishing_journal_unlocked, bait_given,
                                                                    basic_fish_counter,
                                                                    better_fish_counter, even_better_fish_counter,
                                                                    best_fish_counter, fishing_level, basic_fish_reward,
                                                                    better_fish_reward, even_better_fish_reward,
                                                                    best_fish_reward, marrow_small_chest_got,
                                                                    npc_noren.quest_complete, npc_boro.quest_complete,
                                                                    npc_maydria, artherian_task_start, prism_received,
                                                                    castle_crate_1_got, castle_crate_2_got,
                                                                    castle_chest_1_got, castle_chest_2_got,
                                                                    dreth_taunt_1, dreth_taunt_2, dreth_taunt_3,
                                                                    mirage_updated, mirage_2_updated, mirage_saved,
                                                                    mirage_2_saved, rope_phase,
                                                                    atmon_castle.alive_status, thanked, dreth_taunt_4,
                                                                    dreth_defeated, apothis_gift, sub_marrow_opened,
                                                                    cat_rewarded, cats_pet, credits_shown, trading_deck,
                                                                    trading_task_complete, any_card_counter, card_deck,
                                                                    fire_learned, edge_learned, arrow_learned,
                                                                    on_card_quest, item_block_1_got,
                                                                    item_block_2_got, item_block_3_got,
                                                                    item_block_4_got, item_block_5_got,
                                                                    item_block_6_got, item_block_7_got,
                                                                    item_block_8_got, item_block_9_got,
                                                                    item_block_10_got, item_block_11_got,
                                                                    item_block_12_got, cloaked_popup_shown,
                                                                    time_of_day, poisoned, burned, bleeding,
                                                                    condition_popup_shown, crushed, music_toggle,
                                                                    apothis_upgrade, apothis_popup_shown,
                                                                    pet_popup_shown, smelted_casing)
                                save_check_window.clear()
                                button_highlighted = False
                                saving = False
                                pygame.mixer.find_channel(True).play(sfx_save_game)
                                info_text_1 = info
                            if no_button.rect.collidepoint(pos) and saving:
                                save_check_window.clear()
                                saving = False
                                button_highlighted = False

                            if character_button.rect.collidepoint(pos):
                                # clears other open windows first, if they were open
                                drawing_functions.journal_info_draw(journal, player, font, False, marrow_switch_phase,
                                                                    npc_artherian, artherian_2, npc_maydria, npc_boro,
                                                                    npc_noren, seldon_quest_district_button,
                                                                    korlok_quest_district_button,
                                                                    eldream_quest_district_button,
                                                                    marrow_quest_district_button,
                                                                    quest_district_selected,
                                                                    district_button_select)
                                journal_button_clicked = False
                                drawing_functions.world_map_container.clear()
                                map_button_clicked = False
                                save_check_window.clear()
                                saving = False
                                button_highlighted = False

                                if character_button_clicked:
                                    drawing_functions.character_sheet_info_draw(character_sheet, player,
                                                                                font, False)
                                    character_button_clicked = False
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    drawing_functions.character_sheet_info_draw(character_sheet, player,
                                                                                font, True)
                                    character_button_clicked = True

                            if quests_button.rect.collidepoint(pos):
                                # clears other windows first, if they were open
                                drawing_functions.character_sheet_info_draw(character_sheet, player, font,
                                                                            False)
                                character_button_clicked = False
                                drawing_functions.world_map_container.clear()
                                map_button_clicked = False
                                save_check_window.clear()
                                saving = False
                                button_highlighted = False

                                if journal_button_clicked:
                                    drawing_functions.journal_info_draw(journal, player, font, False,
                                                                        marrow_switch_phase, npc_artherian, artherian_2,
                                                                        npc_maydria, npc_boro, npc_noren,
                                                                        seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    journal_button_clicked = False
                                else:
                                    if in_over_world:
                                        pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    if (player.current_zone == "seldon" or player.current_zone == "stardust"
                                            or player.current_zone == "rohir" or player.current_zone == "reservoir a"
                                            or player.current_zone == "reservoir b"
                                            or player.current_zone == "reservoir c"):
                                        quest_district_selected = 0
                                        district_button_select.update(772, 102, graphic_dict["district_button_select"])
                                    if (player.current_zone == "korlok" or player.current_zone == "mines"
                                            or player.current_zone == "terra trail"
                                            or player.current_zone == "fishing hut" or player.current_zone == "forge"):
                                        quest_district_selected = 1
                                        district_button_select.update(842, 102, graphic_dict["district_button_select"])
                                    if (player.current_zone == "eldream" or player.current_zone == "ectrenos"
                                            or player.current_zone == "ectrenos front"
                                            or player.current_zone == "ectrenos left"
                                            or player.current_zone == "ectrenos right"
                                            or player.current_zone == "ectrenos alcove"
                                            or player.current_zone == "fishing alcove"
                                            or player.current_zone == "altar"):
                                        quest_district_selected = 2
                                        district_button_select.update(912, 102, graphic_dict["district_button_select"])
                                    if (player.current_zone == "marrow entrance"
                                            or player.current_zone == "marrow ramps west"
                                            or player.current_zone == "marrow ramps east"
                                            or player.current_zone == "marrow tower west"
                                            or player.current_zone == "marrow tower east"
                                            or player.current_zone == "marrow ramps west end"
                                            or player.current_zone == "marrow ramps east end"
                                            or player.current_zone == "marrow"
                                            or player.current_zone == "sub marrow"
                                            or player.current_zone == "castle one"
                                            or player.current_zone == "castle two"
                                            or player.current_zone == "castle three"
                                            or player.current_zone == "caldera" or
                                            player.current_zone == "castle lair"):
                                        quest_district_selected = 3
                                        district_button_select.update(982, 102, graphic_dict["district_button_select"])
                                    drawing_functions.journal_info_draw(journal, player, font, True,
                                                                        marrow_switch_phase, npc_artherian, artherian_2,
                                                                        npc_maydria, npc_boro, npc_noren,
                                                                        seldon_quest_district_button,
                                                                        korlok_quest_district_button,
                                                                        eldream_quest_district_button,
                                                                        marrow_quest_district_button,
                                                                        quest_district_selected,
                                                                        district_button_select)
                                    journal_button_clicked = True

                            # for clicking map buttons, when the map is open
                            if len(drawing_functions.world_map_container) > 0:
                                if seldon_map_button.rect.collidepoint(pos):
                                    time_of_day += 1
                                    if time_of_day > 7:
                                        time_of_day -= 8
                                    pygame.mixer.find_channel(True).play(sfx_map_teleport)
                                    player.current_zone = "seldon"
                                    drawing_functions.hearthstone_animation(pygame, screen, player,
                                                                            seldon_hearth_screen, seldon_district_bg,
                                                                            korlok_hearth_screen, korlok_district_bg,
                                                                            eldream_hearth_screen, eldream_district_bg,
                                                                            SCREEN_WIDTH, SCREEN_HEIGHT, game_window,
                                                                            marrow_hearth_screen, marrow_district_bg)
                                    player.x_coordinate = 860
                                    player.y_coordinate = 655
                                    player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                  player.y_coordinate))
                                    # keep player pet with player as they move
                                    try:
                                        for pet in player.pet:
                                            if pet.active:
                                                pet.update(pet_update_x, pet_update_y, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                           player.current_zone)
                                    except AttributeError:
                                        pass
                                    # update message box indicator
                                    if time_of_day == 0:
                                        message_box.update(173, 650, graphic_dict["message_box_night"])
                                    if time_of_day == 1:
                                        over_world_song_set = False
                                        message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                        pygame.mixer.find_channel(True).play(sfx_chirp)
                                    if time_of_day == 2:
                                        message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                    if time_of_day == 3 or time_of_day == 4:
                                        message_box.update(173, 650, graphic_dict["message_box_day"])
                                    if time_of_day == 5 or time_of_day == 6:
                                        message_box.update(173, 650, graphic_dict["message_box_dusk"])
                                    if time_of_day == 7:
                                        over_world_song_set = False
                                        message_box.update(173, 650, graphic_dict["message_box_night"])
                                        pygame.mixer.find_channel(True).play(sfx_howl)
                                    if time_of_day == 0 or time_of_day == 7:
                                        for snake in snakes:
                                            if (player.quest_status["sneaky snakes"]
                                                    and not player.quest_complete["sneaky snakes"]):
                                                snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                                   graphic_dict["snake_high_night"])
                                            else:
                                                snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                                   graphic_dict["snake_night"])
                                        if player.quest_progress["where's nede?"] == 1:
                                            nede.update(809, 390, graphic_dict["nede_sleep"])
                                    else:
                                        for snake in snakes:
                                            if (player.quest_status["sneaky snakes"]
                                                    and not player.quest_complete["sneaky snakes"]):
                                                snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                                   graphic_dict["snake_high"])
                                            else:
                                                snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                                   graphic_dict["snake"])
                                        if player.quest_progress["where's nede?"] == 1:
                                            nede.update(809, 390, graphic_dict["nede_left"])
                                    rohir_gate.update(525, 50, graphic_dict["rohir_gate"])
                                    info_text_1 = "You recalled to the seldon stone."
                                    over_world_song_set = False
                                    drawing_functions.world_map_container.clear()
                                    if show_cat_card:
                                        show_cat_card = False
                                    if fish_caught:
                                        fish_caught = False
                                    map_button_clicked = False
                                if korlok_map_button.rect.collidepoint(pos):
                                    if korlok_attuned:
                                        time_of_day += 1
                                        if time_of_day > 7:
                                            time_of_day -= 8
                                        pygame.mixer.find_channel(True).play(sfx_map_teleport)
                                        player.current_zone = "korlok"
                                        drawing_functions.hearthstone_animation(pygame, screen, player,
                                                                                seldon_hearth_screen,
                                                                                seldon_district_bg,
                                                                                korlok_hearth_screen,
                                                                                korlok_district_bg,
                                                                                eldream_hearth_screen,
                                                                                eldream_district_bg, SCREEN_WIDTH,
                                                                                SCREEN_HEIGHT, game_window,
                                                                                marrow_hearth_screen,
                                                                                marrow_district_bg)
                                        player.x_coordinate = 895
                                        player.y_coordinate = 325
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                        # keep player pet with player as they move
                                        try:
                                            for pet in player.pet:
                                                if pet.active:
                                                    pet.update(pet_update_x, pet_update_y, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                               player.current_zone)
                                        except AttributeError:
                                            pass
                                        # update message box indicator
                                        if time_of_day == 0:
                                            message_box.update(173, 650, graphic_dict["message_box_night"])
                                        if time_of_day == 1:
                                            over_world_song_set = False
                                            message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                            pygame.mixer.find_channel(True).play(sfx_chirp)
                                        if time_of_day == 2:
                                            message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                        if time_of_day == 3 or time_of_day == 4:
                                            message_box.update(173, 650, graphic_dict["message_box_day"])
                                        if time_of_day == 5 or time_of_day == 6:
                                            message_box.update(173, 650, graphic_dict["message_box_dusk"])
                                        if time_of_day == 7:
                                            over_world_song_set = False
                                            message_box.update(173, 650, graphic_dict["message_box_night"])
                                            pygame.mixer.find_channel(True).play(sfx_howl)
                                        if time_of_day == 0 or time_of_day == 7:
                                            for magmon in magmons:
                                                if (player.quest_status["elementary elementals"]
                                                        and not player.quest_complete["elementary elementals"]):
                                                    magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                        graphic_dict["magmon_high_night"])
                                                else:
                                                    magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                        graphic_dict["magmon_night"])
                                        else:
                                            for magmon in magmons:
                                                if (player.quest_status["elementary elementals"]
                                                        and not player.quest_complete["elementary elementals"]):
                                                    magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                        graphic_dict["magmon_high"])
                                                else:
                                                    magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                        graphic_dict["magmon"])
                                        rohir_gate.update(525, 600, graphic_dict["rohir_gate"])
                                        info_text_1 = "You recalled to the korlok stone."
                                        over_world_song_set = False
                                        drawing_functions.world_map_container.clear()
                                        if show_cat_card:
                                            show_cat_card = False
                                        if fish_caught:
                                            fish_caught = False
                                        map_button_clicked = False
                                        using_forge = False
                                    else:
                                        info_text_1 = "You have not yet attuned there. "
                                        info_text_2 = ""
                                if eldream_map_button.rect.collidepoint(pos):
                                    if eldream_attuned:
                                        time_of_day += 1
                                        if time_of_day > 7:
                                            time_of_day -= 8
                                        pygame.mixer.find_channel(True).play(sfx_map_teleport)
                                        player.current_zone = "eldream"
                                        drawing_functions.hearthstone_animation(pygame, screen, player,
                                                                                seldon_hearth_screen,
                                                                                seldon_district_bg,
                                                                                korlok_hearth_screen,
                                                                                korlok_district_bg,
                                                                                eldream_hearth_screen,
                                                                                eldream_district_bg, SCREEN_WIDTH,
                                                                                SCREEN_HEIGHT, game_window,
                                                                                marrow_hearth_screen,
                                                                                marrow_district_bg)
                                        player.x_coordinate = 890
                                        player.y_coordinate = 635
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                        # keep player pet with player as they move
                                        try:
                                            for pet in player.pet:
                                                if pet.active:
                                                    pet.update(pet_update_x, pet_update_y, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                               player.current_zone)
                                        except AttributeError:
                                            pass
                                        # update message box indicator
                                        if time_of_day == 0:
                                            message_box.update(173, 650, graphic_dict["message_box_night"])
                                        if time_of_day == 1:
                                            over_world_song_set = False
                                            message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                            pygame.mixer.find_channel(True).play(sfx_chirp)
                                        if time_of_day == 2:
                                            message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                        if time_of_day == 3 or time_of_day == 4:
                                            message_box.update(173, 650, graphic_dict["message_box_day"])
                                        if time_of_day == 5 or time_of_day == 6:
                                            message_box.update(173, 650, graphic_dict["message_box_dusk"])
                                        if time_of_day == 7:
                                            over_world_song_set = False
                                            message_box.update(173, 650, graphic_dict["message_box_night"])
                                            pygame.mixer.find_channel(True).play(sfx_howl)
                                        info_text_1 = "You recalled to the eldream stone."
                                        over_world_song_set = False
                                        drawing_functions.world_map_container.clear()
                                        if show_cat_card:
                                            show_cat_card = False
                                        if fish_caught:
                                            fish_caught = False
                                        map_button_clicked = False
                                        using_forge = False
                                    else:
                                        info_text_1 = "You have not yet attuned there. "
                                        info_text_2 = ""
                                if marrow_map_button.rect.collidepoint(pos):
                                    if marrow_attuned:
                                        time_of_day += 1
                                        if time_of_day > 7:
                                            time_of_day -= 8
                                        pygame.mixer.find_channel(True).play(sfx_map_teleport)
                                        player.current_zone = "marrow"
                                        drawing_functions.hearthstone_animation(pygame, screen, player,
                                                                                seldon_hearth_screen,
                                                                                seldon_district_bg,
                                                                                korlok_hearth_screen,
                                                                                korlok_district_bg,
                                                                                eldream_hearth_screen,
                                                                                eldream_district_bg, SCREEN_WIDTH,
                                                                                SCREEN_HEIGHT, game_window,
                                                                                marrow_hearth_screen,
                                                                                marrow_district_bg)
                                        player.x_coordinate = 890
                                        player.y_coordinate = 390
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                        # keep player pet with player as they move
                                        try:
                                            for pet in player.pet:
                                                if pet.active:
                                                    pet.update(pet_update_x, pet_update_y, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                               player.current_zone)
                                        except AttributeError:
                                            pass
                                        # update message box indicator
                                        if time_of_day == 0:
                                            message_box.update(173, 650, graphic_dict["message_box_night"])
                                        if time_of_day == 1:
                                            over_world_song_set = False
                                            message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                            pygame.mixer.find_channel(True).play(sfx_chirp)
                                        if time_of_day == 2:
                                            message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                        if time_of_day == 3 or time_of_day == 4:
                                            message_box.update(173, 650, graphic_dict["message_box_day"])
                                        if time_of_day == 5 or time_of_day == 6:
                                            message_box.update(173, 650, graphic_dict["message_box_dusk"])
                                        if time_of_day == 7:
                                            over_world_song_set = False
                                            message_box.update(173, 650, graphic_dict["message_box_night"])
                                            pygame.mixer.find_channel(True).play(sfx_howl)
                                        info_text_1 = "You recalled to the marrow stone."
                                        over_world_song_set = False
                                        drawing_functions.world_map_container.clear()
                                        if show_cat_card:
                                            show_cat_card = False
                                        if fish_caught:
                                            fish_caught = False
                                        map_button_clicked = False
                                    else:
                                        info_text_1 = "You have not yet attuned there. "
                                        info_text_2 = ""

                            # pop-up notifications, click to hide
                            if knowledge_academia.rect.collidepoint(pos):
                                drawing_functions.knowledge_academia_window.clear()
                            if rest_recover.rect.collidepoint(pos):
                                drawing_functions.rest_recover_window.clear()
                            if loot_popup.rect.collidepoint(pos):
                                drawing_functions.loot_popup_container.clear()
                                drawing_functions.loot_text_container.clear()
                            if first_quest.rect.collidepoint(pos):
                                drawing_functions.first_quest_window.clear()
                            if game_guide_overlay.rect.collidepoint(pos):
                                drawing_functions.game_guide_container.clear()
                            if level_up_win.rect.collidepoint(pos):
                                drawing_functions.level_up_draw(level_up_win, player, font, False)
                            if outpost_notify.rect.collidepoint(pos):
                                drawing_functions.outpost_window.clear()
                                if len(drawing_functions.outpost_window) > 0:
                                    outpost_show = False
                            if apothis_gift_popup.rect.collidepoint(pos):
                                drawing_functions.apothis_popup_window.clear()
                            if dreth_taunt_popup.rect.collidepoint(pos):
                                drawing_functions.dreth_taunt_window.clear()
                            if cloaked_popup.rect.collidepoint(pos):
                                drawing_functions.cloaked_popup_window.clear()
                            if condition_popup.rect.collidepoint(pos):
                                drawing_functions.condition_popup_window.clear()
                            if pet_popup.rect.collidepoint(pos):
                                drawing_functions.pet_popup_window.clear()

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player is in nascent grove (starting area) --------------------------------------------------------
                if player.current_zone == "nascent" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if not over_world_song_set:
                        if pygame.mixer.music.get_busy():
                            pygame.mixer.music.fadeout(50)
                            pygame.mixer.music.load(nascent_music)
                            pygame.mixer.music.play(loops=-1)
                            over_world_song_set = True

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        screen.blit(nascent_grove_bg, (0, 0))
                        screen.blit(nascent_gate.surf, nascent_gate.rect)
                        screen.blit(rock_8.surf, rock_8.rect)
                        screen.blit(npc_nascent.surf, npc_nascent.rect)
                        screen.blit(player.surf, player.rect)
                        if time_of_day == 0:
                            screen.blit(dawn, (0, 0))
                        if time_of_day == 1:
                            screen.blit(early_morning, (0, 0))
                        if time_of_day == 2:
                            screen.blit(morning, (0, 0))
                        if time_of_day == 4:
                            screen.blit(early_afternoon, (0, 0))
                        if time_of_day == 5:
                            screen.blit(afternoon, (0, 0))
                        if time_of_day == 6:
                            screen.blit(dusk, (0, 0))
                        if time_of_day == 7:
                            screen.blit(night, (0, 0))
                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                        if not player.quest_complete["welcome to consona"]:
                            screen.blit(quest_star_nascent.surf, quest_star_nascent.rect)
                    else:
                        game_window.blit(nascent_grove_bg, (0, 0))
                        game_window.blit(nascent_gate.surf, nascent_gate.rect)
                        game_window.blit(rock_8.surf, rock_8.rect)
                        game_window.blit(npc_nascent.surf, npc_nascent.rect)
                        game_window.blit(player.surf, player.rect)
                        if time_of_day == 0:
                            game_window.blit(dawn, (0, 0))
                        if time_of_day == 1:
                            game_window.blit(early_morning, (0, 0))
                        if time_of_day == 2:
                            game_window.blit(morning, (0, 0))
                        if time_of_day == 4:
                            game_window.blit(early_afternoon, (0, 0))
                        if time_of_day == 5:
                            game_window.blit(afternoon, (0, 0))
                        if time_of_day == 6:
                            game_window.blit(dusk, (0, 0))
                        if time_of_day == 7:
                            game_window.blit(night, (0, 0))
                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                        if not player.quest_complete["welcome to consona"]:
                            game_window.blit(quest_star_nascent.surf, quest_star_nascent.rect)
                    try:
                        for pet in player.pet:
                            if pet.active:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(pet.surf, pet.rect)
                                else:
                                    game_window.blit(pet.surf, pet.rect)
                    except AttributeError:
                        pass

                    text_rupee_surf = font.render(str(player.rupees), True, "black",
                                                  "light green")
                    text_rupee_rect = text_rupee_surf.get_rect()
                    text_rupee_rect.center = (1125, 693)
                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        screen.blit(text_rupee_surf, text_rupee_rect)
                    else:
                        game_window.blit(text_rupee_surf, text_rupee_rect)

                    if pygame.sprite.collide_rect(player, nascent_gate):
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(nascent_gate_popup.surf, nascent_gate_popup.rect)
                        else:
                            game_window.blit(nascent_gate_popup.surf, nascent_gate_popup.rect)
                        if interacted and in_over_world:
                            pygame.mixer.find_channel(True).play(sfx_door_open)
                            nascent_gate.update(nascent_gate.x_coordinate, nascent_gate.y_coordinate,
                                                graphic_dict["nascent_gate_open"])
                            if player.y_coordinate > 300:
                                player.y_coordinate = 215
                            else:
                                player.y_coordinate = 375
                            interacted = False
                    else:
                        nascent_gate.update(nascent_gate.x_coordinate, nascent_gate.y_coordinate,
                                            graphic_dict["nascent_gate_closed"])

                    if pygame.sprite.collide_rect(player, rock_8):
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            interaction_popup.update(rock_8.x_coordinate, rock_8.y_coordinate - 50,
                                                     graphic_dict["popup_interaction"])
                            screen.blit(interaction_popup.surf, interaction_popup.rect)
                            interaction_info_surf = font.render(str("Rock"), True, "black", "light yellow")
                            interaction_info_rect = interaction_info_surf.get_rect()
                            interaction_info_rect.center = (rock_8.x_coordinate, rock_8.y_coordinate - 50)
                            screen.blit(interaction_info_surf, interaction_info_rect)
                        else:
                            interaction_popup.update(rock_8.x_coordinate, rock_8.y_coordinate - 50,
                                                     graphic_dict["popup_interaction"])
                            game_window.blit(interaction_popup.surf, interaction_popup.rect)
                            interaction_info_surf = font.render(str("Rock"), True, "black", "light yellow")
                            interaction_info_rect = interaction_info_surf.get_rect()
                            interaction_info_rect.center = (rock_8.x_coordinate, rock_8.y_coordinate - 50)
                            game_window.blit(interaction_info_surf, interaction_info_rect)

                        if interacted and in_over_world:
                            try:
                                if player.equipment["gloves"].name == "power gloves":
                                    if rock_8.x_coordinate == 405:
                                        rock_8.update(rock_8.x_coordinate + 120, rock_8.y_coordinate,
                                                      graphic_dict["rock_small"])
                                        if not rock_8_con:
                                            pygame.mixer.find_channel(True).play(sfx_item_rupee)
                                            player.rupees += 100
                                            rock_8_con = True
                                            info_text_1 = "You found 100 Rupees under the rock!"
                                            info_text_2 = ""
                                else:
                                    pass
                            except AttributeError:
                                pass
                            interacted = False

                    if pygame.sprite.collide_rect(player, npc_nascent):
                        interaction_popup.update(npc_nascent.x_coordinate, npc_nascent.y_coordinate - 50,
                                                 graphic_dict["popup_interaction_purple"])
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(interaction_popup.surf, interaction_popup.rect)
                            interaction_info_surf = font.render(str(' Press "F" key '),
                                                                True, "black", (203, 195, 227))
                            interaction_info_rect = interaction_info_surf.get_rect()
                            interaction_info_rect.center = (npc_nascent.x_coordinate, npc_nascent.y_coordinate - 50)
                            screen.blit(interaction_info_surf, interaction_info_rect)
                        else:
                            game_window.blit(interaction_popup.surf, interaction_popup.rect)
                            interaction_info_surf = font.render(str(' Press "F" key '),
                                                                True, "black", (203, 195, 227))
                            interaction_info_rect = interaction_info_surf.get_rect()
                            interaction_info_rect.center = (npc_nascent.x_coordinate, npc_nascent.y_coordinate - 50)
                            game_window.blit(interaction_info_surf, interaction_info_rect)

                        info_text_1 = "Press 'F' key to talk to NPC."
                        info_text_2 = ""
                        info_text_3 = ""
                        info_text_4 = ""

                        if interacted and in_over_world and not in_battle and not in_shop and not in_inn \
                                and not in_npc_interaction:
                            current_npc_interacting = npc_nascent
                            in_over_world = False
                            in_npc_interaction = True
                            movement_able = False
                            drawing_functions.loot_popup_container.clear()
                            drawing_functions.loot_text_container.clear()
                            combat_scenario.battle_animation_player(player, player_battle_sprite, barrier_active,
                                                                    sharp_sense_active, graphic_dict,
                                                                    kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                    kasper_battle_sprite, torok_battle_sprite,
                                                                    iriana_battle_sprite)
                            # game guide popups
                            if not quest_guide_shown:
                                drawing_functions.game_guide_container.append(game_guide_overlay)
                                quest_guide_shown = True

                    face_direction = random.choice(["front", "back", "left", "right"])
                    if movement_able and in_over_world:
                        npc_toc = time.perf_counter()
                        if npc_toc - npc_tic > 5:
                            npc_tic = time.perf_counter()
                            if face_direction == "front":
                                npc_nascent.update(graphic_dict["nascent_npc_down"])
                            if face_direction == "back":
                                npc_nascent.update(graphic_dict["nascent_npc_up"])
                            if face_direction == "left":
                                npc_nascent.update(graphic_dict["nascent_npc_left"])
                            if face_direction == "right":
                                npc_nascent.update(graphic_dict["nascent_npc_right"])

                    # move player to seldon district when they approach nascent grove exit
                    if player.x_coordinate > 700 and player.y_coordinate < 80:
                        if time_of_day != 0 and time_of_day != 7:
                            over_world_song_set = False
                        player.current_zone = "seldon"
                        in_over_world = True
                        player.x_coordinate = 425
                        player.y_coordinate = 690

                        if time_of_day == 0 or time_of_day == 7:
                            for snake in snakes:
                                if (player.quest_status["sneaky snakes"]
                                        and not player.quest_complete["sneaky snakes"]):
                                    snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                       graphic_dict["snake_high_night"])
                                else:
                                    snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                       graphic_dict["snake_night"])
                            if player.quest_progress["where's nede?"] == 1:
                                nede.update(809, 390, graphic_dict["nede_sleep"])
                        else:
                            for snake in snakes:
                                if (player.quest_status["sneaky snakes"]
                                        and not player.quest_complete["sneaky snakes"]):
                                    snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                       graphic_dict["snake_high"])
                                else:
                                    snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                       graphic_dict["snake"])
                            if player.quest_progress["where's nede?"] == 1:
                                nede.update(809, 390, graphic_dict["nede_left"])

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        drawing_functions.draw_it(screen, in_battle)
                    else:
                        drawing_functions.draw_it(game_window, in_battle)

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player is in nascent grove (starting area) --------------------------------------------------------
                if player.current_zone == "fishing hut" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        hut_returned = zone_fishing_hut.fishing_hut(pygame, screen, player, over_world_song_set,
                                                                    fishing_music, fishing, walk_tic,
                                                                    fishing_spot_korlok_1, fishing_spot_korlok_2,
                                                                    graphic_dict, fishing_timer, fishing_level,
                                                                    basic_fish_counter, better_fish_counter,
                                                                    even_better_fish_counter, best_fish_counter,
                                                                    fish_caught, previous_surf, water_fish_1,
                                                                    water_fish_3, water_fish_4, fishing_hut_bg,
                                                                    equipment_screen, offense_meter, defense_meter,
                                                                    staff, sword, bow, npc_garan, weapon_select,
                                                                    save_check_window, user_interface, bar_backdrop,
                                                                    hp_bar, en_bar, xp_bar, font, info_text_1,
                                                                    info_text_2, info_text_3, info_text_4,
                                                                    in_over_world, fishing_hut_rect, interaction_popup,
                                                                    interacted, fishing_unlocked, movement_able, in_hut,
                                                                    pet_energy_window, sfx_fishing_cast, item_block_2,
                                                                    item_block_2_got, Item, sfx_item_block,
                                                                    apothis_upgrade, dawn, early_morning, morning,
                                                                    early_afternoon, afternoon, dusk, night,
                                                                    time_of_day, sfx_door_open, magmons, night_music)
                    else:
                        hut_returned = zone_fishing_hut.fishing_hut(pygame, game_window, player, over_world_song_set,
                                                                    fishing_music, fishing, walk_tic,
                                                                    fishing_spot_korlok_1, fishing_spot_korlok_2,
                                                                    graphic_dict, fishing_timer, fishing_level,
                                                                    basic_fish_counter, better_fish_counter,
                                                                    even_better_fish_counter, best_fish_counter,
                                                                    fish_caught, previous_surf, water_fish_1,
                                                                    water_fish_3, water_fish_4, fishing_hut_bg,
                                                                    equipment_screen, offense_meter, defense_meter,
                                                                    staff, sword, bow, npc_garan, weapon_select,
                                                                    save_check_window, user_interface, bar_backdrop,
                                                                    hp_bar, en_bar, xp_bar, font, info_text_1,
                                                                    info_text_2, info_text_3, info_text_4,
                                                                    in_over_world, fishing_hut_rect, interaction_popup,
                                                                    interacted, fishing_unlocked, movement_able, in_hut,
                                                                    pet_energy_window, sfx_fishing_cast, item_block_2,
                                                                    item_block_2_got, Item, sfx_item_block,
                                                                    apothis_upgrade, dawn, early_morning, morning,
                                                                    early_afternoon, afternoon, dusk, night,
                                                                    time_of_day, sfx_door_open, magmons, night_music)

                    over_world_song_set = hut_returned["over_world_song_set"]
                    basic_fish_counter = hut_returned["basic_fish_counter"]
                    better_fish_counter = hut_returned["better_fish_counter"]
                    even_better_fish_counter = hut_returned["even_better_fish_counter"]
                    best_fish_counter = hut_returned["best_fish_counter"]
                    fish_caught = hut_returned["fish_caught"]
                    movement_able = hut_returned["movement_able"]
                    info_text_1 = hut_returned["info_text_1"]
                    info_text_2 = hut_returned["info_text_2"]
                    info_text_3 = hut_returned["info_text_3"]
                    info_text_4 = hut_returned["info_text_4"]
                    in_hut = hut_returned["in_hut"]
                    fishing = hut_returned["fishing"]
                    fishing_timer = hut_returned["fishing_timer"]
                    previous_surf = hut_returned["previous_surf"]
                    interacted = hut_returned["interacted"]
                    in_over_world = hut_returned["in_over_world"]
                    item_block_2_got = hut_returned["item_block_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in seldon district ----------------------------------------------------------------------
                if player.current_zone == "seldon" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        seldon_returned = zone_seldon.seldon_district(pygame, player, screen, graphic_dict, rohir_gate,
                                                                      hearth_stone_seldon, over_world_song_set,
                                                                      seldon_overworld_music, seldon_district_bg,
                                                                      seldon_enemies, korlok_enemies, snakes,
                                                                      ghouls, magmons, bandiles, interactables_seldon,
                                                                      interactables_korlok, Enemy, Item, UiElement,
                                                                      most_sprites, quest_items_seldon,
                                                                      log_sprite_reset, snake_sprite_reset,
                                                                      ghoul_sprite_reset, nede, quest_star_garan,
                                                                      quest_star_maurelle, quest_star_celeste,
                                                                      quest_star_torune, interaction_popup, font,
                                                                      interacted, in_over_world, bridge_not_repaired,
                                                                      bridge_cutscenes_not_viewed, apothis_intro_music,
                                                                      apothis_scene_1, apothis_scene_2,
                                                                      apothis_scene_3, apothis_scene_4, apothis_scene_5,
                                                                      apothis_scene_6, skip_button,
                                                                      player_battle_sprite, snake_battle_sprite,
                                                                      ghoul_battle_sprite, chorizon_battle_sprite,
                                                                      muchador_battle_sprite, barrier_active,
                                                                      sharp_sense_active, in_npc_interaction,
                                                                      amuna_buildings, npcs_seldon, save_check_window,
                                                                      user_interface, bar_backdrop, hp_bar, en_bar,
                                                                      xp_bar, button_highlighted, button_highlight,
                                                                      knowledge_academia_show, knowledge_academia,
                                                                      rest_recover_show, rest_shown_before,
                                                                      rest_recover, quest_guide_shown,
                                                                      game_guide_overlay, enemy_tic, npc_tic, npc_garan,
                                                                      npc_maurelle, npc_celeste, npc_torune,
                                                                      info_text_1, info_text_2, info_text_3,
                                                                      info_text_4, in_battle, in_shop, in_academia,
                                                                      in_inn, movement_able, current_enemy_battling,
                                                                      current_npc_interacting,
                                                                      current_building_entering, magmon_battle_sprite,
                                                                      bandile_battle_sprite, chinzilla_battle_sprite,
                                                                      interactables_mines, equipment_screen, staff,
                                                                      sword, bow, offense_meter, defense_meter,
                                                                      weapon_select, player_cutscene_overlay,
                                                                      player_cutscene_overlay_2, beyond_seldon,
                                                                      seldon_flowers, eldream_flowers,
                                                                      interactables_eldream, pet_energy_window,
                                                                      ectrenos_front_enemies, necrola_battle_sprite,
                                                                      osodark_battle_sprite, pine_tree_1_top,
                                                                      pine_tree_2_top, pine_tree_3_top,
                                                                      amuna_building_top_1, amuna_building_top_2,
                                                                      amuna_building_top_3, sfx_item_pickup,
                                                                      sfx_item_flower, sfx_door_open, npc_worker_1,
                                                                      worker_tic, worker_positions, worker_move_tic,
                                                                      quest_logs_pile, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                      game_window, stelli_battle_sprite, vanished,
                                                                      vanish_overlay, erebyth_defeated,
                                                                      basic_fish_counter, better_fish_counter,
                                                                      even_better_fish_counter, best_fish_counter,
                                                                      seldon_barrier_small, apothis_gift,
                                                                      snakes_highlighted, ghouls_seldon_highlighted,
                                                                      quest_logs_highlighted, apothis_upgrade, dawn,
                                                                      early_morning, morning, early_afternoon,
                                                                      afternoon, dusk, night, time_of_day,
                                                                      apothis_scene_1_night, apothis_scene_2_night,
                                                                      apothis_scene_3_night, apothis_scene_4_night,
                                                                      apothis_scene_5_night, apothis_scene_6_night,
                                                                      stardust_stelli, kasper_unlocked, torok_unlocked,
                                                                      iriana_unlocked, kasper_battle_sprite,
                                                                      torok_battle_sprite, iriana_battle_sprite,
                                                                      night_music)

                    else:
                        seldon_returned = zone_seldon.seldon_district(pygame, player, game_window, graphic_dict,
                                                                      rohir_gate, hearth_stone_seldon,
                                                                      over_world_song_set,
                                                                      seldon_overworld_music, seldon_district_bg,
                                                                      seldon_enemies, korlok_enemies, snakes,
                                                                      ghouls, magmons, bandiles, interactables_seldon,
                                                                      interactables_korlok, Enemy, Item, UiElement,
                                                                      most_sprites, quest_items_seldon,
                                                                      log_sprite_reset, snake_sprite_reset,
                                                                      ghoul_sprite_reset, nede, quest_star_garan,
                                                                      quest_star_maurelle, quest_star_celeste,
                                                                      quest_star_torune, interaction_popup, font,
                                                                      interacted, in_over_world, bridge_not_repaired,
                                                                      bridge_cutscenes_not_viewed, apothis_intro_music,
                                                                      apothis_scene_1, apothis_scene_2, apothis_scene_3,
                                                                      apothis_scene_4, apothis_scene_5, apothis_scene_6,
                                                                      skip_button, player_battle_sprite,
                                                                      snake_battle_sprite, ghoul_battle_sprite,
                                                                      chorizon_battle_sprite, muchador_battle_sprite,
                                                                      barrier_active, sharp_sense_active,
                                                                      in_npc_interaction, amuna_buildings, npcs_seldon,
                                                                      save_check_window, user_interface, bar_backdrop,
                                                                      hp_bar, en_bar, xp_bar, button_highlighted,
                                                                      button_highlight, knowledge_academia_show,
                                                                      knowledge_academia, rest_recover_show,
                                                                      rest_shown_before, rest_recover,
                                                                      quest_guide_shown, game_guide_overlay, enemy_tic,
                                                                      npc_tic, npc_garan, npc_maurelle, npc_celeste,
                                                                      npc_torune, info_text_1, info_text_2, info_text_3,
                                                                      info_text_4, in_battle, in_shop, in_academia,
                                                                      in_inn, movement_able, current_enemy_battling,
                                                                      current_npc_interacting,
                                                                      current_building_entering, magmon_battle_sprite,
                                                                      bandile_battle_sprite, chinzilla_battle_sprite,
                                                                      interactables_mines, equipment_screen, staff,
                                                                      sword, bow, offense_meter, defense_meter,
                                                                      weapon_select, player_cutscene_overlay,
                                                                      player_cutscene_overlay_2, beyond_seldon,
                                                                      seldon_flowers, eldream_flowers,
                                                                      interactables_eldream, pet_energy_window,
                                                                      ectrenos_front_enemies, necrola_battle_sprite,
                                                                      osodark_battle_sprite, pine_tree_1_top,
                                                                      pine_tree_2_top, pine_tree_3_top,
                                                                      amuna_building_top_1, amuna_building_top_2,
                                                                      amuna_building_top_3, sfx_item_pickup,
                                                                      sfx_item_flower, sfx_door_open, npc_worker_1,
                                                                      worker_tic, worker_positions, worker_move_tic,
                                                                      quest_logs_pile, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                      game_window, stelli_battle_sprite, vanished,
                                                                      vanish_overlay, erebyth_defeated,
                                                                      basic_fish_counter, better_fish_counter,
                                                                      even_better_fish_counter, best_fish_counter,
                                                                      seldon_barrier_small, apothis_gift,
                                                                      snakes_highlighted, ghouls_seldon_highlighted,
                                                                      quest_logs_highlighted, apothis_upgrade, dawn,
                                                                      early_morning, morning, early_afternoon,
                                                                      afternoon, dusk, night, time_of_day,
                                                                      apothis_scene_1_night, apothis_scene_2_night,
                                                                      apothis_scene_3_night, apothis_scene_4_night,
                                                                      apothis_scene_5_night, apothis_scene_6_night,
                                                                      stardust_stelli, kasper_unlocked, torok_unlocked,
                                                                      iriana_unlocked, kasper_battle_sprite,
                                                                      torok_battle_sprite, iriana_battle_sprite,
                                                                      night_music)

                    over_world_song_set = seldon_returned["over_world_song_set"]
                    interactables_seldon = seldon_returned["interactables_seldon"]
                    interactables_korlok = seldon_returned["interactables_korlok"]
                    korlok_enemies = seldon_returned["korlok_enemies"]
                    magmons = seldon_returned["magmons"]
                    bandiles = seldon_returned["bandiles"]
                    log_sprite_reset = seldon_returned["log_sprite_reset"]
                    snake_sprite_reset = seldon_returned["snake_sprite_reset"]
                    ghoul_sprite_reset = seldon_returned["ghoul_sprite_reset"]
                    bridge_cutscenes_not_viewed = seldon_returned["bridge_cutscenes_not_viewed"]
                    current_enemy_battling = seldon_returned["current_enemy_battling"]
                    current_building_entering = seldon_returned["current_building_entering"]
                    current_npc_interacting = seldon_returned["current_npc_interacting"]
                    knowledge_academia_show = seldon_returned["knowledge_academia_show"]
                    rest_recover_show = seldon_returned["rest_recover_show"]
                    rest_shown_before = seldon_returned["rest_shown_before"]
                    quest_guide_shown = seldon_returned["quest_guide_shown"]
                    enemy_tic = seldon_returned["enemy_tic"]
                    npc_tic = seldon_returned["npc_tic"]
                    worker_tic = seldon_returned["worker_tic"]
                    worker_move_tic = seldon_returned["worker_move_tic"]
                    info_text_1 = seldon_returned["info_text_1"]
                    info_text_2 = seldon_returned["info_text_2"]
                    info_text_3 = seldon_returned["info_text_3"]
                    info_text_4 = seldon_returned["info_text_4"]
                    interacted = seldon_returned["interacted"]
                    in_over_world = seldon_returned["in_over_world"]
                    in_battle = seldon_returned["in_battle"]
                    in_shop = seldon_returned["in_shop"]
                    in_academia = seldon_returned["in_academia"]
                    in_inn = seldon_returned["in_inn"]
                    in_npc_interaction = seldon_returned["in_npc_interaction"]
                    movement_able = seldon_returned["movement_able"]
                    beyond_seldon = seldon_returned["beyond_seldon"]
                    snakes_highlighted = seldon_returned["snakes_highlighted"]
                    ghouls_seldon_highlighted = seldon_returned["ghouls_highlighted"]
                    quest_logs_highlighted = seldon_returned["quest_logs_highlighted"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in korlok district ----------------------------------------------------------------------
                if player.current_zone == "korlok" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        korlok_returned = zone_korlok.korlok_district(pygame, screen, graphic_dict, player,
                                                                      korlok_district_bg, korlok_overworld_music,
                                                                      over_world_song_set, nuldar_buildings, rohir_gate,
                                                                      hearth_stone_korlok, mines_entrance, magmons,
                                                                      interaction_popup, font, bridge_not_repaired,
                                                                      reservoir_enter, rock_1, rock_2,
                                                                      save_check_window,
                                                                      user_interface, bar_backdrop, hp_bar, en_bar,
                                                                      xp_bar,
                                                                      button_highlighted, button_highlight,
                                                                      in_over_world,
                                                                      korlok_attuned, interacted, info_text_1,
                                                                      info_text_2,
                                                                      info_text_3, info_text_4, enemy_tic, npc_tic,
                                                                      in_battle, in_shop, in_academia, in_inn,
                                                                      in_npc_interaction, movement_able,
                                                                      current_enemy_battling, current_npc_interacting,
                                                                      current_building_entering, korlok_enemies,
                                                                      player_battle_sprite, snake_battle_sprite,
                                                                      ghoul_battle_sprite, chorizon_battle_sprite,
                                                                      muchador_battle_sprite, barrier_active,
                                                                      sharp_sense_active, magmon_battle_sprite,
                                                                      bandile_battle_sprite, chinzilla_battle_sprite,
                                                                      npc_voruke, npc_zerah, npcs_korlok,
                                                                      seldon_enemies,
                                                                      snakes, ghouls, bandiles, interactables_seldon,
                                                                      interactables_korlok, Enemy, Item, UiElement,
                                                                      interactables_mines, quest_star_voruke,
                                                                      quest_star_zerah, korlok_mountains, in_apothecary,
                                                                      equipment_screen, staff, sword,
                                                                      bow, npc_garan, offense_meter, defense_meter,
                                                                      weapon_select, rock_4, rock_5, rock_6, rock_4_con,
                                                                      rock_5_con, rock_6_con, seldon_flowers,
                                                                      eldream_flowers, interactables_eldream,
                                                                      pet_energy_window, ectrenos_front_enemies,
                                                                      necrola_battle_sprite, osodark_battle_sprite,
                                                                      sfx_item_rupee, sfx_map_teleport, sfx_door_open,
                                                                      nuldar_building_top_1, nuldar_building_top_2,
                                                                      nuldar_building_top_3, npc_worker_2, worker_tic,
                                                                      stelli_battle_sprite, vanished, vanish_overlay,
                                                                      worker_delay_tic, overlay_bridge_gate,
                                                                      erebyth_defeated, korlok_district_repaired_bg,
                                                                      forge_entrance, basic_fish_counter,
                                                                      better_fish_counter, even_better_fish_counter,
                                                                      best_fish_counter, sfx_sheet_paper,
                                                                      magmons_highlighted, magmons_reset, npc_nahun,
                                                                      quest_star_nahun, apothis_upgrade, dawn,
                                                                      early_morning, morning, early_afternoon,
                                                                      afternoon, dusk, night, time_of_day,
                                                                      snow_fall_tic, snow_fall_phase, cloaked, nede,
                                                                      kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                      kasper_battle_sprite, torok_battle_sprite,
                                                                      iriana_battle_sprite, night_music)
                    else:
                        korlok_returned = zone_korlok.korlok_district(pygame, game_window, graphic_dict, player,
                                                                      korlok_district_bg, korlok_overworld_music,
                                                                      over_world_song_set, nuldar_buildings, rohir_gate,
                                                                      hearth_stone_korlok, mines_entrance, magmons,
                                                                      interaction_popup, font, bridge_not_repaired,
                                                                      reservoir_enter, rock_1, rock_2,
                                                                      save_check_window,
                                                                      user_interface, bar_backdrop, hp_bar, en_bar,
                                                                      xp_bar,
                                                                      button_highlighted, button_highlight,
                                                                      in_over_world,
                                                                      korlok_attuned, interacted, info_text_1,
                                                                      info_text_2,
                                                                      info_text_3, info_text_4, enemy_tic, npc_tic,
                                                                      in_battle, in_shop, in_academia, in_inn,
                                                                      in_npc_interaction, movement_able,
                                                                      current_enemy_battling, current_npc_interacting,
                                                                      current_building_entering, korlok_enemies,
                                                                      player_battle_sprite, snake_battle_sprite,
                                                                      ghoul_battle_sprite, chorizon_battle_sprite,
                                                                      muchador_battle_sprite, barrier_active,
                                                                      sharp_sense_active, magmon_battle_sprite,
                                                                      bandile_battle_sprite, chinzilla_battle_sprite,
                                                                      npc_voruke, npc_zerah, npcs_korlok,
                                                                      seldon_enemies,
                                                                      snakes, ghouls, bandiles, interactables_seldon,
                                                                      interactables_korlok, Enemy, Item, UiElement,
                                                                      interactables_mines, quest_star_voruke,
                                                                      quest_star_zerah, korlok_mountains, in_apothecary,
                                                                      equipment_screen, staff, sword,
                                                                      bow, npc_garan, offense_meter, defense_meter,
                                                                      weapon_select, rock_4, rock_5, rock_6, rock_4_con,
                                                                      rock_5_con, rock_6_con, seldon_flowers,
                                                                      eldream_flowers, interactables_eldream,
                                                                      pet_energy_window, ectrenos_front_enemies,
                                                                      necrola_battle_sprite, osodark_battle_sprite,
                                                                      sfx_item_rupee, sfx_map_teleport, sfx_door_open,
                                                                      nuldar_building_top_1, nuldar_building_top_2,
                                                                      nuldar_building_top_3, npc_worker_2, worker_tic,
                                                                      stelli_battle_sprite, vanished, vanish_overlay,
                                                                      worker_delay_tic, overlay_bridge_gate,
                                                                      erebyth_defeated, korlok_district_repaired_bg,
                                                                      forge_entrance, basic_fish_counter,
                                                                      better_fish_counter, even_better_fish_counter,
                                                                      best_fish_counter, sfx_sheet_paper,
                                                                      magmons_highlighted, magmons_reset, npc_nahun,
                                                                      quest_star_nahun, apothis_upgrade, dawn,
                                                                      early_morning, morning, early_afternoon,
                                                                      afternoon, dusk, night, time_of_day,
                                                                      snow_fall_tic, snow_fall_phase, cloaked, nede,
                                                                      kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                      kasper_battle_sprite, torok_battle_sprite,
                                                                      iriana_battle_sprite, night_music)

                    over_world_song_set = korlok_returned["over_world_song_set"]
                    korlok_attuned = korlok_returned["korlok_attuned"]
                    interacted = korlok_returned["interacted"]
                    in_over_world = korlok_returned["in_over_world"]
                    in_battle = korlok_returned["in_battle"]
                    in_shop = korlok_returned["in_shop"]
                    in_academia = korlok_returned["in_academia"]
                    in_apothecary = korlok_returned["in_apothecary"]
                    in_inn = korlok_returned["in_inn"]
                    in_npc_interaction = korlok_returned["in_npc_interaction"]
                    movement_able = korlok_returned["movement_able"]
                    current_enemy_battling = korlok_returned["current_enemy_battling"]
                    current_building_entering = korlok_returned["current_building_entering"]
                    current_npc_interacting = korlok_returned["current_npc_interacting"]
                    enemy_tic = korlok_returned["enemy_tic"]
                    npc_tic = korlok_returned["npc_tic"]
                    worker_tic = korlok_returned["worker_tic"]
                    info_text_1 = korlok_returned["info_text_1"]
                    info_text_2 = korlok_returned["info_text_2"]
                    info_text_3 = korlok_returned["info_text_3"]
                    info_text_4 = korlok_returned["info_text_4"]
                    rock_4_con = korlok_returned["rock_4_con"]
                    rock_5_con = korlok_returned["rock_5_con"]
                    rock_6_con = korlok_returned["rock_6_con"]
                    worker_delay_tic = korlok_returned["worker_delay_tic"]
                    magmons_highlighted = korlok_returned["magmons_highlighted"]
                    magmons_reset = korlok_returned["magmons_reset"]
                    snow_fall_tic = korlok_returned["snow_fall_tic"]
                    snow_fall_phase = korlok_returned["snow_fall_phase"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in eldream district ---------------------------------------------------------------------
                if player.current_zone == "eldream" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        eldream_returned = zone_eldream.eldream_district(pygame, screen, graphic_dict, player,
                                                                         eldream_district_bg, eldream_overworld_music,
                                                                         over_world_song_set, interaction_popup, font,
                                                                         save_check_window, user_interface,
                                                                         bar_backdrop,
                                                                         hp_bar, en_bar, xp_bar, button_highlighted,
                                                                         button_highlight, in_over_world, interacted,
                                                                         info_text_1, info_text_2, info_text_3,
                                                                         info_text_4,
                                                                         npc_tic, in_npc_interaction, in_battle,
                                                                         movement_able, current_enemy_battling,
                                                                         quest_star_garan, quest_star_maurelle,
                                                                         quest_star_celeste, quest_star_torune,
                                                                         quest_star_voruke, quest_star_zerah,
                                                                         quest_star_voruke, terra_mountains,
                                                                         terra_cave, npc_dionte, quest_star_dionte,
                                                                         Enemy,
                                                                         player_battle_sprite, snake_battle_sprite,
                                                                         ghoul_battle_sprite, chorizon_battle_sprite,
                                                                         muchador_battle_sprite, magmon_battle_sprite,
                                                                         bandile_battle_sprite, chinzilla_battle_sprite,
                                                                         barrier_active, sharp_sense_active,
                                                                         current_npc_interacting, chinzilla,
                                                                         quest_star_dionte, hearth_stone_eldream,
                                                                         equipment_screen,
                                                                         staff, sword, bow, npc_garan, offense_meter,
                                                                         defense_meter, weapon_select, rock_7,
                                                                         rock_7_con,
                                                                         chinzilla_defeated, eldream_gate_rect,
                                                                         eldream_attuned, in_shop, in_inn,
                                                                         current_building_entering, enemy_tic,
                                                                         eldream_flowers, seldon_enemies,
                                                                         korlok_enemies,
                                                                         snakes, ghouls, magmons, bandiles,
                                                                         interactables_seldon, interactables_korlok,
                                                                         interactables_mines, Enemy, Item, UiElement,
                                                                         seldon_flowers, interactables_eldream,
                                                                         ectrenos_entrance_rect, quest_star_omoku,
                                                                         pet_energy_window, npc_omoku,
                                                                         quest_items_eldream,
                                                                         ectrenos_front_enemies,
                                                                         necrola_battle_sprite, osodark_battle_sprite,
                                                                         sfx_item_flower, sfx_map_teleport,
                                                                         sfx_item_pickup, kart_full,
                                                                         stelli_battle_sprite, critter_eldream,
                                                                         critter_right_move, critter_left_move,
                                                                         critter_tic, walk_move,
                                                                         overlay_marrow_ramps_west,
                                                                         overlay_marrow_ramps_east, entrance_1,
                                                                         entrance_2, entrance_3, mini_map_overlay,
                                                                         basic_fish_counter, better_fish_counter,
                                                                         even_better_fish_counter, best_fish_counter,
                                                                         supplies_highlighted, apothis_upgrade, dawn,
                                                                         early_morning, morning, early_afternoon,
                                                                         afternoon, dusk, night, time_of_day,
                                                                         kasper_unlocked, torok_unlocked,
                                                                         iriana_unlocked, kasper_battle_sprite,
                                                                         torok_battle_sprite, iriana_battle_sprite,
                                                                         night_music)
                    else:
                        eldream_returned = zone_eldream.eldream_district(pygame, game_window, graphic_dict, player,
                                                                         eldream_district_bg, eldream_overworld_music,
                                                                         over_world_song_set, interaction_popup, font,
                                                                         save_check_window, user_interface,
                                                                         bar_backdrop,
                                                                         hp_bar, en_bar, xp_bar, button_highlighted,
                                                                         button_highlight, in_over_world, interacted,
                                                                         info_text_1, info_text_2, info_text_3,
                                                                         info_text_4,
                                                                         npc_tic, in_npc_interaction, in_battle,
                                                                         movement_able, current_enemy_battling,
                                                                         quest_star_garan, quest_star_maurelle,
                                                                         quest_star_celeste, quest_star_torune,
                                                                         quest_star_voruke, quest_star_zerah,
                                                                         quest_star_voruke, terra_mountains,
                                                                         terra_cave, npc_dionte, quest_star_dionte,
                                                                         Enemy,
                                                                         player_battle_sprite, snake_battle_sprite,
                                                                         ghoul_battle_sprite, chorizon_battle_sprite,
                                                                         muchador_battle_sprite, magmon_battle_sprite,
                                                                         bandile_battle_sprite, chinzilla_battle_sprite,
                                                                         barrier_active, sharp_sense_active,
                                                                         current_npc_interacting, chinzilla,
                                                                         quest_star_dionte, hearth_stone_eldream,
                                                                         equipment_screen,
                                                                         staff, sword, bow, npc_garan, offense_meter,
                                                                         defense_meter, weapon_select, rock_7,
                                                                         rock_7_con,
                                                                         chinzilla_defeated, eldream_gate_rect,
                                                                         eldream_attuned, in_shop, in_inn,
                                                                         current_building_entering, enemy_tic,
                                                                         eldream_flowers, seldon_enemies,
                                                                         korlok_enemies,
                                                                         snakes, ghouls, magmons, bandiles,
                                                                         interactables_seldon, interactables_korlok,
                                                                         interactables_mines, Enemy, Item, UiElement,
                                                                         seldon_flowers, interactables_eldream,
                                                                         ectrenos_entrance_rect, quest_star_omoku,
                                                                         pet_energy_window, npc_omoku,
                                                                         quest_items_eldream,
                                                                         ectrenos_front_enemies,
                                                                         necrola_battle_sprite, osodark_battle_sprite,
                                                                         sfx_item_flower, sfx_map_teleport,
                                                                         sfx_item_pickup, kart_full,
                                                                         stelli_battle_sprite, critter_eldream,
                                                                         critter_right_move, critter_left_move,
                                                                         critter_tic, walk_move,
                                                                         overlay_marrow_ramps_west,
                                                                         overlay_marrow_ramps_east, entrance_1,
                                                                         entrance_2, entrance_3, mini_map_overlay,
                                                                         basic_fish_counter, better_fish_counter,
                                                                         even_better_fish_counter, best_fish_counter,
                                                                         supplies_highlighted, apothis_upgrade, dawn,
                                                                         early_morning, morning, early_afternoon,
                                                                         afternoon, dusk, night, time_of_day,
                                                                         kasper_unlocked, torok_unlocked,
                                                                         iriana_unlocked, kasper_battle_sprite,
                                                                         torok_battle_sprite, iriana_battle_sprite,
                                                                         night_music)

                    over_world_song_set = eldream_returned["over_world_song_set"]
                    eldream_attuned = eldream_returned["eldream_attuned"]
                    interacted = eldream_returned["interacted"]
                    in_over_world = eldream_returned["in_over_world"]
                    in_battle = eldream_returned["in_battle"]
                    in_shop = eldream_returned["in_shop"]
                    in_inn = eldream_returned["in_inn"]
                    in_npc_interaction = eldream_returned["in_npc_interaction"]
                    movement_able = eldream_returned["movement_able"]
                    current_enemy_battling = eldream_returned["current_enemy_battling"]
                    current_building_entering = eldream_returned["current_building_entering"]
                    current_npc_interacting = eldream_returned["current_npc_interacting"]
                    enemy_tic = eldream_returned["enemy_tic"]
                    npc_tic = eldream_returned["npc_tic"]
                    info_text_1 = eldream_returned["info_text_1"]
                    info_text_2 = eldream_returned["info_text_2"]
                    info_text_3 = eldream_returned["info_text_3"]
                    info_text_4 = eldream_returned["info_text_4"]
                    eldream_flowers = eldream_returned["eldream_flowers"]
                    interactables_eldream = eldream_returned["interactables_eldream"]
                    critter_right_move = eldream_returned["right_move"]
                    critter_left_move = eldream_returned["left_move"]
                    critter_tic = eldream_returned["critter_tic"]
                    walk_move = eldream_returned["walk_move"]
                    entrance_1 = eldream_returned["entrance_1"]
                    entrance_2 = eldream_returned["entrance_2"]
                    entrance_3 = eldream_returned["entrance_3"]
                    supplies_highlighted = eldream_returned["supplies_highlighted"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in marrow district ----------------------------------------------------------------------
                if player.current_zone == "marrow" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        marrow_district_returned = zone_marrow.marrow_district(pygame, screen, graphic_dict, player,
                                                                               marrow_district_bg, over_world_song_set,
                                                                               marrow_overworld_music,
                                                                               interaction_popup, font,
                                                                               save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               button_highlighted, button_highlight,
                                                                               in_over_world, interacted, info_text_1,
                                                                               info_text_2, info_text_3, info_text_4,
                                                                               npc_tic, movement_able, equipment_screen,
                                                                               staff, sword, bow, npc_garan,
                                                                               offense_meter, defense_meter,
                                                                               weapon_select, pet_energy_window,
                                                                               npc_artherian, player_battle_sprite,
                                                                               current_npc_interacting,
                                                                               in_npc_interaction, hearth_stone_marrow,
                                                                               marrow_attuned, sfx_map_teleport,
                                                                               ghouls_marrow, enemy_tic, barrier_active,
                                                                               sharp_sense_active, ghoul_battle_sprite,
                                                                               in_battle, current_enemy_battling, Enemy,
                                                                               Item, UiElement, task_star_artherian,
                                                                               npc_noren, npc_boro, npc_maydria,
                                                                               npcs_marrow, task_star_maydria,
                                                                               sub_marrow_rect, sfx_ladder, vanished,
                                                                               vanish_overlay, basic_fish_counter,
                                                                               better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, castle_bridge,
                                                                               overlay_prism_activate,
                                                                               prism_activate_tic, sfx_item_chroma,
                                                                               marrow_barrier_small, apothis_gift,
                                                                               artherian_task_start,
                                                                               marrow_ghouls_highlighted,
                                                                               marrow_ghouls_reset, npc_roroc,
                                                                               recycle_crate, quest_star_roroc,
                                                                               rohir_gate, apothis_upgrade, dawn,
                                                                               early_morning, morning, early_afternoon,
                                                                               afternoon, dusk, night, time_of_day,
                                                                               atmons, prism_received, kasper_unlocked,
                                                                               torok_unlocked, iriana_unlocked,
                                                                               kasper_battle_sprite,
                                                                               torok_battle_sprite,
                                                                               iriana_battle_sprite, night_music)
                    else:
                        marrow_district_returned = zone_marrow.marrow_district(pygame, game_window, graphic_dict,
                                                                               player, marrow_district_bg,
                                                                               over_world_song_set,
                                                                               marrow_overworld_music,
                                                                               interaction_popup, font,
                                                                               save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               button_highlighted, button_highlight,
                                                                               in_over_world, interacted, info_text_1,
                                                                               info_text_2, info_text_3, info_text_4,
                                                                               npc_tic, movement_able, equipment_screen,
                                                                               staff, sword, bow, npc_garan,
                                                                               offense_meter, defense_meter,
                                                                               weapon_select, pet_energy_window,
                                                                               npc_artherian, player_battle_sprite,
                                                                               current_npc_interacting,
                                                                               in_npc_interaction, hearth_stone_marrow,
                                                                               marrow_attuned, sfx_map_teleport,
                                                                               ghouls_marrow, enemy_tic, barrier_active,
                                                                               sharp_sense_active, ghoul_battle_sprite,
                                                                               in_battle, current_enemy_battling, Enemy,
                                                                               Item, UiElement, task_star_artherian,
                                                                               npc_noren, npc_boro, npc_maydria,
                                                                               npcs_marrow, task_star_maydria,
                                                                               sub_marrow_rect, sfx_ladder, vanished,
                                                                               vanish_overlay, basic_fish_counter,
                                                                               better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, castle_bridge,
                                                                               overlay_prism_activate,
                                                                               prism_activate_tic, sfx_item_chroma,
                                                                               marrow_barrier_small, apothis_gift,
                                                                               artherian_task_start,
                                                                               marrow_ghouls_highlighted,
                                                                               marrow_ghouls_reset, npc_roroc,
                                                                               recycle_crate, quest_star_roroc,
                                                                               rohir_gate, apothis_upgrade, dawn,
                                                                               early_morning, morning, early_afternoon,
                                                                               afternoon, dusk, night, time_of_day,
                                                                               atmons, prism_received, kasper_unlocked,
                                                                               torok_unlocked, iriana_unlocked,
                                                                               kasper_battle_sprite,
                                                                               torok_battle_sprite,
                                                                               iriana_battle_sprite, night_music)

                    over_world_song_set = marrow_district_returned["over_world_song_set"]
                    interacted = marrow_district_returned["interacted"]
                    in_over_world = marrow_district_returned["in_over_world"]
                    movement_able = marrow_district_returned["movement_able"]
                    info_text_1 = marrow_district_returned["info_text_1"]
                    info_text_2 = marrow_district_returned["info_text_2"]
                    info_text_3 = marrow_district_returned["info_text_3"]
                    info_text_4 = marrow_district_returned["info_text_4"]
                    npc_tic = marrow_district_returned["npc_tic"]
                    current_npc_interacting = marrow_district_returned["current_npc_interacting"]
                    in_npc_interaction = marrow_district_returned["in_npc_interaction"]
                    marrow_attuned = marrow_district_returned["marrow_attuned"]
                    enemy_tic = marrow_district_returned["enemy_tic"]
                    in_battle = marrow_district_returned["in_battle"]
                    current_enemy_battling = marrow_district_returned["current_enemy"]
                    marrow_ghouls = marrow_district_returned["marrow_ghouls"]
                    prism_activate_tic = marrow_district_returned["prism_tic"]
                    marrow_ghouls_highlighted = marrow_district_returned["ghouls_highlighted"]
                    marrow_ghouls_reset = marrow_district_returned["ghouls_reset"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in marrow entrance ----------------------------------------------------------------------
                if player.current_zone == "marrow entrance" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        marrow_entrance_returned = zone_marrow.marrow_entrance(pygame, screen, graphic_dict, player,
                                                                               marrow_entrance_bg, over_world_song_set,
                                                                               interaction_popup, font,
                                                                               save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               button_highlighted, button_highlight,
                                                                               in_over_world, interacted,
                                                                               info_text_1, info_text_2, info_text_3,
                                                                               info_text_4, npc_tic, movement_able,
                                                                               equipment_screen, staff, sword, bow,
                                                                               npc_garan, offense_meter, defense_meter,
                                                                               weapon_select, pet_energy_window,
                                                                               overlay_marrow_ramps_west,
                                                                               overlay_marrow_ramps_east,
                                                                               overlay_marrow_switch,
                                                                               overlay_marrow_switch,
                                                                               marrow_switch_phase, marrow_switch_box,
                                                                               marrow_entrance_bg_open,
                                                                               marrow_entrance_music,
                                                                               npc_marrow_entrance, entrance_1,
                                                                               entrance_2, entrance_3, entrance_popup,
                                                                               sfx_activate_switch,
                                                                               mini_map_overlay, basic_fish_counter,
                                                                               better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, apothis_upgrade)
                    else:
                        marrow_entrance_returned = zone_marrow.marrow_entrance(pygame, game_window, graphic_dict,
                                                                               player, marrow_entrance_bg,
                                                                               over_world_song_set, interaction_popup,
                                                                               font, save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               button_highlighted, button_highlight,
                                                                               in_over_world, interacted,
                                                                               info_text_1, info_text_2, info_text_3,
                                                                               info_text_4, npc_tic, movement_able,
                                                                               equipment_screen, staff, sword, bow,
                                                                               npc_garan, offense_meter,
                                                                               defense_meter, weapon_select,
                                                                               pet_energy_window,
                                                                               overlay_marrow_ramps_west,
                                                                               overlay_marrow_ramps_east,
                                                                               overlay_marrow_switch,
                                                                               overlay_marrow_switch,
                                                                               marrow_switch_phase, marrow_switch_box,
                                                                               marrow_entrance_bg_open,
                                                                               marrow_entrance_music,
                                                                               npc_marrow_entrance, entrance_1,
                                                                               entrance_2, entrance_3, entrance_popup,
                                                                               sfx_activate_switch,
                                                                               mini_map_overlay, basic_fish_counter,
                                                                               better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, apothis_upgrade)

                    over_world_song_set = marrow_entrance_returned["over_world_song_set"]
                    interacted = marrow_entrance_returned["interacted"]
                    in_over_world = marrow_entrance_returned["in_over_world"]
                    movement_able = marrow_entrance_returned["movement_able"]
                    info_text_1 = marrow_entrance_returned["info_text_1"]
                    info_text_2 = marrow_entrance_returned["info_text_2"]
                    info_text_3 = marrow_entrance_returned["info_text_3"]
                    info_text_4 = marrow_entrance_returned["info_text_4"]
                    marrow_switch_phase = marrow_entrance_returned["switch_phase"]
                    npc_tic = marrow_entrance_returned["npc_tic"]
                    entrance_1 = marrow_entrance_returned["entrance_1"]
                    entrance_2 = marrow_entrance_returned["entrance_2"]
                    entrance_3 = marrow_entrance_returned["entrance_3"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in ramparts tower west ------------------------------------------------------------------
                if player.current_zone == "marrow tower west" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        marrow_tower_west_returned = zone_marrow.marrow_tower_west(pygame, screen, graphic_dict, player,
                                                                                   marrow_tower_west_bg,
                                                                                   over_world_song_set,
                                                                                   marrow_entrance_music,
                                                                                   interaction_popup, font,
                                                                                   save_check_window, user_interface,
                                                                                   bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                                   button_highlighted, button_highlight,
                                                                                   in_over_world, interacted,
                                                                                   info_text_1, info_text_2,
                                                                                   info_text_3,
                                                                                   info_text_4, npc_tic, movement_able,
                                                                                   equipment_screen, staff, sword, bow,
                                                                                   npc_garan, offense_meter,
                                                                                   defense_meter,
                                                                                   weapon_select, pet_energy_window,
                                                                                   overlay_marrow_ramps_west,
                                                                                   overlay_marrow_ramps_east,
                                                                                   ramps_crate_1, ramps_crate_2,
                                                                                   ramps_crate_1_got, ramps_crate_2_got,
                                                                                   sfx_item_potion, Item,
                                                                                   necrola_ramps_1, necrola_ramps_2,
                                                                                   necrola_rect_1, necrola_rect_2,
                                                                                   player_battle_sprite, barrier_active,
                                                                                   sharp_sense_active,
                                                                                   necrola_battle_sprite, in_battle,
                                                                                   current_enemy_battling,
                                                                                   sfx_surprise_attack,
                                                                                   mini_map_overlay, vanished,
                                                                                   vanish_overlay, basic_fish_counter,
                                                                                   better_fish_counter,
                                                                                   even_better_fish_counter,
                                                                                   best_fish_counter, sfx_sheet_paper,
                                                                                   sfx_item_snack, kasper_unlocked,
                                                                                   torok_unlocked, iriana_unlocked,
                                                                                   apothis_upgrade, time_of_day,
                                                                                   kasper_battle_sprite,
                                                                                   torok_battle_sprite,
                                                                                   iriana_battle_sprite)
                    else:
                        marrow_tower_west_returned = zone_marrow.marrow_tower_west(pygame, game_window, graphic_dict,
                                                                                   player, marrow_tower_west_bg,
                                                                                   over_world_song_set,
                                                                                   marrow_entrance_music,
                                                                                   interaction_popup, font,
                                                                                   save_check_window, user_interface,
                                                                                   bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                                   button_highlighted, button_highlight,
                                                                                   in_over_world, interacted,
                                                                                   info_text_1, info_text_2,
                                                                                   info_text_3,
                                                                                   info_text_4, npc_tic, movement_able,
                                                                                   equipment_screen, staff, sword, bow,
                                                                                   npc_garan, offense_meter,
                                                                                   defense_meter, weapon_select,
                                                                                   pet_energy_window,
                                                                                   overlay_marrow_ramps_west,
                                                                                   overlay_marrow_ramps_east,
                                                                                   ramps_crate_1, ramps_crate_2,
                                                                                   ramps_crate_1_got, ramps_crate_2_got,
                                                                                   sfx_item_potion, Item,
                                                                                   necrola_ramps_1, necrola_ramps_2,
                                                                                   necrola_rect_1, necrola_rect_2,
                                                                                   player_battle_sprite, barrier_active,
                                                                                   sharp_sense_active,
                                                                                   necrola_battle_sprite, in_battle,
                                                                                   current_enemy_battling,
                                                                                   sfx_surprise_attack,
                                                                                   mini_map_overlay, vanished,
                                                                                   vanish_overlay, basic_fish_counter,
                                                                                   better_fish_counter,
                                                                                   even_better_fish_counter,
                                                                                   best_fish_counter, sfx_sheet_paper,
                                                                                   sfx_item_snack, kasper_unlocked,
                                                                                   torok_unlocked, iriana_unlocked,
                                                                                   apothis_upgrade, time_of_day,
                                                                                   kasper_battle_sprite,
                                                                                   torok_battle_sprite,
                                                                                   iriana_battle_sprite)

                    over_world_song_set = marrow_tower_west_returned["over_world_song_set"]
                    interacted = marrow_tower_west_returned["interacted"]
                    in_over_world = marrow_tower_west_returned["in_over_world"]
                    movement_able = marrow_tower_west_returned["movement_able"]
                    info_text_1 = marrow_tower_west_returned["info_text_1"]
                    info_text_2 = marrow_tower_west_returned["info_text_2"]
                    info_text_3 = marrow_tower_west_returned["info_text_3"]
                    info_text_4 = marrow_tower_west_returned["info_text_4"]
                    ramps_crate_1_got = marrow_tower_west_returned["ramps_crate_1_got"]
                    ramps_crate_2_got = marrow_tower_west_returned["ramps_crate_2_got"]
                    in_battle = marrow_tower_west_returned["in_battle"]
                    current_enemy_battling = marrow_tower_west_returned["current_enemy"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in ramparts tower east ------------------------------------------------------------------
                if player.current_zone == "marrow tower east" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        marrow_tower_east_returned = zone_marrow.marrow_tower_east(pygame, screen, graphic_dict,
                                                                                   player, marrow_tower_east_bg,
                                                                                   over_world_song_set,
                                                                                   marrow_entrance_music,
                                                                                   interaction_popup, font,
                                                                                   save_check_window,
                                                                                   user_interface,
                                                                                   bar_backdrop, hp_bar, en_bar,
                                                                                   xp_bar, button_highlighted,
                                                                                   button_highlight,
                                                                                   in_over_world, interacted,
                                                                                   info_text_1, info_text_2,
                                                                                   info_text_3, info_text_4, npc_tic,
                                                                                   movement_able, equipment_screen,
                                                                                   staff, sword, bow, npc_garan,
                                                                                   offense_meter, defense_meter,
                                                                                   weapon_select, pet_energy_window,
                                                                                   overlay_marrow_ramps_west,
                                                                                   overlay_marrow_ramps_east,
                                                                                   ramps_crate_3, ramps_crate_4,
                                                                                   ramps_crate_3_got, ramps_crate_4_got,
                                                                                   sfx_item_potion, Item,
                                                                                   necrola_ramps_3, in_battle,
                                                                                   necrola_rect_3, player_battle_sprite,
                                                                                   barrier_active, sharp_sense_active,
                                                                                   necrola_battle_sprite,
                                                                                   current_enemy_battling,
                                                                                   sfx_surprise_attack,
                                                                                   mini_map_overlay, vanished,
                                                                                   vanish_overlay, basic_fish_counter,
                                                                                   better_fish_counter,
                                                                                   even_better_fish_counter,
                                                                                   best_fish_counter, apothis_upgrade,
                                                                                   time_of_day, kasper_unlocked,
                                                                                   torok_unlocked, iriana_unlocked,
                                                                                   kasper_battle_sprite,
                                                                                   torok_battle_sprite,
                                                                                   iriana_battle_sprite,
                                                                                   erebyth_defeated)
                    else:
                        marrow_tower_east_returned = zone_marrow.marrow_tower_east(pygame, game_window, graphic_dict,
                                                                                   player, marrow_tower_east_bg,
                                                                                   over_world_song_set,
                                                                                   marrow_entrance_music,
                                                                                   interaction_popup, font,
                                                                                   save_check_window,
                                                                                   user_interface,
                                                                                   bar_backdrop, hp_bar, en_bar,
                                                                                   xp_bar, button_highlighted,
                                                                                   button_highlight,
                                                                                   in_over_world, interacted,
                                                                                   info_text_1, info_text_2,
                                                                                   info_text_3, info_text_4, npc_tic,
                                                                                   movement_able, equipment_screen,
                                                                                   staff, sword, bow, npc_garan,
                                                                                   offense_meter, defense_meter,
                                                                                   weapon_select, pet_energy_window,
                                                                                   overlay_marrow_ramps_west,
                                                                                   overlay_marrow_ramps_east,
                                                                                   ramps_crate_3, ramps_crate_4,
                                                                                   ramps_crate_3_got, ramps_crate_4_got,
                                                                                   sfx_item_potion, Item,
                                                                                   necrola_ramps_3, in_battle,
                                                                                   necrola_rect_3, player_battle_sprite,
                                                                                   barrier_active, sharp_sense_active,
                                                                                   necrola_battle_sprite,
                                                                                   current_enemy_battling,
                                                                                   sfx_surprise_attack,
                                                                                   mini_map_overlay, vanished,
                                                                                   vanish_overlay, basic_fish_counter,
                                                                                   better_fish_counter,
                                                                                   even_better_fish_counter,
                                                                                   best_fish_counter, apothis_upgrade,
                                                                                   time_of_day, kasper_unlocked,
                                                                                   torok_unlocked, iriana_unlocked,
                                                                                   kasper_battle_sprite,
                                                                                   torok_battle_sprite,
                                                                                   iriana_battle_sprite,
                                                                                   erebyth_defeated)

                    over_world_song_set = marrow_tower_east_returned["over_world_song_set"]
                    interacted = marrow_tower_east_returned["interacted"]
                    in_over_world = marrow_tower_east_returned["in_over_world"]
                    movement_able = marrow_tower_east_returned["movement_able"]
                    info_text_1 = marrow_tower_east_returned["info_text_1"]
                    info_text_2 = marrow_tower_east_returned["info_text_2"]
                    info_text_3 = marrow_tower_east_returned["info_text_3"]
                    info_text_4 = marrow_tower_east_returned["info_text_4"]
                    ramps_crate_3_got = marrow_tower_east_returned["ramps_crate_3_got"]
                    ramps_crate_4_got = marrow_tower_east_returned["ramps_crate_4_got"]
                    in_battle = marrow_tower_east_returned["in_battle"]
                    current_enemy_battling = marrow_tower_east_returned["current_enemy"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in ramparts tower west ------------------------------------------------------------------
                if player.current_zone == "marrow ramps west" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        marrow_ramps_west_returned = zone_marrow.marrow_ramps_west(pygame, screen, graphic_dict,
                                                                                   player, marrow_ramps_west_bg,
                                                                                   over_world_song_set,
                                                                                   marrow_entrance_music,
                                                                                   interaction_popup, font,
                                                                                   save_check_window,
                                                                                   user_interface,
                                                                                   bar_backdrop, hp_bar, en_bar,
                                                                                   xp_bar,
                                                                                   button_highlighted,
                                                                                   button_highlight,
                                                                                   in_over_world, interacted,
                                                                                   info_text_1, info_text_2,
                                                                                   info_text_3,
                                                                                   info_text_4, npc_tic,
                                                                                   movement_able,
                                                                                   equipment_screen, staff, sword,
                                                                                   bow,
                                                                                   npc_garan, offense_meter,
                                                                                   defense_meter,
                                                                                   weapon_select, pet_energy_window,
                                                                                   overlay_marrow_ramps_west,
                                                                                   chroma_bridge_ramps, ghoul_ramps,
                                                                                   ghoul_ramps_2, enemy_tic,
                                                                                   mini_map_overlay, basic_fish_counter,
                                                                                   better_fish_counter,
                                                                                   even_better_fish_counter,
                                                                                   best_fish_counter, apothis_upgrade,
                                                                                   dawn, early_morning, morning,
                                                                                   early_afternoon, afternoon, dusk,
                                                                                   night, time_of_day)
                    else:
                        marrow_ramps_west_returned = zone_marrow.marrow_ramps_west(pygame, game_window,
                                                                                   graphic_dict,
                                                                                   player, marrow_ramps_west_bg,
                                                                                   over_world_song_set,
                                                                                   marrow_entrance_music,
                                                                                   interaction_popup, font,
                                                                                   save_check_window,
                                                                                   user_interface,
                                                                                   bar_backdrop, hp_bar, en_bar,
                                                                                   xp_bar,
                                                                                   button_highlighted,
                                                                                   button_highlight,
                                                                                   in_over_world, interacted,
                                                                                   info_text_1, info_text_2,
                                                                                   info_text_3,
                                                                                   info_text_4, npc_tic,
                                                                                   movement_able,
                                                                                   equipment_screen, staff, sword,
                                                                                   bow,
                                                                                   npc_garan, offense_meter,
                                                                                   defense_meter, weapon_select,
                                                                                   pet_energy_window,
                                                                                   overlay_marrow_ramps_west,
                                                                                   chroma_bridge_ramps, ghoul_ramps,
                                                                                   ghoul_ramps_2, enemy_tic,
                                                                                   mini_map_overlay, basic_fish_counter,
                                                                                   better_fish_counter,
                                                                                   even_better_fish_counter,
                                                                                   best_fish_counter, apothis_upgrade,
                                                                                   dawn, early_morning, morning,
                                                                                   early_afternoon, afternoon, dusk,
                                                                                   night, time_of_day)

                    over_world_song_set = marrow_ramps_west_returned["over_world_song_set"]
                    interacted = marrow_ramps_west_returned["interacted"]
                    in_over_world = marrow_ramps_west_returned["in_over_world"]
                    movement_able = marrow_ramps_west_returned["movement_able"]
                    info_text_1 = marrow_ramps_west_returned["info_text_1"]
                    info_text_2 = marrow_ramps_west_returned["info_text_2"]
                    info_text_3 = marrow_ramps_west_returned["info_text_3"]
                    info_text_4 = marrow_ramps_west_returned["info_text_4"]
                    enemy_tic = marrow_ramps_west_returned["enemy_tic"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in ramparts tower east ------------------------------------------------------------------
                if player.current_zone == "marrow ramps east" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        marrow_ramps_east_returned = zone_marrow.marrow_ramps_east(pygame, screen, graphic_dict,
                                                                                   player, marrow_ramps_east_bg,
                                                                                   over_world_song_set,
                                                                                   boss_battle_music,
                                                                                   interaction_popup, font,
                                                                                   save_check_window,
                                                                                   user_interface,
                                                                                   bar_backdrop, hp_bar, en_bar,
                                                                                   xp_bar, button_highlighted,
                                                                                   button_highlight,
                                                                                   in_over_world, interacted,
                                                                                   info_text_1, info_text_2,
                                                                                   info_text_3, info_text_4,
                                                                                   npc_tic,
                                                                                   movement_able, equipment_screen,
                                                                                   staff, sword, bow, npc_garan,
                                                                                   offense_meter, defense_meter,
                                                                                   weapon_select, pet_energy_window,
                                                                                   overlay_marrow_ramps_east,
                                                                                   mini_map_overlay, basic_fish_counter,
                                                                                   better_fish_counter,
                                                                                   even_better_fish_counter,
                                                                                   best_fish_counter, apothis_upgrade,
                                                                                   dawn, early_morning, morning,
                                                                                   early_afternoon, afternoon, dusk,
                                                                                   night, time_of_day,
                                                                                   marrow_entrance_music,
                                                                                   erebyth_defeated)
                    else:
                        marrow_ramps_east_returned = zone_marrow.marrow_ramps_east(pygame, game_window,
                                                                                   graphic_dict,
                                                                                   player, marrow_ramps_east_bg,
                                                                                   over_world_song_set,
                                                                                   boss_battle_music,
                                                                                   interaction_popup, font,
                                                                                   save_check_window,
                                                                                   user_interface,
                                                                                   bar_backdrop, hp_bar, en_bar,
                                                                                   xp_bar, button_highlighted,
                                                                                   button_highlight,
                                                                                   in_over_world, interacted,
                                                                                   info_text_1, info_text_2,
                                                                                   info_text_3, info_text_4,
                                                                                   npc_tic,
                                                                                   movement_able, equipment_screen,
                                                                                   staff, sword, bow, npc_garan,
                                                                                   offense_meter, defense_meter,
                                                                                   weapon_select, pet_energy_window,
                                                                                   overlay_marrow_ramps_east,
                                                                                   mini_map_overlay, basic_fish_counter,
                                                                                   better_fish_counter,
                                                                                   even_better_fish_counter,
                                                                                   best_fish_counter, apothis_upgrade,
                                                                                   dawn, early_morning, morning,
                                                                                   early_afternoon, afternoon, dusk,
                                                                                   night, time_of_day,
                                                                                   marrow_entrance_music,
                                                                                   erebyth_defeated)

                    over_world_song_set = marrow_ramps_east_returned["over_world_song_set"]
                    interacted = marrow_ramps_east_returned["interacted"]
                    in_over_world = marrow_ramps_east_returned["in_over_world"]
                    movement_able = marrow_ramps_east_returned["movement_able"]
                    info_text_1 = marrow_ramps_east_returned["info_text_1"]
                    info_text_2 = marrow_ramps_east_returned["info_text_2"]
                    info_text_3 = marrow_ramps_east_returned["info_text_3"]
                    info_text_4 = marrow_ramps_east_returned["info_text_4"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in ramparts tower west ------------------------------------------------------------------
                if player.current_zone == "marrow ramps west end" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        marrow_ramps_west_end_returned = zone_marrow.marrow_ramps_west_end(pygame, screen, graphic_dict,
                                                                                           player,
                                                                                           marrow_ramps_w_end_bg,
                                                                                           over_world_song_set,
                                                                                           marrow_entrance_music,
                                                                                           interaction_popup, font,
                                                                                           save_check_window,
                                                                                           user_interface, bar_backdrop,
                                                                                           hp_bar, en_bar, xp_bar,
                                                                                           button_highlighted,
                                                                                           button_highlight,
                                                                                           in_over_world, interacted,
                                                                                           info_text_1, info_text_2,
                                                                                           info_text_3, info_text_4,
                                                                                           npc_tic, movement_able,
                                                                                           equipment_screen, staff,
                                                                                           sword, bow, npc_garan,
                                                                                           offense_meter, defense_meter,
                                                                                           weapon_select,
                                                                                           pet_energy_window,
                                                                                           dungeon_switch_ramps_1,
                                                                                           marrow_switch_phase,
                                                                                           overlay_marrow_switch,
                                                                                           sfx_activate_switch,
                                                                                           ramps_flower, ramps_crate_5,
                                                                                           ramps_crate_5_got, Item,
                                                                                           sfx_item_key,
                                                                                           mini_map_overlay,
                                                                                           basic_fish_counter,
                                                                                           better_fish_counter,
                                                                                           even_better_fish_counter,
                                                                                           best_fish_counter,
                                                                                           item_block_7,
                                                                                           item_block_7_got,
                                                                                           item_block_8,
                                                                                           item_block_8_got,
                                                                                           sfx_item_block,
                                                                                           kasper_unlocked,
                                                                                           torok_unlocked,
                                                                                           iriana_unlocked,
                                                                                           apothis_upgrade, dawn,
                                                                                           early_morning, morning,
                                                                                           early_afternoon, afternoon,
                                                                                           dusk, night, time_of_day,
                                                                                           rock_11, rock_12,
                                                                                           rock_13, rock_14,
                                                                                           ramparts_rocks,
                                                                                           sfx_rock_push)
                    else:
                        marrow_ramps_west_end_returned = zone_marrow.marrow_ramps_west_end(pygame, game_window,
                                                                                           graphic_dict, player,
                                                                                           marrow_ramps_w_end_bg,
                                                                                           over_world_song_set,
                                                                                           marrow_entrance_music,
                                                                                           interaction_popup, font,
                                                                                           save_check_window,
                                                                                           user_interface, bar_backdrop,
                                                                                           hp_bar, en_bar, xp_bar,
                                                                                           button_highlighted,
                                                                                           button_highlight,
                                                                                           in_over_world, interacted,
                                                                                           info_text_1, info_text_2,
                                                                                           info_text_3, info_text_4,
                                                                                           npc_tic, movement_able,
                                                                                           equipment_screen, staff,
                                                                                           sword, bow, npc_garan,
                                                                                           offense_meter, defense_meter,
                                                                                           weapon_select,
                                                                                           pet_energy_window,
                                                                                           dungeon_switch_ramps_1,
                                                                                           marrow_switch_phase,
                                                                                           overlay_marrow_switch,
                                                                                           sfx_activate_switch,
                                                                                           ramps_flower, ramps_crate_5,
                                                                                           ramps_crate_5_got, Item,
                                                                                           sfx_item_key,
                                                                                           mini_map_overlay,
                                                                                           basic_fish_counter,
                                                                                           better_fish_counter,
                                                                                           even_better_fish_counter,
                                                                                           best_fish_counter,
                                                                                           item_block_7,
                                                                                           item_block_7_got,
                                                                                           item_block_8,
                                                                                           item_block_8_got,
                                                                                           sfx_item_block,
                                                                                           kasper_unlocked,
                                                                                           torok_unlocked,
                                                                                           iriana_unlocked,
                                                                                           apothis_upgrade, dawn,
                                                                                           early_morning, morning,
                                                                                           early_afternoon, afternoon,
                                                                                           dusk, night, time_of_day,
                                                                                           rock_11, rock_12,
                                                                                           rock_13, rock_14,
                                                                                           ramparts_rocks,
                                                                                           sfx_rock_push)

                    over_world_song_set = marrow_ramps_west_end_returned["over_world_song_set"]
                    interacted = marrow_ramps_west_end_returned["interacted"]
                    in_over_world = marrow_ramps_west_end_returned["in_over_world"]
                    movement_able = marrow_ramps_west_end_returned["movement_able"]
                    info_text_1 = marrow_ramps_west_end_returned["info_text_1"]
                    info_text_2 = marrow_ramps_west_end_returned["info_text_2"]
                    info_text_3 = marrow_ramps_west_end_returned["info_text_3"]
                    info_text_4 = marrow_ramps_west_end_returned["info_text_4"]
                    marrow_switch_phase = marrow_ramps_west_end_returned["marrow_switch_phase"]
                    ramps_crate_5_got = marrow_ramps_west_end_returned["ramps_crate_5_got"]
                    item_block_7_got = marrow_ramps_west_end_returned["item_block_7_got"]
                    item_block_8_got = marrow_ramps_west_end_returned["item_block_8_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in ramparts tower east ------------------------------------------------------------------
                if player.current_zone == "marrow ramps east end" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        marrow_ramps_east_end_returned = zone_marrow.marrow_ramps_east_end(pygame, screen, graphic_dict,
                                                                                           player,
                                                                                           marrow_ramps_e_end_bg,
                                                                                           over_world_song_set,
                                                                                           interaction_popup, font,
                                                                                           save_check_window,
                                                                                           user_interface, bar_backdrop,
                                                                                           hp_bar, en_bar, xp_bar,
                                                                                           button_highlighted,
                                                                                           button_highlight,
                                                                                           in_over_world, interacted,
                                                                                           info_text_1, info_text_2,
                                                                                           info_text_3, info_text_4,
                                                                                           npc_tic, movement_able,
                                                                                           equipment_screen, staff,
                                                                                           sword, bow, npc_garan,
                                                                                           offense_meter, defense_meter,
                                                                                           weapon_select,
                                                                                           pet_energy_window,
                                                                                           dungeon_chest_ramps,
                                                                                           boots_obtained, chroma_boots,
                                                                                           sfx_chest_open,
                                                                                           dungeon_switch_ramps_2,
                                                                                           marrow_switch_phase,
                                                                                           overlay_marrow_switch,
                                                                                           sfx_activate_switch,
                                                                                           erebyth_defeated,
                                                                                           marrow_ramps_w_end_bg_block,
                                                                                           erebyth,
                                                                                           player_battle_sprite,
                                                                                           barrier_active,
                                                                                           sharp_sense_active,
                                                                                           snake_battle_sprite,
                                                                                           ghoul_battle_sprite,
                                                                                           chorizon_battle_sprite,
                                                                                           muchador_battle_sprite,
                                                                                           magmon_battle_sprite,
                                                                                           bandile_battle_sprite,
                                                                                           chinzilla_battle_sprite,
                                                                                           in_npc_interaction,
                                                                                           necrola_battle_sprite,
                                                                                           osodark_battle_sprite,
                                                                                           stelli_battle_sprite,
                                                                                           in_battle, boss_battle_music,
                                                                                           erebyth_battle_sprite,
                                                                                           apothis_push, apothis,
                                                                                           apothis_popup, apothis_1,
                                                                                           apothis_2,
                                                                                           overlay_enemy_vanish,
                                                                                           mini_map_overlay, vanished,
                                                                                           vanish_overlay,
                                                                                           basic_fish_counter,
                                                                                           better_fish_counter,
                                                                                           even_better_fish_counter,
                                                                                           best_fish_counter,
                                                                                           apothis_upgrade, dawn,
                                                                                           early_morning, morning,
                                                                                           early_afternoon, afternoon,
                                                                                           dusk, night, time_of_day,
                                                                                           kasper_unlocked,
                                                                                           torok_unlocked,
                                                                                           iriana_unlocked,
                                                                                           kasper_battle_sprite,
                                                                                           torok_battle_sprite,
                                                                                           iriana_battle_sprite,
                                                                                           marrow_entrance_music)
                    else:
                        marrow_ramps_east_end_returned = zone_marrow.marrow_ramps_east_end(pygame, game_window,
                                                                                           graphic_dict,
                                                                                           player,
                                                                                           marrow_ramps_e_end_bg,
                                                                                           over_world_song_set,
                                                                                           interaction_popup, font,
                                                                                           save_check_window,
                                                                                           user_interface, bar_backdrop,
                                                                                           hp_bar, en_bar, xp_bar,
                                                                                           button_highlighted,
                                                                                           button_highlight,
                                                                                           in_over_world, interacted,
                                                                                           info_text_1, info_text_2,
                                                                                           info_text_3, info_text_4,
                                                                                           npc_tic, movement_able,
                                                                                           equipment_screen, staff,
                                                                                           sword, bow, npc_garan,
                                                                                           offense_meter, defense_meter,
                                                                                           weapon_select,
                                                                                           pet_energy_window,
                                                                                           dungeon_chest_ramps,
                                                                                           boots_obtained,
                                                                                           chroma_boots, sfx_chest_open,
                                                                                           dungeon_switch_ramps_2,
                                                                                           marrow_switch_phase,
                                                                                           overlay_marrow_switch,
                                                                                           sfx_activate_switch,
                                                                                           erebyth_defeated,
                                                                                           marrow_ramps_w_end_bg_block,
                                                                                           erebyth,
                                                                                           player_battle_sprite,
                                                                                           barrier_active,
                                                                                           sharp_sense_active,
                                                                                           snake_battle_sprite,
                                                                                           ghoul_battle_sprite,
                                                                                           chorizon_battle_sprite,
                                                                                           muchador_battle_sprite,
                                                                                           magmon_battle_sprite,
                                                                                           bandile_battle_sprite,
                                                                                           chinzilla_battle_sprite,
                                                                                           in_npc_interaction,
                                                                                           necrola_battle_sprite,
                                                                                           osodark_battle_sprite,
                                                                                           stelli_battle_sprite,
                                                                                           in_battle, boss_battle_music,
                                                                                           erebyth_battle_sprite,
                                                                                           apothis_push, apothis,
                                                                                           apothis_popup, apothis_1,
                                                                                           apothis_2,
                                                                                           overlay_enemy_vanish,
                                                                                           mini_map_overlay, vanished,
                                                                                           vanish_overlay,
                                                                                           basic_fish_counter,
                                                                                           better_fish_counter,
                                                                                           even_better_fish_counter,
                                                                                           best_fish_counter,
                                                                                           apothis_upgrade, dawn,
                                                                                           early_morning, morning,
                                                                                           early_afternoon, afternoon,
                                                                                           dusk, night, time_of_day,
                                                                                           kasper_unlocked,
                                                                                           torok_unlocked,
                                                                                           iriana_unlocked,
                                                                                           kasper_battle_sprite,
                                                                                           torok_battle_sprite,
                                                                                           iriana_battle_sprite,
                                                                                           marrow_entrance_music)

                    over_world_song_set = marrow_ramps_east_end_returned["over_world_song_set"]
                    interacted = marrow_ramps_east_end_returned["interacted"]
                    in_over_world = marrow_ramps_east_end_returned["in_over_world"]
                    movement_able = marrow_ramps_east_end_returned["movement_able"]
                    info_text_1 = marrow_ramps_east_end_returned["info_text_1"]
                    info_text_2 = marrow_ramps_east_end_returned["info_text_2"]
                    info_text_3 = marrow_ramps_east_end_returned["info_text_3"]
                    info_text_4 = marrow_ramps_east_end_returned["info_text_4"]
                    boots_obtained = marrow_ramps_east_end_returned["boots obtained"]
                    marrow_switch_phase = marrow_ramps_east_end_returned["marrow_switch_phase"]
                    erebyth_defeated = marrow_ramps_east_end_returned["erebyth_defeated"]
                    in_battle = marrow_ramps_east_end_returned["in_battle"]
                    apothis_push = marrow_ramps_east_end_returned["apothis_push"]
                    apothis_1 = marrow_ramps_east_end_returned["apothis_1"]
                    apothis_2 = marrow_ramps_east_end_returned["apothis_2"]
                    npc_tic = marrow_ramps_east_end_returned["npc_tic"]
                    if in_battle:
                        current_enemy_battling = marrow_ramps_east_end_returned["current_enemy_battling"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in subterranean marrow ------------------------------------------------------------------
                if player.current_zone == "sub marrow" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        sub_marrow_returned = zone_marrow.sub_marrow(pygame, screen, graphic_dict, player,
                                                                     sub_marrow_bg, over_world_song_set,
                                                                     marrow_overworld_music, interaction_popup, font,
                                                                     save_check_window, user_interface, bar_backdrop,
                                                                     hp_bar, en_bar, xp_bar, button_highlighted,
                                                                     button_highlight, in_over_world, interacted,
                                                                     info_text_1, info_text_2, info_text_3, info_text_4,
                                                                     npc_tic, movement_able, equipment_screen,
                                                                     staff, sword, bow, npc_garan, offense_meter,
                                                                     defense_meter, weapon_select, pet_energy_window,
                                                                     Item, in_battle, vanished, vanish_overlay,
                                                                     basic_fish_counter, better_fish_counter,
                                                                     even_better_fish_counter, best_fish_counter,
                                                                     sfx_ladder, sub_marrow_rect_2,
                                                                     dungeon_gate_marrow_rect,
                                                                     sfx_gate_open, has_key, dungeon_chest_small_marrow,
                                                                     sfx_item_chroma, marrow_small_chest_got, atmons,
                                                                     Enemy, UiElement, player_battle_sprite,
                                                                     barrier_active, sharp_sense_active,
                                                                     in_npc_interaction, atmon_battle_sprite, enemy_tic,
                                                                     current_enemy_battling, sub_marrow_opened,
                                                                     item_block_9, item_block_9_got, sfx_item_block,
                                                                     kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                     npc_maydria.gift, prism_received,
                                                                     atmons_highlighted, atmons_reset, apothis_upgrade,
                                                                     time_of_day, kasper_battle_sprite,
                                                                     torok_battle_sprite, iriana_battle_sprite)
                    else:
                        sub_marrow_returned = zone_marrow.sub_marrow(pygame, game_window, graphic_dict, player,
                                                                     sub_marrow_bg, over_world_song_set,
                                                                     marrow_overworld_music, interaction_popup, font,
                                                                     save_check_window, user_interface, bar_backdrop,
                                                                     hp_bar, en_bar, xp_bar, button_highlighted,
                                                                     button_highlight, in_over_world, interacted,
                                                                     info_text_1, info_text_2, info_text_3, info_text_4,
                                                                     npc_tic, movement_able, equipment_screen,
                                                                     staff, sword, bow, npc_garan, offense_meter,
                                                                     defense_meter, weapon_select, pet_energy_window,
                                                                     Item, in_battle, vanished, vanish_overlay,
                                                                     basic_fish_counter, better_fish_counter,
                                                                     even_better_fish_counter, best_fish_counter,
                                                                     sfx_ladder, sub_marrow_rect_2,
                                                                     dungeon_gate_marrow_rect, sfx_gate_open, has_key,
                                                                     dungeon_chest_small_marrow, sfx_item_chroma,
                                                                     marrow_small_chest_got, atmons, Enemy, UiElement,
                                                                     player_battle_sprite, barrier_active,
                                                                     sharp_sense_active, in_npc_interaction,
                                                                     atmon_battle_sprite, enemy_tic,
                                                                     current_enemy_battling, sub_marrow_opened,
                                                                     item_block_9, item_block_9_got, sfx_item_block,
                                                                     kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                     npc_maydria.gift, prism_received,
                                                                     atmons_highlighted, atmons_reset, apothis_upgrade,
                                                                     time_of_day, kasper_battle_sprite,
                                                                     torok_battle_sprite, iriana_battle_sprite)

                    over_world_song_set = sub_marrow_returned["over_world_song_set"]
                    interacted = sub_marrow_returned["interacted"]
                    in_over_world = sub_marrow_returned["in_over_world"]
                    movement_able = sub_marrow_returned["movement_able"]
                    info_text_1 = sub_marrow_returned["info_text_1"]
                    info_text_2 = sub_marrow_returned["info_text_2"]
                    info_text_3 = sub_marrow_returned["info_text_3"]
                    info_text_4 = sub_marrow_returned["info_text_4"]
                    in_battle = sub_marrow_returned["in_battle"]
                    npc_tic = sub_marrow_returned["npc_tic"]
                    has_key = sub_marrow_returned["has_key"]
                    marrow_small_chest_got = sub_marrow_returned["chest_got"]
                    atmons = sub_marrow_returned["atmons"]
                    enemy_tic = sub_marrow_returned["enemy_tic"]
                    sub_marrow_opened = sub_marrow_returned["sub_marrow_opened"]
                    item_block_9_got = sub_marrow_returned["item_block_9_got"]
                    atmons_highlighted = sub_marrow_returned["atmons_highlighted"]
                    atmons_reset = sub_marrow_returned["atmons_reset"]
                    current_enemy_battling = sub_marrow_returned["current_enemy_battling"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in marrow castle area one ---------------------------------------------------------------
                if player.current_zone == "castle one" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        castle_one_returned = zone_castle.castle_one(pygame, screen, graphic_dict, player,
                                                                     castle_one_bg, over_world_song_set,
                                                                     castle_music, interaction_popup, font,
                                                                     save_check_window, user_interface, bar_backdrop,
                                                                     hp_bar, en_bar, xp_bar, button_highlighted,
                                                                     button_highlight, in_over_world, interacted,
                                                                     info_text_1, info_text_2, info_text_3, info_text_4,
                                                                     npc_tic, movement_able, equipment_screen, staff,
                                                                     sword, bow, npc_garan, offense_meter,
                                                                     defense_meter, weapon_select, pet_energy_window,
                                                                     npc_artherian, player_battle_sprite,
                                                                     current_npc_interacting, in_npc_interaction,
                                                                     marrow_attuned, sfx_map_teleport,
                                                                     ghouls_marrow, enemy_tic, barrier_active,
                                                                     sharp_sense_active, ghoul_battle_sprite, in_battle,
                                                                     current_enemy_battling, Enemy, Item, UiElement,
                                                                     task_star_artherian, npc_noren, npc_boro,
                                                                     npc_maydria, npcs_marrow, task_star_maydria,
                                                                     sub_marrow_rect, sfx_ladder, vanished,
                                                                     vanish_overlay, basic_fish_counter,
                                                                     better_fish_counter, even_better_fish_counter,
                                                                     best_fish_counter, castle_bridge,
                                                                     overlay_prism_activate, prism_activate_tic,
                                                                     sfx_item_chroma, marrow_castle_exit,
                                                                     overlay_chandelier, castle_crate_1, castle_crate_2,
                                                                     castle_crate_1_got, castle_crate_2_got,
                                                                     sfx_item_potion, sfx_dreth_laugh, dreth_taunt_1,
                                                                     dreth_taunt_popup, rope_phase, castle_one_roped_bg,
                                                                     castle_one_keyed_bg, has_key, castle_key,
                                                                     boss_door, sfx_item_key, jumanos,
                                                                     atmon_battle_sprite, apothis_upgrade, time_of_day,
                                                                     kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                     kasper_battle_sprite, torok_battle_sprite,
                                                                     iriana_battle_sprite, sfx_surprise_attack)
                    else:
                        castle_one_returned = zone_castle.castle_one(pygame, game_window, graphic_dict, player,
                                                                     castle_one_bg, over_world_song_set,
                                                                     castle_music, interaction_popup, font,
                                                                     save_check_window, user_interface, bar_backdrop,
                                                                     hp_bar, en_bar, xp_bar, button_highlighted,
                                                                     button_highlight, in_over_world, interacted,
                                                                     info_text_1, info_text_2, info_text_3, info_text_4,
                                                                     npc_tic, movement_able, equipment_screen, staff,
                                                                     sword, bow, npc_garan, offense_meter,
                                                                     defense_meter, weapon_select, pet_energy_window,
                                                                     npc_artherian, player_battle_sprite,
                                                                     current_npc_interacting, in_npc_interaction,
                                                                     marrow_attuned, sfx_map_teleport,
                                                                     ghouls_marrow, enemy_tic, barrier_active,
                                                                     sharp_sense_active, ghoul_battle_sprite, in_battle,
                                                                     current_enemy_battling, Enemy, Item, UiElement,
                                                                     task_star_artherian, npc_noren, npc_boro,
                                                                     npc_maydria, npcs_marrow, task_star_maydria,
                                                                     sub_marrow_rect, sfx_ladder, vanished,
                                                                     vanish_overlay, basic_fish_counter,
                                                                     better_fish_counter, even_better_fish_counter,
                                                                     best_fish_counter, castle_bridge,
                                                                     overlay_prism_activate, prism_activate_tic,
                                                                     sfx_item_chroma, marrow_castle_exit,
                                                                     overlay_chandelier, castle_crate_1, castle_crate_2,
                                                                     castle_crate_1_got, castle_crate_2_got,
                                                                     sfx_item_potion, sfx_dreth_laugh, dreth_taunt_1,
                                                                     dreth_taunt_popup, rope_phase, castle_one_roped_bg,
                                                                     castle_one_keyed_bg, has_key, castle_key,
                                                                     boss_door, sfx_item_key, jumanos,
                                                                     atmon_battle_sprite, apothis_upgrade, time_of_day,
                                                                     kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                     kasper_battle_sprite, torok_battle_sprite,
                                                                     iriana_battle_sprite, sfx_surprise_attack)

                    over_world_song_set = castle_one_returned["over_world_song_set"]
                    interacted = castle_one_returned["interacted"]
                    in_over_world = castle_one_returned["in_over_world"]
                    movement_able = castle_one_returned["movement_able"]
                    info_text_1 = castle_one_returned["info_text_1"]
                    info_text_2 = castle_one_returned["info_text_2"]
                    info_text_3 = castle_one_returned["info_text_3"]
                    info_text_4 = castle_one_returned["info_text_4"]
                    npc_tic = castle_one_returned["npc_tic"]
                    current_npc_interacting = castle_one_returned["current_npc_interacting"]
                    in_npc_interaction = castle_one_returned["in_npc_interaction"]
                    marrow_attuned = castle_one_returned["marrow_attuned"]
                    enemy_tic = castle_one_returned["enemy_tic"]
                    in_battle = castle_one_returned["in_battle"]
                    current_enemy_battling = castle_one_returned["current_enemy"]
                    marrow_ghouls = castle_one_returned["marrow_ghouls"]
                    prism_activate_tic = castle_one_returned["prism_tic"]
                    castle_crate_1_got = castle_one_returned["castle_crate_1_got"]
                    castle_crate_2_got = castle_one_returned["castle_crate_2_got"]
                    dreth_taunt_1 = castle_one_returned["dreth_taunt"]
                    has_key = castle_one_returned["has_key"]
                    jumanos = castle_one_returned["jumanos"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in marrow castle area two ---------------------------------------------------------------
                if player.current_zone == "castle two" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        castle_two_returned = zone_castle.castle_two(pygame, screen, graphic_dict, player,
                                                                     castle_two_bg, over_world_song_set, castle_music,
                                                                     interaction_popup, font, save_check_window,
                                                                     user_interface, bar_backdrop, hp_bar, en_bar,
                                                                     xp_bar, in_over_world, interacted, info_text_1,
                                                                     info_text_2, info_text_3, info_text_4, npc_tic,
                                                                     movement_able, equipment_screen, staff, sword, bow,
                                                                     npc_garan, offense_meter, defense_meter,
                                                                     weapon_select, pet_energy_window,
                                                                     player_battle_sprite, current_npc_interacting,
                                                                     in_npc_interaction, marrow_attuned, ghouls_marrow,
                                                                     enemy_tic, barrier_active, sharp_sense_active,
                                                                     ghoul_battle_sprite, in_battle,
                                                                     current_enemy_battling, vanished, vanish_overlay,
                                                                     basic_fish_counter, better_fish_counter,
                                                                     even_better_fish_counter, best_fish_counter,
                                                                     prism_activate_tic, overlay_chandelier, rock_9,
                                                                     rock_10, sfx_rock_push, sfx_dreth_laugh,
                                                                     dreth_taunt_2, dreth_taunt_popup, rope_wind_1,
                                                                     rope_phase, castle_two_roped_bg,
                                                                     sfx_rope_release, castle_cell_1, castle_cell_2,
                                                                     sfx_gate_open, overlay_mirage, mirage_updated,
                                                                     cell_popup, chest_small_castle_1, mirage_saved,
                                                                     castle_chest_1_got, sfx_item_rupee,
                                                                     sfx_enemy_atmon_loud, atmon_castle,
                                                                     atmon_battle_sprite, parts_one,
                                                                     construct_parts_one_highlighted,
                                                                     sfx_item_pickup, apothis_upgrade, time_of_day,
                                                                     kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                     kasper_battle_sprite, torok_battle_sprite,
                                                                     iriana_battle_sprite, Item)
                    else:
                        castle_two_returned = zone_castle.castle_two(pygame, game_window, graphic_dict, player,
                                                                     castle_two_bg, over_world_song_set, castle_music,
                                                                     interaction_popup, font, save_check_window,
                                                                     user_interface, bar_backdrop, hp_bar, en_bar,
                                                                     xp_bar, in_over_world, interacted, info_text_1,
                                                                     info_text_2, info_text_3, info_text_4, npc_tic,
                                                                     movement_able, equipment_screen, staff, sword, bow,
                                                                     npc_garan, offense_meter, defense_meter,
                                                                     weapon_select, pet_energy_window,
                                                                     player_battle_sprite, current_npc_interacting,
                                                                     in_npc_interaction, marrow_attuned, ghouls_marrow,
                                                                     enemy_tic, barrier_active, sharp_sense_active,
                                                                     ghoul_battle_sprite, in_battle,
                                                                     current_enemy_battling, vanished, vanish_overlay,
                                                                     basic_fish_counter, better_fish_counter,
                                                                     even_better_fish_counter, best_fish_counter,
                                                                     prism_activate_tic, overlay_chandelier, rock_9,
                                                                     rock_10, sfx_rock_push, sfx_dreth_laugh,
                                                                     dreth_taunt_2, dreth_taunt_popup, rope_wind_1,
                                                                     rope_phase, castle_two_roped_bg,
                                                                     sfx_rope_release, castle_cell_1, castle_cell_2,
                                                                     sfx_gate_open, overlay_mirage, mirage_updated,
                                                                     cell_popup, chest_small_castle_1, mirage_saved,
                                                                     castle_chest_1_got, sfx_item_rupee,
                                                                     sfx_enemy_atmon_loud, atmon_castle,
                                                                     atmon_battle_sprite, parts_one,
                                                                     construct_parts_one_highlighted,
                                                                     sfx_item_pickup, apothis_upgrade, time_of_day,
                                                                     kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                     kasper_battle_sprite, torok_battle_sprite,
                                                                     iriana_battle_sprite, Item)

                    over_world_song_set = castle_two_returned["over_world_song_set"]
                    interacted = castle_two_returned["interacted"]
                    in_over_world = castle_two_returned["in_over_world"]
                    movement_able = castle_two_returned["movement_able"]
                    info_text_1 = castle_two_returned["info_text_1"]
                    info_text_2 = castle_two_returned["info_text_2"]
                    info_text_3 = castle_two_returned["info_text_3"]
                    info_text_4 = castle_two_returned["info_text_4"]
                    npc_tic = castle_two_returned["npc_tic"]
                    current_npc_interacting = castle_two_returned["current_npc_interacting"]
                    in_npc_interaction = castle_two_returned["in_npc_interaction"]
                    enemy_tic = castle_two_returned["enemy_tic"]
                    in_battle = castle_two_returned["in_battle"]
                    current_enemy_battling = castle_two_returned["current_enemy"]
                    dreth_taunt_2 = castle_two_returned["dreth_taunt"]
                    rope_phase = castle_two_returned["rope_phase"]
                    mirage_updated = castle_two_returned["mirage_updated"]
                    mirage_saved = castle_two_returned["mirage_saved"]
                    castle_chest_1_got = castle_two_returned["castle_chest_1_got"]
                    construct_parts_one_highlighted = castle_two_returned["parts_highlighted"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in marrow castle area two ---------------------------------------------------------------
                if player.current_zone == "castle three" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        castle_three_returned = zone_castle.castle_three(pygame, screen, graphic_dict, player,
                                                                         castle_three_bg, over_world_song_set,
                                                                         castle_music,
                                                                         interaction_popup, font, save_check_window,
                                                                         user_interface, bar_backdrop, hp_bar, en_bar,
                                                                         xp_bar, in_over_world, interacted, info_text_1,
                                                                         info_text_2, info_text_3, info_text_4, npc_tic,
                                                                         movement_able, equipment_screen, staff, sword,
                                                                         bow,
                                                                         npc_garan, offense_meter, defense_meter,
                                                                         weapon_select, pet_energy_window,
                                                                         player_battle_sprite, current_npc_interacting,
                                                                         in_npc_interaction, marrow_attuned,
                                                                         ghouls_marrow,
                                                                         enemy_tic, barrier_active, sharp_sense_active,
                                                                         ghoul_battle_sprite, in_battle,
                                                                         current_enemy_battling, vanished,
                                                                         vanish_overlay,
                                                                         basic_fish_counter, better_fish_counter,
                                                                         even_better_fish_counter, best_fish_counter,
                                                                         prism_activate_tic, overlay_chandelier, rock_9,
                                                                         rock_10, sfx_rock_push, sfx_dreth_laugh,
                                                                         dreth_taunt_3, dreth_taunt_popup, rope_wind_2,
                                                                         rope_phase, castle_two_roped_bg,
                                                                         sfx_rope_release, castle_cell_3, castle_cell_2,
                                                                         sfx_gate_open, overlay_mirage_2,
                                                                         mirage_2_updated, cell_popup_2,
                                                                         chest_small_castle_1, mirage_2_saved,
                                                                         castle_chest_1_got, sfx_item_rupee,
                                                                         sfx_enemy_atmon_loud, atmon_castle,
                                                                         atmon_battle_sprite, castle_ladder, sfx_ladder,
                                                                         jumano_hall, thanked, critter_up_move,
                                                                         jumano_battle_sprite, sfx_surprise_attack,
                                                                         surprised, apothis_gift, parts_two,
                                                                         construct_parts_two_highlighted,
                                                                         sfx_item_pickup, apothis_upgrade, time_of_day,
                                                                         kasper_unlocked, torok_unlocked,
                                                                         iriana_unlocked, kasper_battle_sprite,
                                                                         torok_battle_sprite, iriana_battle_sprite,
                                                                         Item)
                    else:
                        castle_three_returned = zone_castle.castle_three(pygame, game_window, graphic_dict, player,
                                                                         castle_three_bg, over_world_song_set,
                                                                         castle_music,
                                                                         interaction_popup, font, save_check_window,
                                                                         user_interface, bar_backdrop, hp_bar, en_bar,
                                                                         xp_bar, in_over_world, interacted, info_text_1,
                                                                         info_text_2, info_text_3, info_text_4, npc_tic,
                                                                         movement_able, equipment_screen, staff, sword,
                                                                         bow,
                                                                         npc_garan, offense_meter, defense_meter,
                                                                         weapon_select, pet_energy_window,
                                                                         player_battle_sprite, current_npc_interacting,
                                                                         in_npc_interaction, marrow_attuned,
                                                                         ghouls_marrow,
                                                                         enemy_tic, barrier_active, sharp_sense_active,
                                                                         ghoul_battle_sprite, in_battle,
                                                                         current_enemy_battling, vanished,
                                                                         vanish_overlay,
                                                                         basic_fish_counter, better_fish_counter,
                                                                         even_better_fish_counter, best_fish_counter,
                                                                         prism_activate_tic, overlay_chandelier, rock_9,
                                                                         rock_10, sfx_rock_push, sfx_dreth_laugh,
                                                                         dreth_taunt_3, dreth_taunt_popup, rope_wind_2,
                                                                         rope_phase, castle_three_roped_bg,
                                                                         sfx_rope_release, castle_cell_3, castle_cell_2,
                                                                         sfx_gate_open, overlay_mirage_2,
                                                                         mirage_2_updated, cell_popup_2,
                                                                         chest_small_castle_1, mirage_2_saved,
                                                                         castle_chest_1_got, sfx_item_rupee,
                                                                         sfx_enemy_atmon_loud, atmon_castle,
                                                                         atmon_battle_sprite, castle_ladder, sfx_ladder,
                                                                         jumano_hall, thanked, critter_up_move,
                                                                         jumano_battle_sprite, sfx_surprise_attack,
                                                                         surprised, apothis_gift, parts_two,
                                                                         construct_parts_two_highlighted,
                                                                         sfx_item_pickup, apothis_upgrade, time_of_day,
                                                                         kasper_unlocked, torok_unlocked,
                                                                         iriana_unlocked, kasper_battle_sprite,
                                                                         torok_battle_sprite, iriana_battle_sprite,
                                                                         Item)

                    over_world_song_set = castle_three_returned["over_world_song_set"]
                    interacted = castle_three_returned["interacted"]
                    in_over_world = castle_three_returned["in_over_world"]
                    movement_able = castle_three_returned["movement_able"]
                    info_text_1 = castle_three_returned["info_text_1"]
                    info_text_2 = castle_three_returned["info_text_2"]
                    info_text_3 = castle_three_returned["info_text_3"]
                    info_text_4 = castle_three_returned["info_text_4"]
                    npc_tic = castle_three_returned["npc_tic"]
                    current_npc_interacting = castle_three_returned["current_npc_interacting"]
                    in_npc_interaction = castle_three_returned["in_npc_interaction"]
                    marrow_attuned = castle_three_returned["marrow_attuned"]
                    enemy_tic = castle_three_returned["enemy_tic"]
                    in_battle = castle_three_returned["in_battle"]
                    current_enemy_battling = castle_three_returned["current_enemy"]
                    dreth_taunt_3 = castle_three_returned["dreth_taunt"]
                    rope_phase = castle_three_returned["rope_phase"]
                    mirage_2_updated = castle_three_returned["mirage_2_updated"]
                    mirage_2_saved = castle_three_returned["mirage_2_saved"]
                    thanked = castle_three_returned["thanked"]
                    critter_up_move = castle_three_returned["critter_up_move"]
                    surprised = castle_three_returned["surprised"]
                    construct_parts_two_highlighted = castle_three_returned["parts_highlighted"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in marrow castle lair -------------------------------------------------------------------
                if player.current_zone == "castle lair" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        castle_lair_returned = zone_castle.castle_lair(pygame, screen, graphic_dict, player,
                                                                       castle_lair_zero_bg, over_world_song_set,
                                                                       lair_music,
                                                                       interaction_popup, font, save_check_window,
                                                                       user_interface, bar_backdrop, hp_bar, en_bar,
                                                                       xp_bar, in_over_world, interacted, info_text_1,
                                                                       info_text_2, info_text_3, info_text_4, npc_tic,
                                                                       movement_able, equipment_screen, staff, sword,
                                                                       bow, npc_garan, offense_meter, defense_meter,
                                                                       weapon_select, pet_energy_window,
                                                                       player_battle_sprite, enemy_tic, barrier_active,
                                                                       sharp_sense_active, in_battle,
                                                                       current_enemy_battling, vanished, vanish_overlay,
                                                                       basic_fish_counter, better_fish_counter,
                                                                       even_better_fish_counter, best_fish_counter,
                                                                       sfx_dreth_laugh, dreth_taunt_4,
                                                                       dreth_taunt_popup, lair_exit, light_switch,
                                                                       castle_lair_one_bg,
                                                                       castle_lair_two_bg, castle_lair_bg, dreth,
                                                                       dreth_battle_sprite, dreth_defeated,
                                                                       apothis_upgrade, time_of_day, kasper_unlocked,
                                                                       torok_unlocked, iriana_unlocked,
                                                                       kasper_battle_sprite, torok_battle_sprite,
                                                                       iriana_battle_sprite)
                    else:
                        castle_lair_returned = zone_castle.castle_lair(pygame, game_window, graphic_dict, player,
                                                                       castle_lair_zero_bg, over_world_song_set,
                                                                       lair_music,
                                                                       interaction_popup, font, save_check_window,
                                                                       user_interface, bar_backdrop, hp_bar, en_bar,
                                                                       xp_bar, in_over_world, interacted, info_text_1,
                                                                       info_text_2, info_text_3, info_text_4, npc_tic,
                                                                       movement_able, equipment_screen, staff, sword,
                                                                       bow, npc_garan, offense_meter, defense_meter,
                                                                       weapon_select, pet_energy_window,
                                                                       player_battle_sprite, enemy_tic, barrier_active,
                                                                       sharp_sense_active, in_battle,
                                                                       current_enemy_battling, vanished, vanish_overlay,
                                                                       basic_fish_counter, better_fish_counter,
                                                                       even_better_fish_counter, best_fish_counter,
                                                                       sfx_dreth_laugh, dreth_taunt_4,
                                                                       dreth_taunt_popup, lair_exit, light_switch,
                                                                       castle_lair_one_bg,
                                                                       castle_lair_two_bg, castle_lair_bg, dreth,
                                                                       dreth_battle_sprite, dreth_defeated,
                                                                       apothis_upgrade, time_of_day, kasper_unlocked,
                                                                       torok_unlocked, iriana_unlocked,
                                                                       kasper_battle_sprite, torok_battle_sprite,
                                                                       iriana_battle_sprite)

                    over_world_song_set = castle_lair_returned["over_world_song_set"]
                    interacted = castle_lair_returned["interacted"]
                    in_over_world = castle_lair_returned["in_over_world"]
                    movement_able = castle_lair_returned["movement_able"]
                    info_text_1 = castle_lair_returned["info_text_1"]
                    info_text_2 = castle_lair_returned["info_text_2"]
                    info_text_3 = castle_lair_returned["info_text_3"]
                    info_text_4 = castle_lair_returned["info_text_4"]
                    enemy_tic = castle_lair_returned["enemy_tic"]
                    in_battle = castle_lair_returned["in_battle"]
                    current_enemy_battling = castle_lair_returned["current_enemy"]
                    dreth_taunt_4 = castle_lair_returned["dreth_taunt"]
                    light_switch = castle_lair_returned["light_switch"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in marrow caldera -----------------------------------------------------------------------
                if player.current_zone == "caldera" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        caldera_returned = zone_castle.caldera(pygame, screen, graphic_dict, player, caldera_bg,
                                                               over_world_song_set, caldera_music, interaction_popup,
                                                               font, save_check_window, user_interface, bar_backdrop,
                                                               hp_bar, en_bar, xp_bar, in_over_world, interacted,
                                                               info_text_1, info_text_2, info_text_3, info_text_4,
                                                               npc_tic, movement_able, equipment_screen, staff, sword,
                                                               bow, npc_garan, offense_meter, defense_meter,
                                                               weapon_select, pet_energy_window, vanished,
                                                               vanish_overlay, basic_fish_counter, better_fish_counter,
                                                               even_better_fish_counter, best_fish_counter,
                                                               caldera_ladder, sfx_ladder, fishing_spot_caldera,
                                                               fishing, walk_tic, fishing_timer, fishing_level,
                                                               fish_caught, previous_surf, fishing_unlocked,
                                                               sfx_fishing_cast, marrow_cat, cats_pet, sfx_cat_meow,
                                                               cat_rewarded, Item, item_block_10, item_block_10_got,
                                                               sfx_item_block, kasper_unlocked, torok_unlocked,
                                                               iriana_unlocked, apothis_upgrade)
                    else:
                        caldera_returned = zone_castle.caldera(pygame, game_window, graphic_dict, player, caldera_bg,
                                                               over_world_song_set, caldera_music, interaction_popup,
                                                               font, save_check_window, user_interface, bar_backdrop,
                                                               hp_bar, en_bar, xp_bar, in_over_world, interacted,
                                                               info_text_1, info_text_2, info_text_3, info_text_4,
                                                               npc_tic, movement_able, equipment_screen, staff, sword,
                                                               bow, npc_garan, offense_meter, defense_meter,
                                                               weapon_select, pet_energy_window, vanished,
                                                               vanish_overlay, basic_fish_counter, better_fish_counter,
                                                               even_better_fish_counter, best_fish_counter,
                                                               caldera_ladder, sfx_ladder, fishing_spot_caldera,
                                                               fishing, walk_tic, fishing_timer, fishing_level,
                                                               fish_caught, previous_surf, fishing_unlocked,
                                                               sfx_fishing_cast, marrow_cat, cats_pet, sfx_cat_meow,
                                                               cat_rewarded, Item, item_block_10, item_block_10_got,
                                                               sfx_item_block, kasper_unlocked, torok_unlocked,
                                                               iriana_unlocked, apothis_upgrade)

                    over_world_song_set = caldera_returned["over_world_song_set"]
                    interacted = caldera_returned["interacted"]
                    in_over_world = caldera_returned["in_over_world"]
                    movement_able = caldera_returned["movement_able"]
                    info_text_1 = caldera_returned["info_text_1"]
                    info_text_2 = caldera_returned["info_text_2"]
                    info_text_3 = caldera_returned["info_text_3"]
                    info_text_4 = caldera_returned["info_text_4"]
                    fish_caught = caldera_returned["fish_caught"]
                    fishing = caldera_returned["fishing"]
                    fishing_timer = caldera_returned["fishing_timer"]
                    previous_surf = caldera_returned["previous_surf"]
                    basic_fish_counter = caldera_returned["basic_fish_counter"]
                    better_fish_counter = caldera_returned["better_fish_counter"]
                    even_better_fish_counter = caldera_returned["even_better_fish_counter"]
                    best_fish_counter = caldera_returned["best_fish_counter"]
                    cats_pet = caldera_returned["cats_pet"]
                    cat_rewarded = caldera_returned["cat_rewarded"]
                    item_block_10_got = caldera_returned["item_block_10_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in eldream district ---------------------------------------------------------------------
                if player.current_zone == "ectrenos" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        ectrenos_main_returned = zone_ectrenos.ectrenos_main(pygame, screen, graphic_dict, player,
                                                                             ectrenos_bg, eldream_building_music,
                                                                             over_world_song_set, interaction_popup,
                                                                             font,
                                                                             save_check_window, user_interface,
                                                                             bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                             button_highlighted, button_highlight,
                                                                             in_over_world, interacted, info_text_1,
                                                                             info_text_2, info_text_3, info_text_4,
                                                                             npc_tic,
                                                                             in_npc_interaction, in_battle,
                                                                             movement_able,
                                                                             current_enemy_battling,
                                                                             player_battle_sprite,
                                                                             snake_battle_sprite, ghoul_battle_sprite,
                                                                             chorizon_battle_sprite,
                                                                             muchador_battle_sprite,
                                                                             magmon_battle_sprite,
                                                                             bandile_battle_sprite,
                                                                             chinzilla_battle_sprite, barrier_active,
                                                                             sharp_sense_active,
                                                                             current_npc_interacting,
                                                                             equipment_screen, staff,
                                                                             sword,
                                                                             bow, npc_garan, offense_meter,
                                                                             defense_meter,
                                                                             weapon_select, eldream_attuned, in_shop,
                                                                             in_inn, current_building_entering,
                                                                             enemy_tic,
                                                                             eldream_flowers, interactables_ectrenos,
                                                                             overlay_ectrene, ectrenos_ladder_rect,
                                                                             quest_star_leyre, pet_energy_window,
                                                                             chroma_bridge, npc_leyre,
                                                                             necrola_battle_sprite,
                                                                             osodark_battle_sprite,
                                                                             sfx_ladder, stelli_battle_sprite,
                                                                             critter_ectrenos_1, critter_right_move,
                                                                             critter_left_move, critter_tic, walk_move,
                                                                             mini_map_overlay, basic_fish_counter,
                                                                             better_fish_counter,
                                                                             even_better_fish_counter,
                                                                             best_fish_counter, vanished, npc_illisare,
                                                                             quest_star_illisare, apothis_upgrade,
                                                                             time_of_day, ectrenos_alcove_enemies,
                                                                             kasper_unlocked, torok_unlocked,
                                                                             iriana_unlocked, kasper_battle_sprite,
                                                                             torok_battle_sprite, iriana_battle_sprite)
                    else:
                        ectrenos_main_returned = zone_ectrenos.ectrenos_main(pygame, game_window, graphic_dict, player,
                                                                             ectrenos_bg, eldream_building_music,
                                                                             over_world_song_set, interaction_popup,
                                                                             font,
                                                                             save_check_window, user_interface,
                                                                             bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                             button_highlighted, button_highlight,
                                                                             in_over_world, interacted, info_text_1,
                                                                             info_text_2, info_text_3, info_text_4,
                                                                             npc_tic,
                                                                             in_npc_interaction, in_battle,
                                                                             movement_able,
                                                                             current_enemy_battling,
                                                                             player_battle_sprite,
                                                                             snake_battle_sprite, ghoul_battle_sprite,
                                                                             chorizon_battle_sprite,
                                                                             muchador_battle_sprite,
                                                                             magmon_battle_sprite,
                                                                             bandile_battle_sprite,
                                                                             chinzilla_battle_sprite, barrier_active,
                                                                             sharp_sense_active,
                                                                             current_npc_interacting,
                                                                             equipment_screen, staff,
                                                                             sword,
                                                                             bow, npc_garan, offense_meter,
                                                                             defense_meter,
                                                                             weapon_select, eldream_attuned, in_shop,
                                                                             in_inn, current_building_entering,
                                                                             enemy_tic,
                                                                             eldream_flowers, interactables_ectrenos,
                                                                             overlay_ectrene, ectrenos_ladder_rect,
                                                                             quest_star_leyre, pet_energy_window,
                                                                             chroma_bridge, npc_leyre,
                                                                             necrola_battle_sprite,
                                                                             osodark_battle_sprite,
                                                                             sfx_ladder, stelli_battle_sprite,
                                                                             critter_ectrenos_1, critter_right_move,
                                                                             critter_left_move, critter_tic, walk_move,
                                                                             mini_map_overlay, basic_fish_counter,
                                                                             better_fish_counter,
                                                                             even_better_fish_counter,
                                                                             best_fish_counter, vanished, npc_illisare,
                                                                             quest_star_illisare, apothis_upgrade,
                                                                             time_of_day, ectrenos_alcove_enemies,
                                                                             kasper_unlocked, torok_unlocked,
                                                                             iriana_unlocked, kasper_battle_sprite,
                                                                             torok_battle_sprite, iriana_battle_sprite)

                    over_world_song_set = ectrenos_main_returned["over_world_song_set"]
                    eldream_attuned = ectrenos_main_returned["eldream_attuned"]
                    interacted = ectrenos_main_returned["interacted"]
                    in_over_world = ectrenos_main_returned["in_over_world"]
                    in_battle = ectrenos_main_returned["in_battle"]
                    in_shop = ectrenos_main_returned["in_shop"]
                    in_inn = ectrenos_main_returned["in_inn"]
                    in_npc_interaction = ectrenos_main_returned["in_npc_interaction"]
                    movement_able = ectrenos_main_returned["movement_able"]
                    current_enemy_battling = ectrenos_main_returned["current_enemy_battling"]
                    current_building_entering = ectrenos_main_returned["current_building_entering"]
                    current_npc_interacting = ectrenos_main_returned["current_npc_interacting"]
                    enemy_tic = ectrenos_main_returned["enemy_tic"]
                    npc_tic = ectrenos_main_returned["npc_tic"]
                    info_text_1 = ectrenos_main_returned["info_text_1"]
                    info_text_2 = ectrenos_main_returned["info_text_2"]
                    info_text_3 = ectrenos_main_returned["info_text_3"]
                    info_text_4 = ectrenos_main_returned["info_text_4"]
                    eldream_flowers = ectrenos_main_returned["eldream_flowers"]
                    interactables_ectrenos = ectrenos_main_returned["interactables_ectrenos"]
                    critter_right_move = ectrenos_main_returned["right_move"]
                    critter_left_move = ectrenos_main_returned["left_move"]
                    critter_tic = ectrenos_main_returned["critter_tic"]
                    walk_move = ectrenos_main_returned["walk_move"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in eldream district ---------------------------------------------------------------------
                if player.current_zone == "ectrenos left" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        ectrenos_left_returned = zone_ectrenos.ectrenos_left(pygame, screen, graphic_dict, player,
                                                                             ectrenos_left_bg, eldream_overworld_music,
                                                                             over_world_song_set, interaction_popup,
                                                                             font,
                                                                             save_check_window, user_interface,
                                                                             bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                             button_highlighted, button_highlight,
                                                                             in_over_world, interacted, info_text_1,
                                                                             info_text_2, info_text_3, info_text_4,
                                                                             npc_tic,
                                                                             in_npc_interaction, in_battle,
                                                                             movement_able,
                                                                             current_enemy_battling,
                                                                             current_npc_interacting, equipment_screen,
                                                                             staff, sword, bow, npc_garan,
                                                                             offense_meter,
                                                                             defense_meter, weapon_select,
                                                                             eldream_attuned,
                                                                             in_shop, in_inn, current_building_entering,
                                                                             enemy_tic, eldream_flowers,
                                                                             interactables_ectrenos,
                                                                             ectrenos_pet_entrance,
                                                                             in_menagerie, quest_star_aitor,
                                                                             pet_energy_window, npc_leyre, sfx_find,
                                                                             critter_ectrenos_2, critter_right_move,
                                                                             critter_left_move, critter_tic, walk_move,
                                                                             altar_entrance, mini_map_overlay,
                                                                             basic_fish_counter, better_fish_counter,
                                                                             even_better_fish_counter,
                                                                             best_fish_counter, item_block_5,
                                                                             item_block_5_got, sfx_item_block, Item,
                                                                             kasper_unlocked, torok_unlocked,
                                                                             iriana_unlocked, apothis_upgrade, dawn,
                                                                             early_morning, morning, early_afternoon,
                                                                             afternoon, dusk, night, time_of_day,
                                                                             sfx_door_open, night_music)
                    else:
                        ectrenos_left_returned = zone_ectrenos.ectrenos_left(pygame, game_window, graphic_dict, player,
                                                                             ectrenos_left_bg, eldream_overworld_music,
                                                                             over_world_song_set, interaction_popup,
                                                                             font,
                                                                             save_check_window, user_interface,
                                                                             bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                             button_highlighted, button_highlight,
                                                                             in_over_world, interacted, info_text_1,
                                                                             info_text_2, info_text_3, info_text_4,
                                                                             npc_tic,
                                                                             in_npc_interaction, in_battle,
                                                                             movement_able,
                                                                             current_enemy_battling,
                                                                             current_npc_interacting, equipment_screen,
                                                                             staff, sword, bow, npc_garan,
                                                                             offense_meter,
                                                                             defense_meter, weapon_select,
                                                                             eldream_attuned,
                                                                             in_shop, in_inn, current_building_entering,
                                                                             enemy_tic, eldream_flowers,
                                                                             interactables_ectrenos,
                                                                             ectrenos_pet_entrance,
                                                                             in_menagerie, quest_star_aitor,
                                                                             pet_energy_window, npc_leyre, sfx_find,
                                                                             critter_ectrenos_2, critter_right_move,
                                                                             critter_left_move, critter_tic, walk_move,
                                                                             altar_entrance, mini_map_overlay,
                                                                             basic_fish_counter, better_fish_counter,
                                                                             even_better_fish_counter,
                                                                             best_fish_counter, item_block_5,
                                                                             item_block_5_got, sfx_item_block, Item,
                                                                             kasper_unlocked, torok_unlocked,
                                                                             iriana_unlocked, apothis_upgrade, dawn,
                                                                             early_morning, morning, early_afternoon,
                                                                             afternoon, dusk, night, time_of_day,
                                                                             sfx_door_open, night_music)

                    over_world_song_set = ectrenos_left_returned["over_world_song_set"]
                    eldream_attuned = ectrenos_left_returned["eldream_attuned"]
                    interacted = ectrenos_left_returned["interacted"]
                    in_over_world = ectrenos_left_returned["in_over_world"]
                    in_battle = ectrenos_left_returned["in_battle"]
                    in_shop = ectrenos_left_returned["in_shop"]
                    in_inn = ectrenos_left_returned["in_inn"]
                    in_menagerie = ectrenos_left_returned["in_menagerie"]
                    in_npc_interaction = ectrenos_left_returned["in_npc_interaction"]
                    movement_able = ectrenos_left_returned["movement_able"]
                    current_enemy_battling = ectrenos_left_returned["current_enemy_battling"]
                    current_building_entering = ectrenos_left_returned["current_building_entering"]
                    current_npc_interacting = ectrenos_left_returned["current_npc_interacting"]
                    enemy_tic = ectrenos_left_returned["enemy_tic"]
                    npc_tic = ectrenos_left_returned["npc_tic"]
                    info_text_1 = ectrenos_left_returned["info_text_1"]
                    info_text_2 = ectrenos_left_returned["info_text_2"]
                    info_text_3 = ectrenos_left_returned["info_text_3"]
                    info_text_4 = ectrenos_left_returned["info_text_4"]
                    eldream_flowers = ectrenos_left_returned["eldream_flowers"]
                    interactables_ectrenos = ectrenos_left_returned["interactables_ectrenos"]
                    critter_right_move = ectrenos_left_returned["right_move"]
                    critter_left_move = ectrenos_left_returned["left_move"]
                    critter_tic = ectrenos_left_returned["critter_tic"]
                    walk_move = ectrenos_left_returned["walk_move"]
                    item_block_5_got = ectrenos_left_returned["item_block_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in eldream district ---------------------------------------------------------------------
                if player.current_zone == "ectrenos right" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        ectrenos_right_returned = zone_ectrenos.ectrenos_right(pygame, screen, graphic_dict, player,
                                                                               ectrenos_right_bg,
                                                                               eldream_overworld_music,
                                                                               over_world_song_set, interaction_popup,
                                                                               font,
                                                                               save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               button_highlighted, button_highlight,
                                                                               in_over_world, interacted, info_text_1,
                                                                               info_text_2, info_text_3, info_text_4,
                                                                               npc_tic, in_npc_interaction, in_battle,
                                                                               movement_able, current_enemy_battling,
                                                                               current_npc_interacting,
                                                                               equipment_screen,
                                                                               staff, sword, bow, npc_garan,
                                                                               offense_meter,
                                                                               defense_meter, weapon_select,
                                                                               eldream_attuned, in_shop, in_inn,
                                                                               current_building_entering, enemy_tic,
                                                                               eldream_flowers, interactables_ectrenos,
                                                                               ectrenos_shop_entrance,
                                                                               ectrenos_inn_entrance, pet_energy_window,
                                                                               npc_leyre, sfx_find, critter_ectrenos_3,
                                                                               critter_right_move, critter_left_move,
                                                                               critter_tic, walk_move, mini_map_overlay,
                                                                               basic_fish_counter, better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, item_block_4,
                                                                               item_block_4_got, sfx_item_block, Item,
                                                                               kasper_unlocked, torok_unlocked,
                                                                               iriana_unlocked, apothis_upgrade, dawn,
                                                                               early_morning, morning, early_afternoon,
                                                                               afternoon, dusk, night, time_of_day,
                                                                               sfx_door_open, night_music)
                    else:
                        ectrenos_right_returned = zone_ectrenos.ectrenos_right(pygame, game_window, graphic_dict,
                                                                               player, ectrenos_right_bg,
                                                                               eldream_overworld_music,
                                                                               over_world_song_set, interaction_popup,
                                                                               font,
                                                                               save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               button_highlighted, button_highlight,
                                                                               in_over_world, interacted, info_text_1,
                                                                               info_text_2, info_text_3, info_text_4,
                                                                               npc_tic, in_npc_interaction, in_battle,
                                                                               movement_able, current_enemy_battling,
                                                                               current_npc_interacting,
                                                                               equipment_screen,
                                                                               staff, sword, bow, npc_garan,
                                                                               offense_meter,
                                                                               defense_meter, weapon_select,
                                                                               eldream_attuned, in_shop, in_inn,
                                                                               current_building_entering, enemy_tic,
                                                                               eldream_flowers, interactables_ectrenos,
                                                                               ectrenos_shop_entrance,
                                                                               ectrenos_inn_entrance, pet_energy_window,
                                                                               npc_leyre, sfx_find, critter_ectrenos_3,
                                                                               critter_right_move, critter_left_move,
                                                                               critter_tic, walk_move, mini_map_overlay,
                                                                               basic_fish_counter, better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, item_block_4,
                                                                               item_block_4_got, sfx_item_block, Item,
                                                                               kasper_unlocked, torok_unlocked,
                                                                               iriana_unlocked, apothis_upgrade, dawn,
                                                                               early_morning, morning, early_afternoon,
                                                                               afternoon, dusk, night, time_of_day,
                                                                               sfx_door_open, night_music)

                    over_world_song_set = ectrenos_right_returned["over_world_song_set"]
                    eldream_attuned = ectrenos_right_returned["eldream_attuned"]
                    interacted = ectrenos_right_returned["interacted"]
                    in_over_world = ectrenos_right_returned["in_over_world"]
                    in_battle = ectrenos_right_returned["in_battle"]
                    in_shop = ectrenos_right_returned["in_shop"]
                    in_inn = ectrenos_right_returned["in_inn"]
                    in_npc_interaction = ectrenos_right_returned["in_npc_interaction"]
                    movement_able = ectrenos_right_returned["movement_able"]
                    current_enemy_battling = ectrenos_right_returned["current_enemy_battling"]
                    current_building_entering = ectrenos_right_returned["current_building_entering"]
                    current_npc_interacting = ectrenos_right_returned["current_npc_interacting"]
                    enemy_tic = ectrenos_right_returned["enemy_tic"]
                    npc_tic = ectrenos_right_returned["npc_tic"]
                    info_text_1 = ectrenos_right_returned["info_text_1"]
                    info_text_2 = ectrenos_right_returned["info_text_2"]
                    info_text_3 = ectrenos_right_returned["info_text_3"]
                    info_text_4 = ectrenos_right_returned["info_text_4"]
                    eldream_flowers = ectrenos_right_returned["eldream_flowers"]
                    interactables_ectrenos = ectrenos_right_returned["interactables_ectrenos"]
                    critter_right_move = ectrenos_right_returned["right_move"]
                    critter_left_move = ectrenos_right_returned["left_move"]
                    critter_tic = ectrenos_right_returned["critter_tic"]
                    walk_move = ectrenos_right_returned["walk_move"]
                    item_block_4_got = ectrenos_right_returned["item_block_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in eldream district ---------------------------------------------------------------------
                if player.current_zone == "ectrenos front" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        ectrenos_front_returned = zone_ectrenos.ectrenos_front(pygame, screen, graphic_dict, player,
                                                                               ectrenos_front_bg,
                                                                               eldream_overworld_music,
                                                                               over_world_song_set, interaction_popup,
                                                                               font,
                                                                               save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               button_highlighted, button_highlight,
                                                                               in_over_world, interacted, info_text_1,
                                                                               info_text_2, info_text_3, info_text_4,
                                                                               npc_tic, in_npc_interaction, in_battle,
                                                                               movement_able, current_enemy_battling,
                                                                               player_battle_sprite,
                                                                               snake_battle_sprite,
                                                                               ghoul_battle_sprite,
                                                                               chorizon_battle_sprite,
                                                                               muchador_battle_sprite,
                                                                               magmon_battle_sprite,
                                                                               bandile_battle_sprite,
                                                                               chinzilla_battle_sprite, barrier_active,
                                                                               sharp_sense_active,
                                                                               current_npc_interacting,
                                                                               equipment_screen, staff, sword, bow,
                                                                               npc_garan, offense_meter, defense_meter,
                                                                               weapon_select, eldream_attuned, in_shop,
                                                                               in_inn, current_building_entering,
                                                                               enemy_tic,
                                                                               eldream_flowers, seldon_enemies,
                                                                               korlok_enemies, snakes, ghouls, magmons,
                                                                               bandiles, interactables_seldon,
                                                                               interactables_korlok,
                                                                               interactables_mines,
                                                                               Enemy, Item, UiElement, seldon_flowers,
                                                                               interactables_ectrenos,
                                                                               quest_star_everett,
                                                                               pet_energy_window, npc_everett,
                                                                               npc_leyre,
                                                                               ectrenos_front_enemies,
                                                                               interactables_eldream,
                                                                               necrola_battle_sprite,
                                                                               osodark_battle_sprite, sfx_find,
                                                                               stelli_battle_sprite, vanished,
                                                                               vanish_overlay, mini_map_overlay,
                                                                               basic_fish_counter, better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, necrolas_highlighted,
                                                                               necrolas_reset, apothis_upgrade, dawn,
                                                                               early_morning, morning, early_afternoon,
                                                                               afternoon, dusk, night, time_of_day,
                                                                               cloaked, kasper_unlocked,
                                                                               torok_unlocked, iriana_unlocked,
                                                                               kasper_battle_sprite,
                                                                               torok_battle_sprite,
                                                                               iriana_battle_sprite, night_music,
                                                                               chroma_bridge)
                    else:
                        ectrenos_front_returned = zone_ectrenos.ectrenos_front(pygame, game_window, graphic_dict,
                                                                               player, ectrenos_front_bg,
                                                                               eldream_overworld_music,
                                                                               over_world_song_set, interaction_popup,
                                                                               font,
                                                                               save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               button_highlighted, button_highlight,
                                                                               in_over_world, interacted, info_text_1,
                                                                               info_text_2, info_text_3, info_text_4,
                                                                               npc_tic, in_npc_interaction, in_battle,
                                                                               movement_able, current_enemy_battling,
                                                                               player_battle_sprite,
                                                                               snake_battle_sprite,
                                                                               ghoul_battle_sprite,
                                                                               chorizon_battle_sprite,
                                                                               muchador_battle_sprite,
                                                                               magmon_battle_sprite,
                                                                               bandile_battle_sprite,
                                                                               chinzilla_battle_sprite, barrier_active,
                                                                               sharp_sense_active,
                                                                               current_npc_interacting,
                                                                               equipment_screen, staff, sword, bow,
                                                                               npc_garan, offense_meter, defense_meter,
                                                                               weapon_select, eldream_attuned, in_shop,
                                                                               in_inn, current_building_entering,
                                                                               enemy_tic,
                                                                               eldream_flowers, seldon_enemies,
                                                                               korlok_enemies, snakes, ghouls, magmons,
                                                                               bandiles, interactables_seldon,
                                                                               interactables_korlok,
                                                                               interactables_mines,
                                                                               Enemy, Item, UiElement, seldon_flowers,
                                                                               interactables_ectrenos,
                                                                               quest_star_everett,
                                                                               pet_energy_window, npc_everett,
                                                                               npc_leyre,
                                                                               ectrenos_front_enemies,
                                                                               interactables_eldream,
                                                                               necrola_battle_sprite,
                                                                               osodark_battle_sprite, sfx_find,
                                                                               stelli_battle_sprite, vanished,
                                                                               vanish_overlay, mini_map_overlay,
                                                                               basic_fish_counter, better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, necrolas_highlighted,
                                                                               necrolas_reset, apothis_upgrade, dawn,
                                                                               early_morning, morning, early_afternoon,
                                                                               afternoon, dusk, night, time_of_day,
                                                                               cloaked, kasper_unlocked,
                                                                               torok_unlocked, iriana_unlocked,
                                                                               kasper_battle_sprite,
                                                                               torok_battle_sprite,
                                                                               iriana_battle_sprite, night_music,
                                                                               chroma_bridge)

                    over_world_song_set = ectrenos_front_returned["over_world_song_set"]
                    eldream_attuned = ectrenos_front_returned["eldream_attuned"]
                    interacted = ectrenos_front_returned["interacted"]
                    in_over_world = ectrenos_front_returned["in_over_world"]
                    in_battle = ectrenos_front_returned["in_battle"]
                    in_shop = ectrenos_front_returned["in_shop"]
                    in_inn = ectrenos_front_returned["in_inn"]
                    in_npc_interaction = ectrenos_front_returned["in_npc_interaction"]
                    movement_able = ectrenos_front_returned["movement_able"]
                    current_enemy_battling = ectrenos_front_returned["current_enemy_battling"]
                    current_building_entering = ectrenos_front_returned["current_building_entering"]
                    current_npc_interacting = ectrenos_front_returned["current_npc_interacting"]
                    enemy_tic = ectrenos_front_returned["enemy_tic"]
                    npc_tic = ectrenos_front_returned["npc_tic"]
                    info_text_1 = ectrenos_front_returned["info_text_1"]
                    info_text_2 = ectrenos_front_returned["info_text_2"]
                    info_text_3 = ectrenos_front_returned["info_text_3"]
                    info_text_4 = ectrenos_front_returned["info_text_4"]
                    eldream_flowers = ectrenos_front_returned["eldream_flowers"]
                    interactables_ectrenos = ectrenos_front_returned["interactables_ectrenos"]
                    necrolas_highlighted = ectrenos_front_returned["necrolas_highlighted"]
                    necrolas_reset = ectrenos_front_returned["necrolas_reset"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in alcove -------------------------------------------------------------------------------
                if player.current_zone == "ectrenos alcove" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        ectrenos_alcove_returned = zone_ectrenos.ectrenos_alcove(pygame, screen, graphic_dict, player,
                                                                                 ectrenos_alcove_bg,
                                                                                 eldream_building_music,
                                                                                 over_world_song_set, interaction_popup,
                                                                                 font, save_check_window,
                                                                                 user_interface,
                                                                                 bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                                 button_highlighted, button_highlight,
                                                                                 in_over_world, interacted, info_text_1,
                                                                                 info_text_2, info_text_3, info_text_4,
                                                                                 npc_tic, in_npc_interaction, in_battle,
                                                                                 movement_able, current_enemy_battling,
                                                                                 current_npc_interacting,
                                                                                 equipment_screen,
                                                                                 staff, sword, bow, npc_garan,
                                                                                 offense_meter, defense_meter,
                                                                                 weapon_select, eldream_attuned,
                                                                                 in_shop,
                                                                                 in_inn, current_building_entering,
                                                                                 enemy_tic, eldream_flowers,
                                                                                 interactables_ectrenos,
                                                                                 pet_energy_window,
                                                                                 alcove_ladder_rect, chroma_bridge,
                                                                                 alcove_star, npc_leyre,
                                                                                 ectrenos_alcove_enemies, sfx_find,
                                                                                 sfx_ladder, vanished, vanish_overlay,
                                                                                 mini_map_overlay,
                                                                                 osodark_battle_sprite,
                                                                                 player_battle_sprite, barrier_active,
                                                                                 sharp_sense_active,
                                                                                 Enemy, Item, UiElement,
                                                                                 alcove_fishing_rect_1,
                                                                                 basic_fish_counter,
                                                                                 better_fish_counter,
                                                                                 even_better_fish_counter,
                                                                                 best_fish_counter, apothis_upgrade,
                                                                                 time_of_day, kasper_unlocked,
                                                                                 torok_unlocked, iriana_unlocked,
                                                                                 kasper_battle_sprite,
                                                                                 torok_battle_sprite,
                                                                                 iriana_battle_sprite)
                    else:
                        ectrenos_alcove_returned = zone_ectrenos.ectrenos_alcove(pygame, game_window, graphic_dict,
                                                                                 player, ectrenos_alcove_bg,
                                                                                 eldream_building_music,
                                                                                 over_world_song_set, interaction_popup,
                                                                                 font, save_check_window,
                                                                                 user_interface,
                                                                                 bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                                 button_highlighted, button_highlight,
                                                                                 in_over_world, interacted, info_text_1,
                                                                                 info_text_2, info_text_3, info_text_4,
                                                                                 npc_tic, in_npc_interaction, in_battle,
                                                                                 movement_able, current_enemy_battling,
                                                                                 current_npc_interacting,
                                                                                 equipment_screen,
                                                                                 staff, sword, bow, npc_garan,
                                                                                 offense_meter, defense_meter,
                                                                                 weapon_select, eldream_attuned,
                                                                                 in_shop,
                                                                                 in_inn, current_building_entering,
                                                                                 enemy_tic, eldream_flowers,
                                                                                 interactables_ectrenos,
                                                                                 pet_energy_window,
                                                                                 alcove_ladder_rect, chroma_bridge,
                                                                                 alcove_star, npc_leyre,
                                                                                 ectrenos_alcove_enemies, sfx_find,
                                                                                 sfx_ladder, vanished, vanish_overlay,
                                                                                 mini_map_overlay,
                                                                                 osodark_battle_sprite,
                                                                                 player_battle_sprite, barrier_active,
                                                                                 sharp_sense_active,
                                                                                 Enemy, Item, UiElement,
                                                                                 alcove_fishing_rect_1,
                                                                                 basic_fish_counter,
                                                                                 better_fish_counter,
                                                                                 even_better_fish_counter,
                                                                                 best_fish_counter, apothis_upgrade,
                                                                                 time_of_day, kasper_unlocked,
                                                                                 torok_unlocked, iriana_unlocked,
                                                                                 kasper_battle_sprite,
                                                                                 torok_battle_sprite,
                                                                                 iriana_battle_sprite)

                    over_world_song_set = ectrenos_alcove_returned["over_world_song_set"]
                    eldream_attuned = ectrenos_alcove_returned["eldream_attuned"]
                    interacted = ectrenos_alcove_returned["interacted"]
                    in_over_world = ectrenos_alcove_returned["in_over_world"]
                    in_battle = ectrenos_alcove_returned["in_battle"]
                    in_shop = ectrenos_alcove_returned["in_shop"]
                    in_inn = ectrenos_alcove_returned["in_inn"]
                    in_npc_interaction = ectrenos_alcove_returned["in_npc_interaction"]
                    movement_able = ectrenos_alcove_returned["movement_able"]
                    current_enemy_battling = ectrenos_alcove_returned["current_enemy_battling"]
                    current_building_entering = ectrenos_alcove_returned["current_building_entering"]
                    current_npc_interacting = ectrenos_alcove_returned["current_npc_interacting"]
                    enemy_tic = ectrenos_alcove_returned["enemy_tic"]
                    npc_tic = ectrenos_alcove_returned["npc_tic"]
                    info_text_1 = ectrenos_alcove_returned["info_text_1"]
                    info_text_2 = ectrenos_alcove_returned["info_text_2"]
                    info_text_3 = ectrenos_alcove_returned["info_text_3"]
                    info_text_4 = ectrenos_alcove_returned["info_text_4"]
                    eldream_flowers = ectrenos_alcove_returned["eldream_flowers"]
                    interactables_ectrenos = ectrenos_alcove_returned["interactables_ectrenos"]
                    ectrenos_alcove_enemies = ectrenos_alcove_returned["ectrenos_alcove_enemies"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in fishing alcove -----------------------------------------------------------------------
                if player.current_zone == "fishing alcove" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        fishing_alcove_returned = zone_ectrenos.fishing_alcove(pygame, screen, player,
                                                                               over_world_song_set,
                                                                               eldream_building_music, fishing,
                                                                               walk_tic, fishing_spot_eldream_1,
                                                                               fishing_spot_eldream_2,
                                                                               graphic_dict, fishing_timer,
                                                                               fishing_level, basic_fish_counter,
                                                                               better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, fish_caught,
                                                                               previous_surf, water_alcove_1,
                                                                               water_alcove_3,
                                                                               fishing_alcove_bg, equipment_screen,
                                                                               offense_meter, defense_meter, staff,
                                                                               sword, bow, npc_garan, weapon_select,
                                                                               save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               font, info_text_1, info_text_2,
                                                                               info_text_3, info_text_4, in_over_world,
                                                                               interaction_popup, interacted,
                                                                               fishing_unlocked, movement_able, in_hut,
                                                                               pet_energy_window, alcove_fishing_rect_2,
                                                                               mini_map_overlay, sfx_fishing_cast,
                                                                               item_block_6, item_block_6_got,
                                                                               sfx_item_block, Item,
                                                                               kasper_unlocked, torok_unlocked,
                                                                               iriana_unlocked, apothis_upgrade,
                                                                               time_of_day, ectrenos_alcove_enemies)
                    else:
                        fishing_alcove_returned = zone_ectrenos.fishing_alcove(pygame, game_window, player,
                                                                               over_world_song_set,
                                                                               eldream_building_music, fishing,
                                                                               walk_tic, fishing_spot_eldream_1,
                                                                               fishing_spot_eldream_2,
                                                                               graphic_dict, fishing_timer,
                                                                               fishing_level, basic_fish_counter,
                                                                               better_fish_counter,
                                                                               even_better_fish_counter,
                                                                               best_fish_counter, fish_caught,
                                                                               previous_surf, water_alcove_1,
                                                                               water_alcove_3,
                                                                               fishing_alcove_bg, equipment_screen,
                                                                               offense_meter, defense_meter, staff,
                                                                               sword, bow, npc_garan, weapon_select,
                                                                               save_check_window, user_interface,
                                                                               bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                               font, info_text_1, info_text_2,
                                                                               info_text_3, info_text_4, in_over_world,
                                                                               interaction_popup, interacted,
                                                                               fishing_unlocked, movement_able, in_hut,
                                                                               pet_energy_window, alcove_fishing_rect_2,
                                                                               mini_map_overlay, sfx_fishing_cast,
                                                                               item_block_6, item_block_6_got,
                                                                               sfx_item_block, Item,
                                                                               kasper_unlocked, torok_unlocked,
                                                                               iriana_unlocked, apothis_upgrade,
                                                                               time_of_day, ectrenos_alcove_enemies)

                    over_world_song_set = fishing_alcove_returned["over_world_song_set"]
                    basic_fish_counter = fishing_alcove_returned["basic_fish_counter"]
                    better_fish_counter = fishing_alcove_returned["better_fish_counter"]
                    even_better_fish_counter = fishing_alcove_returned["even_better_fish_counter"]
                    best_fish_counter = fishing_alcove_returned["best_fish_counter"]
                    fish_caught = fishing_alcove_returned["fish_caught"]
                    movement_able = fishing_alcove_returned["movement_able"]
                    info_text_1 = fishing_alcove_returned["info_text_1"]
                    info_text_2 = fishing_alcove_returned["info_text_2"]
                    info_text_3 = fishing_alcove_returned["info_text_3"]
                    info_text_4 = fishing_alcove_returned["info_text_4"]
                    in_hut = fishing_alcove_returned["in_hut"]
                    fishing = fishing_alcove_returned["fishing"]
                    fishing_timer = fishing_alcove_returned["fishing_timer"]
                    previous_surf = fishing_alcove_returned["previous_surf"]
                    interacted = fishing_alcove_returned["interacted"]
                    in_over_world = fishing_alcove_returned["in_over_world"]
                    item_block_6_got = fishing_alcove_returned["item_block_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in korlok district mines ----------------------------------------------------------------
                if player.current_zone == "mines" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        mines_returned = zone_mines.korlok_mines(pygame, screen, graphic_dict, player, korlok_mines_bg,
                                                                 korlok_overworld_music, over_world_song_set, bandiles,
                                                                 interaction_popup, font, save_check_window,
                                                                 user_interface,
                                                                 bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                 button_highlighted,
                                                                 button_highlight, in_over_world, interacted,
                                                                 info_text_1,
                                                                 info_text_2, info_text_3, info_text_4, enemy_tic,
                                                                 npc_tic,
                                                                 in_battle, in_npc_interaction, movement_able,
                                                                 current_enemy_battling, player_battle_sprite,
                                                                 snake_battle_sprite, ghoul_battle_sprite,
                                                                 chorizon_battle_sprite, muchador_battle_sprite,
                                                                 chinzilla_battle_sprite, barrier_active,
                                                                 sharp_sense_active, magmon_battle_sprite,
                                                                 bandile_battle_sprite, seldon_enemies, korlok_enemies,
                                                                 snakes, ghouls, magmons, interactables_seldon,
                                                                 interactables_korlok, Enemy, Item, UiElement,
                                                                 interactables_mines, ores, equipment_screen, staff,
                                                                 sword, bow, npc_garan, offense_meter, defense_meter,
                                                                 weapon_select, npc_prime, npc_jez,
                                                                 prime_popup, jez_popup, prime_1, prime_2, prime_3,
                                                                 jez_1,
                                                                 jez_2, jez_3, seldon_flowers, eldream_flowers,
                                                                 interactables_eldream, pet_energy_window,
                                                                 ectrenos_front_enemies, necrola_battle_sprite,
                                                                 osodark_battle_sprite, sfx_item_pickup, sfx_talking,
                                                                 talk_start, stelli_battle_sprite, vanished,
                                                                 vanish_overlay, basic_fish_counter,
                                                                 better_fish_counter, even_better_fish_counter,
                                                                 best_fish_counter, apothis_gift, bandiles_highlighted,
                                                                 bandiles_reset, ore_highlighted, apothis_upgrade,
                                                                 time_of_day, kasper_unlocked, torok_unlocked,
                                                                 iriana_unlocked, kasper_battle_sprite,
                                                                 torok_battle_sprite, iriana_battle_sprite)
                    else:
                        mines_returned = zone_mines.korlok_mines(pygame, game_window, graphic_dict, player,
                                                                 korlok_mines_bg, korlok_overworld_music,
                                                                 over_world_song_set, bandiles, interaction_popup,
                                                                 font, save_check_window, user_interface,
                                                                 bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                 button_highlighted,
                                                                 button_highlight, in_over_world, interacted,
                                                                 info_text_1,
                                                                 info_text_2, info_text_3, info_text_4, enemy_tic,
                                                                 npc_tic,
                                                                 in_battle, in_npc_interaction, movement_able,
                                                                 current_enemy_battling, player_battle_sprite,
                                                                 snake_battle_sprite, ghoul_battle_sprite,
                                                                 chorizon_battle_sprite, muchador_battle_sprite,
                                                                 chinzilla_battle_sprite, barrier_active,
                                                                 sharp_sense_active, magmon_battle_sprite,
                                                                 bandile_battle_sprite, seldon_enemies, korlok_enemies,
                                                                 snakes, ghouls, magmons, interactables_seldon,
                                                                 interactables_korlok, Enemy, Item, UiElement,
                                                                 interactables_mines, ores, equipment_screen, staff,
                                                                 sword, bow, npc_garan, offense_meter, defense_meter,
                                                                 weapon_select, npc_prime, npc_jez,
                                                                 prime_popup, jez_popup, prime_1, prime_2, prime_3,
                                                                 jez_1,
                                                                 jez_2, jez_3, seldon_flowers, eldream_flowers,
                                                                 interactables_eldream, pet_energy_window,
                                                                 ectrenos_front_enemies, necrola_battle_sprite,
                                                                 osodark_battle_sprite, sfx_item_pickup, sfx_talking,
                                                                 talk_start, stelli_battle_sprite, vanished,
                                                                 vanish_overlay, basic_fish_counter,
                                                                 better_fish_counter, even_better_fish_counter,
                                                                 best_fish_counter, apothis_gift, bandiles_highlighted,
                                                                 bandiles_reset, ore_highlighted, apothis_upgrade,
                                                                 time_of_day, kasper_unlocked, torok_unlocked,
                                                                 iriana_unlocked, kasper_battle_sprite,
                                                                 torok_battle_sprite, iriana_battle_sprite)

                    talk_start = mines_returned["talk_start"]
                    over_world_song_set = mines_returned["over_world_song_set"]
                    interacted = mines_returned["interacted"]
                    in_over_world = mines_returned["in_over_world"]
                    in_battle = mines_returned["in_battle"]
                    movement_able = mines_returned["movement_able"]
                    current_enemy_battling = mines_returned["current_enemy_battling"]
                    enemy_tic = mines_returned["enemy_tic"]
                    npc_tic = mines_returned["npc_tic"]
                    info_text_1 = mines_returned["info_text_1"]
                    info_text_2 = mines_returned["info_text_2"]
                    info_text_3 = mines_returned["info_text_3"]
                    info_text_4 = mines_returned["info_text_4"]
                    prime_1 = mines_returned["prime_1"]
                    prime_2 = mines_returned["prime_2"]
                    prime_3 = mines_returned["prime_3"]
                    jez_1 = mines_returned["jez_1"]
                    jez_2 = mines_returned["jez_2"]
                    jez_3 = mines_returned["jez_3"]
                    bandiles_highlighted = mines_returned["bandiles_highlighted"]
                    bandiles_reset = mines_returned["bandiles_reset"]
                    ore_highlighted = mines_returned["ore_highlighted"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in korlok forge -------------------------------------------------------------------------
                if player.current_zone == "forge" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        forge_returned = zone_forge.korlok_forge(pygame, screen, graphic_dict, player,
                                                                 korlok_forge_bg, korlok_overworld_music,
                                                                 over_world_song_set, interaction_popup, font,
                                                                 save_check_window, user_interface,
                                                                 bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                 button_highlighted, button_highlight,
                                                                 in_over_world, interacted, info_text_1,
                                                                 info_text_2, info_text_3, info_text_4, enemy_tic,
                                                                 npc_tic, in_battle, in_npc_interaction,
                                                                 movement_able, equipment_screen, staff, sword, bow,
                                                                 npc_garan, offense_meter, defense_meter,
                                                                 weapon_select, pet_energy_window, vanished,
                                                                 vanish_overlay, chroma_bridge_forge,
                                                                 forge_rect, Item, sfx_smelting, overlay_smelting,
                                                                 using_forge, smelted_casing, basic_fish_counter,
                                                                 better_fish_counter, even_better_fish_counter,
                                                                 best_fish_counter, item_block_11, item_block_11_got,
                                                                 sfx_item_block, kasper_unlocked, torok_unlocked,
                                                                 iriana_unlocked, apothis_upgrade, time_of_day,
                                                                 magmons)
                    else:
                        forge_returned = zone_forge.korlok_forge(pygame, game_window, graphic_dict, player,
                                                                 korlok_forge_bg, korlok_overworld_music,
                                                                 over_world_song_set, interaction_popup, font,
                                                                 save_check_window, user_interface,
                                                                 bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                 button_highlighted, button_highlight,
                                                                 in_over_world, interacted, info_text_1,
                                                                 info_text_2, info_text_3, info_text_4, enemy_tic,
                                                                 npc_tic, in_battle, in_npc_interaction,
                                                                 movement_able, equipment_screen, staff, sword, bow,
                                                                 npc_garan, offense_meter, defense_meter,
                                                                 weapon_select, pet_energy_window, vanished,
                                                                 vanish_overlay, chroma_bridge_forge,
                                                                 forge_rect, Item, sfx_smelting, overlay_smelting,
                                                                 using_forge, smelted_casing, basic_fish_counter,
                                                                 better_fish_counter, even_better_fish_counter,
                                                                 best_fish_counter, item_block_11, item_block_11_got,
                                                                 sfx_item_block, kasper_unlocked, torok_unlocked,
                                                                 iriana_unlocked, apothis_upgrade, time_of_day,
                                                                 magmons)

                    over_world_song_set = forge_returned["over_world_song_set"]
                    interacted = forge_returned["interacted"]
                    in_over_world = forge_returned["in_over_world"]
                    movement_able = forge_returned["movement_able"]
                    npc_tic = forge_returned["npc_tic"]
                    info_text_1 = forge_returned["info_text_1"]
                    info_text_2 = forge_returned["info_text_2"]
                    info_text_3 = forge_returned["info_text_3"]
                    info_text_4 = forge_returned["info_text_4"]
                    using_forge = forge_returned["using_forge"]
                    smelted_casing = forge_returned["smelted_casing"]
                    item_block_11_got = forge_returned["item_block_11_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in eldream altar ------------------------------------------------------------------------
                if player.current_zone == "altar" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        altar_returned = zone_altar.eldream_altar(pygame, screen, graphic_dict, player,
                                                                  eldream_altar_bg, eldream_building_music,
                                                                  over_world_song_set, interaction_popup, font,
                                                                  save_check_window, user_interface,
                                                                  bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                  button_highlighted, button_highlight,
                                                                  in_over_world, interacted, info_text_1,
                                                                  info_text_2, info_text_3, info_text_4, enemy_tic,
                                                                  npc_tic, in_battle, in_npc_interaction,
                                                                  movement_able, equipment_screen, staff, sword, bow,
                                                                  npc_garan, offense_meter, defense_meter,
                                                                  weapon_select, pet_energy_window, vanished,
                                                                  vanish_overlay, chroma_bridge_forge,
                                                                  forge_rect, Item, sfx_enchanting, overlay_enchanting,
                                                                  using_forge, enchanted_casing, artherian_2,
                                                                  task_star_artherian, basic_fish_counter,
                                                                  better_fish_counter, even_better_fish_counter,
                                                                  best_fish_counter, item_block_12, item_block_12_got, 
                                                                  sfx_item_block, kasper_unlocked, torok_unlocked, 
                                                                  iriana_unlocked, apothis_upgrade, smelted_casing)
                    else:
                        altar_returned = zone_altar.eldream_altar(pygame, game_window, graphic_dict, player,
                                                                  eldream_altar_bg, eldream_building_music,
                                                                  over_world_song_set, interaction_popup, font,
                                                                  save_check_window, user_interface,
                                                                  bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                  button_highlighted, button_highlight,
                                                                  in_over_world, interacted, info_text_1,
                                                                  info_text_2, info_text_3, info_text_4, enemy_tic,
                                                                  npc_tic, in_battle, in_npc_interaction,
                                                                  movement_able, equipment_screen, staff, sword, bow,
                                                                  npc_garan, offense_meter, defense_meter,
                                                                  weapon_select, pet_energy_window, vanished,
                                                                  vanish_overlay, chroma_bridge_forge,
                                                                  forge_rect, Item, sfx_enchanting, overlay_enchanting,
                                                                  using_forge, enchanted_casing, artherian_2,
                                                                  task_star_artherian, basic_fish_counter,
                                                                  better_fish_counter, even_better_fish_counter,
                                                                  best_fish_counter, item_block_12, item_block_12_got, 
                                                                  sfx_item_block, kasper_unlocked, torok_unlocked, 
                                                                  iriana_unlocked, apothis_upgrade, smelted_casing)

                    over_world_song_set = altar_returned["over_world_song_set"]
                    interacted = altar_returned["interacted"]
                    in_over_world = altar_returned["in_over_world"]
                    movement_able = altar_returned["movement_able"]
                    npc_tic = altar_returned["npc_tic"]
                    info_text_1 = altar_returned["info_text_1"]
                    info_text_2 = altar_returned["info_text_2"]
                    info_text_3 = altar_returned["info_text_3"]
                    info_text_4 = altar_returned["info_text_4"]
                    using_forge = altar_returned["using_forge"]
                    enchanted_casing = altar_returned["enchanted_casing"]
                    artherian_2 = altar_returned["artherian_2"]
                    item_block_12_got = altar_returned["item_block_12_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in terra trail --------------------------------------------------------------------------
                if player.current_zone == "terra trail" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        trail_returned = zone_terra_trail.terra_trail(pygame, screen, graphic_dict, player,
                                                                      terra_trail_bg, korlok_overworld_music,
                                                                      over_world_song_set, interaction_popup, font,
                                                                      save_check_window, user_interface, bar_backdrop,
                                                                      hp_bar, en_bar, xp_bar, button_highlighted,
                                                                      button_highlight, in_over_world, interacted,
                                                                      info_text_1, info_text_2, info_text_3,
                                                                      info_text_4,
                                                                      npc_tic, in_npc_interaction, in_battle,
                                                                      movement_able,
                                                                      current_enemy_battling,
                                                                      terra_mountains, terra_cave_enter, npc_dionte,
                                                                      quest_star_dionte, Enemy, player_battle_sprite,
                                                                      snake_battle_sprite, ghoul_battle_sprite,
                                                                      chorizon_battle_sprite, muchador_battle_sprite,
                                                                      magmon_battle_sprite, bandile_battle_sprite,
                                                                      chinzilla_battle_sprite, barrier_active,
                                                                      sharp_sense_active, current_npc_interacting,
                                                                      chinzilla,
                                                                      equipment_screen, staff, sword, bow, npc_garan,
                                                                      offense_meter, defense_meter, weapon_select,
                                                                      rock_7,
                                                                      rock_7_con, chinzilla_defeated, eldream_gate_rect,
                                                                      pet_energy_window, necrola_battle_sprite,
                                                                      osodark_battle_sprite, sfx_item_rupee,
                                                                      stelli_battle_sprite, apothis_dreth_music,
                                                                      dreth_scene_1, dreth_scene_2, dreth_scene_3,
                                                                      dreth_scene_4, dreth_scene_5, dreth_scene_6,
                                                                      dreth_scene_7, dreth_scene_8, skip_button,
                                                                      SCREEN_WIDTH, SCREEN_HEIGHT, game_window,
                                                                      dreth_cutscenes_not_viewed, dreth_scene_0,
                                                                      vanished, vanish_overlay, critter_terra,
                                                                      critter_right_move, critter_left_move,
                                                                      critter_tic, walk_move, basic_fish_counter,
                                                                      better_fish_counter, even_better_fish_counter,
                                                                      best_fish_counter, item_block_3, item_block_3_got,
                                                                      sfx_item_block, Item, sfx_gate_open,
                                                                      apothis_upgrade, rohir_gate, dawn, early_morning,
                                                                      morning, early_afternoon, afternoon, dusk, night,
                                                                      time_of_day, magmons, overlay_night_sleep,
                                                                      kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                      kasper_battle_sprite, torok_battle_sprite,
                                                                      iriana_battle_sprite, night_music)
                    else:
                        trail_returned = zone_terra_trail.terra_trail(pygame, game_window, graphic_dict, player,
                                                                      terra_trail_bg, korlok_overworld_music,
                                                                      over_world_song_set, interaction_popup, font,
                                                                      save_check_window, user_interface, bar_backdrop,
                                                                      hp_bar, en_bar, xp_bar, button_highlighted,
                                                                      button_highlight, in_over_world, interacted,
                                                                      info_text_1, info_text_2, info_text_3,
                                                                      info_text_4,
                                                                      npc_tic, in_npc_interaction, in_battle,
                                                                      movement_able,
                                                                      current_enemy_battling,
                                                                      terra_mountains, terra_cave_enter, npc_dionte,
                                                                      quest_star_dionte, Enemy, player_battle_sprite,
                                                                      snake_battle_sprite, ghoul_battle_sprite,
                                                                      chorizon_battle_sprite, muchador_battle_sprite,
                                                                      magmon_battle_sprite, bandile_battle_sprite,
                                                                      chinzilla_battle_sprite, barrier_active,
                                                                      sharp_sense_active, current_npc_interacting,
                                                                      chinzilla,
                                                                      equipment_screen, staff, sword, bow, npc_garan,
                                                                      offense_meter, defense_meter, weapon_select,
                                                                      rock_7,
                                                                      rock_7_con, chinzilla_defeated, eldream_gate_rect,
                                                                      pet_energy_window, necrola_battle_sprite,
                                                                      osodark_battle_sprite, sfx_item_rupee,
                                                                      stelli_battle_sprite, apothis_dreth_music,
                                                                      dreth_scene_1, dreth_scene_2, dreth_scene_3,
                                                                      dreth_scene_4, dreth_scene_5, dreth_scene_6,
                                                                      dreth_scene_7, dreth_scene_8, skip_button,
                                                                      SCREEN_WIDTH, SCREEN_HEIGHT, game_window,
                                                                      dreth_cutscenes_not_viewed, dreth_scene_0,
                                                                      vanished, vanish_overlay, critter_terra,
                                                                      critter_right_move, critter_left_move,
                                                                      critter_tic, walk_move, basic_fish_counter,
                                                                      better_fish_counter, even_better_fish_counter,
                                                                      best_fish_counter, item_block_3, item_block_3_got,
                                                                      sfx_item_block, Item, sfx_gate_open,
                                                                      apothis_upgrade, rohir_gate, dawn, early_morning,
                                                                      morning, early_afternoon, afternoon, dusk, night,
                                                                      time_of_day, magmons, overlay_night_sleep,
                                                                      kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                      kasper_battle_sprite, torok_battle_sprite,
                                                                      iriana_battle_sprite, night_music)

                    over_world_song_set = trail_returned["over_world_song_set"]
                    interacted = trail_returned["interacted"]
                    in_over_world = trail_returned["in_over_world"]
                    in_battle = trail_returned["in_battle"]
                    in_npc_interaction = trail_returned["in_npc_interaction"]
                    current_enemy_battling = trail_returned["current_enemy_battling"]
                    current_npc_interacting = trail_returned["current_npc_interacting"]
                    movement_able = trail_returned["movement_able"]
                    npc_tic = trail_returned["npc_tic"]
                    info_text_1 = trail_returned["info_text_1"]
                    info_text_2 = trail_returned["info_text_2"]
                    info_text_3 = trail_returned["info_text_3"]
                    info_text_4 = trail_returned["info_text_4"]
                    rock_7_con = trail_returned["rock_7_con"]
                    dreth_cutscenes_not_viewed = trail_returned["dreth_cutscenes_not_viewed"]
                    critter_right_move = trail_returned["right_move"]
                    critter_left_move = trail_returned["left_move"]
                    critter_tic = trail_returned["critter_tic"]
                    walk_move = trail_returned["walk_move"]
                    item_block_3_got = trail_returned["item_block_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in stardust outpost ---------------------------------------------------------------------
                if player.current_zone == "stardust" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        stardust_returned = zone_stardust.stardust_outpost(pygame, player, screen, over_world_song_set,
                                                                           stardust_outpost_music, stardust_cove_bg,
                                                                           nede_sprite_reset, nede, graphic_dict,
                                                                           ghoul_nede, nede_ghoul_defeated,
                                                                           interaction_popup, font, interacted,
                                                                           in_over_world, player_battle_sprite,
                                                                           snake_battle_sprite, ghoul_battle_sprite,
                                                                           chorizon_battle_sprite,
                                                                           muchador_battle_sprite,
                                                                           barrier_active, sharp_sense_active,
                                                                           in_npc_interaction, stardust_entrance,
                                                                           save_check_window, user_interface,
                                                                           bar_backdrop,
                                                                           hp_bar, en_bar, xp_bar, button_highlighted,
                                                                           button_highlight, npc_tic, info_text_1,
                                                                           info_text_2, info_text_3, info_text_4,
                                                                           current_enemy_battling,
                                                                           current_building_entering, in_battle,
                                                                           movement_able, in_shop, magmon_battle_sprite,
                                                                           bandile_battle_sprite,
                                                                           chinzilla_battle_sprite,
                                                                           equipment_screen, staff, sword, bow,
                                                                           npc_garan,
                                                                           offense_meter, defense_meter, weapon_select,
                                                                           rock_3, pet_energy_window, stardust_top,
                                                                           necrola_battle_sprite, osodark_battle_sprite,
                                                                           sfx_nede_bark, sfx_door_open, sfx_item_rupee,
                                                                           rock_3_con, outpost_show, outpost_notify,
                                                                           stardust_stelli, enemy_tic,
                                                                           stelli_battle_sprite, vanished,
                                                                           vanish_overlay, overlay_stardust_waterfall,
                                                                           level_checked, fishing_spot_stardust_1,
                                                                           fishing_spot_stardust_2, fishing, walk_tic,
                                                                           fishing_unlocked, fishing_timer, fish_caught,
                                                                           previous_surf, fishing_level,
                                                                           basic_fish_counter, better_fish_counter,
                                                                           even_better_fish_counter, best_fish_counter,
                                                                           sfx_fishing_cast, apothis_gift,
                                                                           stardust_card_cave, in_card_cave,
                                                                           apothis_upgrade, dawn, early_morning, 
                                                                           morning, early_afternoon, afternoon, dusk, 
                                                                           night, time_of_day, apothis_gift_popup,
                                                                           apothis_popup_shown, snakes, kasper_unlocked,
                                                                           torok_unlocked, iriana_unlocked,
                                                                           kasper_battle_sprite, torok_battle_sprite,
                                                                           iriana_battle_sprite, night_music)
                    else:
                        stardust_returned = zone_stardust.stardust_outpost(pygame, player, game_window,
                                                                           over_world_song_set, stardust_outpost_music,
                                                                           stardust_cove_bg, nede_sprite_reset, nede,
                                                                           graphic_dict, ghoul_nede,
                                                                           nede_ghoul_defeated, interaction_popup, font,
                                                                           interacted, in_over_world,
                                                                           player_battle_sprite,
                                                                           snake_battle_sprite, ghoul_battle_sprite,
                                                                           chorizon_battle_sprite,
                                                                           muchador_battle_sprite,
                                                                           barrier_active, sharp_sense_active,
                                                                           in_npc_interaction, stardust_entrance,
                                                                           save_check_window, user_interface,
                                                                           bar_backdrop,
                                                                           hp_bar, en_bar, xp_bar, button_highlighted,
                                                                           button_highlight, npc_tic, info_text_1,
                                                                           info_text_2, info_text_3, info_text_4,
                                                                           current_enemy_battling,
                                                                           current_building_entering, in_battle,
                                                                           movement_able, in_shop, magmon_battle_sprite,
                                                                           bandile_battle_sprite,
                                                                           chinzilla_battle_sprite,
                                                                           equipment_screen, staff, sword, bow,
                                                                           npc_garan,
                                                                           offense_meter, defense_meter, weapon_select,
                                                                           rock_3, pet_energy_window, stardust_top,
                                                                           necrola_battle_sprite, osodark_battle_sprite,
                                                                           sfx_nede_bark, sfx_door_open, sfx_item_rupee,
                                                                           rock_3_con, outpost_show, outpost_notify,
                                                                           stardust_stelli, enemy_tic,
                                                                           stelli_battle_sprite, vanished,
                                                                           vanish_overlay, overlay_stardust_waterfall,
                                                                           level_checked, fishing_spot_stardust_1,
                                                                           fishing_spot_stardust_2, fishing, walk_tic,
                                                                           fishing_unlocked, fishing_timer, fish_caught,
                                                                           previous_surf, fishing_level,
                                                                           basic_fish_counter, better_fish_counter,
                                                                           even_better_fish_counter, best_fish_counter,
                                                                           sfx_fishing_cast, apothis_gift,
                                                                           stardust_card_cave, in_card_cave,
                                                                           apothis_upgrade, dawn, early_morning, 
                                                                           morning, early_afternoon, afternoon, dusk, 
                                                                           night, time_of_day, apothis_gift_popup,
                                                                           apothis_popup_shown, snakes, kasper_unlocked,
                                                                           torok_unlocked, iriana_unlocked,
                                                                           kasper_battle_sprite, torok_battle_sprite,
                                                                           iriana_battle_sprite, night_music)

                    over_world_song_set = stardust_returned["stardust_song_set"]
                    nede_sprite_reset = stardust_returned["nede_sprite_reset"]
                    current_enemy_battling = stardust_returned["current_enemy_battling"]
                    in_battle = stardust_returned["in_battle"]
                    in_over_world = stardust_returned["in_over_world"]
                    info_text_1 = stardust_returned["info_text_1"]
                    info_text_2 = stardust_returned["info_text_2"]
                    info_text_3 = stardust_returned["info_text_3"]
                    info_text_4 = stardust_returned["info_text_4"]
                    movement_able = stardust_returned["movement_able"]
                    current_building_entering = stardust_returned["current_building_entering"]
                    in_shop = stardust_returned["in_shop"]
                    interacted = stardust_returned["interacted"]
                    npc_tic = stardust_returned["npc_tic"]
                    rock_3_con = stardust_returned["rock_3_con"]
                    outpost_show = stardust_returned["outpost_show"]
                    enemy_tic = stardust_returned["enemy_tic"]
                    level_checked = stardust_returned["level_checked"]
                    fishing = stardust_returned["fishing"]
                    fishing_timer = stardust_returned["fishing_timer"]
                    previous_surf = stardust_returned["previous_surf"]
                    fish_caught = stardust_returned["fish_caught"]
                    basic_fish_counter = stardust_returned["basic_fish_counter"]
                    better_fish_counter = stardust_returned["better_fish_counter"]
                    even_better_fish_counter = stardust_returned["even_better_fish_counter"]
                    best_fish_counter = stardust_returned["best_fish_counter"]
                    in_card_cave = stardust_returned["in_card_cave"]
                    apothis_popup_shown = stardust_returned["apothis_popup_shown"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in rohir river (after apothis cutscene) -------------------------------------------------
                if player.current_zone == "rohir" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        rohir_returned = zone_rohir.rohir_river(pygame, screen, player, over_world_song_set,
                                                                rohir_river_bg,
                                                                dungeon_entrance, water_1, water_2, water_3, water_4,
                                                                water_5, water_player, graphic_dict, save_check_window,
                                                                user_interface, bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                font,
                                                                info_text_1, info_text_2, info_text_3, info_text_4,
                                                                in_over_world, button_highlighted, button_highlight,
                                                                rohir_river_music, interaction_popup, interacted,
                                                                equipment_screen, staff, sword, bow, npc_garan,
                                                                offense_meter, defense_meter, weapon_select,
                                                                beyond_seldon, pet_energy_window, basic_fish_counter,
                                                                better_fish_counter, even_better_fish_counter,
                                                                best_fish_counter, item_block_1, item_block_1_got,
                                                                Item, sfx_item_block, dungeon_teleporter,
                                                                apothis_upgrade, dawn, early_morning, morning,
                                                                early_afternoon, afternoon, dusk, night, time_of_day)
                    else:
                        rohir_returned = zone_rohir.rohir_river(pygame, game_window, player, over_world_song_set,
                                                                rohir_river_bg,
                                                                dungeon_entrance, water_1, water_2, water_3, water_4,
                                                                water_5, water_player, graphic_dict, save_check_window,
                                                                user_interface, bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                font,
                                                                info_text_1, info_text_2, info_text_3, info_text_4,
                                                                in_over_world, button_highlighted, button_highlight,
                                                                rohir_river_music, interaction_popup, interacted,
                                                                equipment_screen, staff, sword, bow, npc_garan,
                                                                offense_meter, defense_meter, weapon_select,
                                                                beyond_seldon, pet_energy_window, basic_fish_counter,
                                                                better_fish_counter, even_better_fish_counter,
                                                                best_fish_counter, item_block_1, item_block_1_got,
                                                                Item, sfx_item_block, dungeon_teleporter,
                                                                apothis_upgrade, dawn, early_morning, morning,
                                                                early_afternoon, afternoon, dusk, night, time_of_day)

                    over_world_song_set = rohir_returned["over_world_song_set"]
                    info_text_1 = rohir_returned["info_text_1"]
                    info_text_2 = rohir_returned["info_text_2"]
                    info_text_3 = rohir_returned["info_text_3"]
                    info_text_4 = rohir_returned["info_text_4"]
                    in_over_world = rohir_returned["in_over_world"]
                    interacted = rohir_returned["interacted"]
                    beyond_seldon = rohir_returned["beyond seldon"]
                    item_block_1_got = rohir_returned["item_block_1_got"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in first dungeon, first floor -----------------------------------------------------------
                if player.current_zone == "reservoir a" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        reservoir_a_returned = zone_reservoir.reservoir_a(pygame, screen, SCREEN_HEIGHT, graphic_dict,
                                                                          player, reservoir_a_bg, reservoir_music,
                                                                          over_world_song_set, interaction_popup, font,
                                                                          save_check_window, user_interface,
                                                                          loot_popup_container, loot_text_container,
                                                                          bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                          button_highlighted, button_highlight,
                                                                          in_over_world, interacted, info_text_1,
                                                                          info_text_2, info_text_3, info_text_4,
                                                                          switch_1,
                                                                          dungeon_switch_1, switch_2, dungeon_switch_2,
                                                                          switch_3, dungeon_switch_3, dungeon_walls,
                                                                          dungeon_items, dungeon_teleporter,
                                                                          mini_boss_1,
                                                                          dungeon_drop_wall, chorizon_1, mini_boss_2,
                                                                          chorizon_2, crate_1, Item, crate_2, crate_3,
                                                                          crate_4, mini_boss_1_defeated,
                                                                          mini_boss_2_defeated, boss_enemies,
                                                                          player_battle_sprite, snake_battle_sprite,
                                                                          ghoul_battle_sprite, chorizon_battle_sprite,
                                                                          muchador_battle_sprite, barrier_active,
                                                                          sharp_sense_active, in_npc_interaction,
                                                                          magmon_battle_sprite, bandile_battle_sprite,
                                                                          chinzilla_battle_sprite, equipment_screen,
                                                                          staff,
                                                                          sword, bow, npc_garan, offense_meter,
                                                                          defense_meter, weapon_select,
                                                                          pet_energy_window,
                                                                          necrola_battle_sprite, osodark_battle_sprite,
                                                                          sfx_item_rupee, sfx_item_key, sfx_item_potion,
                                                                          sfx_activate_switch, sfx_activate_teleporter,
                                                                          stelli_battle_sprite, chorizon_phase,
                                                                          vanished, vanish_overlay, basic_fish_counter,
                                                                          better_fish_counter, even_better_fish_counter,
                                                                          best_fish_counter, sfx_sheet_paper,
                                                                          apothis_upgrade, time_of_day, kasper_unlocked,
                                                                          torok_unlocked, iriana_unlocked,
                                                                          kasper_battle_sprite, torok_battle_sprite,
                                                                          iriana_battle_sprite)
                    else:
                        reservoir_a_returned = zone_reservoir.reservoir_a(pygame, game_window, SCREEN_HEIGHT,
                                                                          graphic_dict,
                                                                          player, reservoir_a_bg, reservoir_music,
                                                                          over_world_song_set, interaction_popup, font,
                                                                          save_check_window, user_interface,
                                                                          loot_popup_container, loot_text_container,
                                                                          bar_backdrop, hp_bar, en_bar, xp_bar,
                                                                          button_highlighted, button_highlight,
                                                                          in_over_world, interacted, info_text_1,
                                                                          info_text_2, info_text_3, info_text_4,
                                                                          switch_1,
                                                                          dungeon_switch_1, switch_2, dungeon_switch_2,
                                                                          switch_3, dungeon_switch_3, dungeon_walls,
                                                                          dungeon_items, dungeon_teleporter,
                                                                          mini_boss_1,
                                                                          dungeon_drop_wall, chorizon_1, mini_boss_2,
                                                                          chorizon_2, crate_1, Item, crate_2, crate_3,
                                                                          crate_4, mini_boss_1_defeated,
                                                                          mini_boss_2_defeated, boss_enemies,
                                                                          player_battle_sprite, snake_battle_sprite,
                                                                          ghoul_battle_sprite, chorizon_battle_sprite,
                                                                          muchador_battle_sprite, barrier_active,
                                                                          sharp_sense_active, in_npc_interaction,
                                                                          magmon_battle_sprite, bandile_battle_sprite,
                                                                          chinzilla_battle_sprite, equipment_screen,
                                                                          staff,
                                                                          sword, bow, npc_garan, offense_meter,
                                                                          defense_meter, weapon_select,
                                                                          pet_energy_window,
                                                                          necrola_battle_sprite, osodark_battle_sprite,
                                                                          sfx_item_rupee, sfx_item_key, sfx_item_potion,
                                                                          sfx_activate_switch, sfx_activate_teleporter,
                                                                          stelli_battle_sprite, chorizon_phase,
                                                                          vanished, vanish_overlay,
                                                                          basic_fish_counter, better_fish_counter,
                                                                          even_better_fish_counter, best_fish_counter,
                                                                          sfx_sheet_paper, apothis_upgrade, time_of_day,
                                                                          kasper_unlocked, torok_unlocked,
                                                                          iriana_unlocked, kasper_battle_sprite,
                                                                          torok_battle_sprite, iriana_battle_sprite)

                    over_world_song_set = reservoir_a_returned["over_world_song_set"]
                    interacted = reservoir_a_returned["interacted"]
                    info_text_1 = reservoir_a_returned["info_text_1"]
                    info_text_2 = reservoir_a_returned["info_text_2"]
                    crate_1 = reservoir_a_returned["crate_1"]
                    crate_2 = reservoir_a_returned["crate_2"]
                    crate_3 = reservoir_a_returned["crate_3"]
                    crate_4 = reservoir_a_returned["crate_4"]
                    switch_1 = reservoir_a_returned["switch_1"]
                    switch_2 = reservoir_a_returned["switch_2"]
                    switch_3 = reservoir_a_returned["switch_3"]
                    mini_boss_1 = reservoir_a_returned["mini_boss_1"]
                    mini_boss_2 = reservoir_a_returned["mini_boss_2"]
                    current_enemy_battling = reservoir_a_returned["current_enemy_battling"]
                    in_over_world = reservoir_a_returned["in_over_world"]
                    in_battle = reservoir_a_returned["in_battle"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in first dungeon, second floor ----------------------------------------------------------
                if player.current_zone == "reservoir b" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        reservoir_b_returned = zone_reservoir.reservoir_b(pygame, player, screen, graphic_dict,
                                                                          over_world_song_set, reservoir_music,
                                                                          dungeon_teleporter, reservoir_b_bg,
                                                                          dungeon_gate,
                                                                          crate_5, dungeon_crate_5, muchador_lights_on,
                                                                          muchador_arena, muchador_defeated, muchador,
                                                                          muchador_crate_1, muchador_crate_2,
                                                                          muchador_crate_3, muchador_crate_4,
                                                                          reservoir_passage, interaction_popup,
                                                                          font, interacted, SCREEN_WIDTH,
                                                                          save_check_window,
                                                                          player_battle_sprite, snake_battle_sprite,
                                                                          ghoul_battle_sprite, chorizon_battle_sprite,
                                                                          muchador_battle_sprite, barrier_active,
                                                                          sharp_sense_active, in_npc_interaction,
                                                                          user_interface, bar_backdrop, hp_bar, en_bar,
                                                                          xp_bar, button_highlighted, button_highlight,
                                                                          info_text_1, info_text_2, info_text_3,
                                                                          info_text_4, in_over_world, switch_1,
                                                                          switch_2,
                                                                          switch_3, has_key, magmon_battle_sprite,
                                                                          bandile_battle_sprite,
                                                                          chinzilla_battle_sprite,
                                                                          equipment_screen, staff, sword, bow,
                                                                          npc_garan,
                                                                          offense_meter, defense_meter, weapon_select,
                                                                          pet_energy_window, necrola_battle_sprite,
                                                                          osodark_battle_sprite,
                                                                          sfx_activate_teleporter,
                                                                          sfx_item_rupee, sfx_gate_open,
                                                                          directional_arrow, stelli_battle_sprite,
                                                                          vanished, vanish_overlay, sfx_item_potion,
                                                                          Item, basic_fish_counter, better_fish_counter,
                                                                          even_better_fish_counter, best_fish_counter,
                                                                          apothis_gift, muchador_crate_1_top,
                                                                          muchador_crate_2_top, muchador_crate_3_top,
                                                                          muchador_crate_4_top, apothis_upgrade,
                                                                          time_of_day, kasper_unlocked, torok_unlocked,
                                                                          iriana_unlocked, kasper_battle_sprite,
                                                                          torok_battle_sprite, iriana_battle_sprite)
                    else:
                        reservoir_b_returned = zone_reservoir.reservoir_b(pygame, player, game_window, graphic_dict,
                                                                          over_world_song_set, reservoir_music,
                                                                          dungeon_teleporter, reservoir_b_bg,
                                                                          dungeon_gate,
                                                                          crate_5, dungeon_crate_5, muchador_lights_on,
                                                                          muchador_arena, muchador_defeated, muchador,
                                                                          muchador_crate_1, muchador_crate_2,
                                                                          muchador_crate_3, muchador_crate_4,
                                                                          reservoir_passage, interaction_popup,
                                                                          font, interacted, SCREEN_WIDTH,
                                                                          save_check_window,
                                                                          player_battle_sprite, snake_battle_sprite,
                                                                          ghoul_battle_sprite, chorizon_battle_sprite,
                                                                          muchador_battle_sprite, barrier_active,
                                                                          sharp_sense_active, in_npc_interaction,
                                                                          user_interface, bar_backdrop, hp_bar, en_bar,
                                                                          xp_bar, button_highlighted, button_highlight,
                                                                          info_text_1, info_text_2, info_text_3,
                                                                          info_text_4, in_over_world, switch_1,
                                                                          switch_2,
                                                                          switch_3, has_key, magmon_battle_sprite,
                                                                          bandile_battle_sprite,
                                                                          chinzilla_battle_sprite,
                                                                          equipment_screen, staff, sword, bow,
                                                                          npc_garan,
                                                                          offense_meter, defense_meter, weapon_select,
                                                                          pet_energy_window, necrola_battle_sprite,
                                                                          osodark_battle_sprite,
                                                                          sfx_activate_teleporter,
                                                                          sfx_item_rupee, sfx_gate_open,
                                                                          directional_arrow, stelli_battle_sprite,
                                                                          vanished, vanish_overlay, sfx_item_potion,
                                                                          Item, basic_fish_counter, better_fish_counter,
                                                                          even_better_fish_counter, best_fish_counter,
                                                                          apothis_gift, muchador_crate_1_top,
                                                                          muchador_crate_2_top, muchador_crate_3_top,
                                                                          muchador_crate_4_top, apothis_upgrade,
                                                                          time_of_day, kasper_unlocked,
                                                                          torok_unlocked, iriana_unlocked,
                                                                          kasper_battle_sprite, torok_battle_sprite,
                                                                          iriana_battle_sprite)

                    over_world_song_set = reservoir_b_returned["over_world_song_set"]
                    interacted = reservoir_b_returned["interacted"]
                    info_text_1 = reservoir_b_returned["info_text_1"]
                    info_text_2 = reservoir_b_returned["info_text_2"]
                    muchador_lights_on = reservoir_b_returned["muchador_lights_on"]
                    switch_1 = reservoir_b_returned["switch_1"]
                    switch_2 = reservoir_b_returned["switch_2"]
                    switch_3 = reservoir_b_returned["switch_3"]
                    crate_5 = reservoir_b_returned["crate_5"]
                    current_enemy_battling = reservoir_b_returned["current_enemy_battling"]
                    in_over_world = reservoir_b_returned["in_over_world"]
                    in_battle = reservoir_b_returned["in_battle"]
                    has_key = reservoir_b_returned["has_key"]

                # ------------------------------------------------------------------------------------------------------
                # if player is in first dungeon, third floor -----------------------------------------------------------
                if player.current_zone == "reservoir c" and in_over_world and not in_shop and not in_inn \
                        and not in_academia and not in_battle and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        reservoir_c_returned = zone_reservoir.reservoir_c(pygame, player, screen, graphic_dict,
                                                                          over_world_song_set, reservoir_music,
                                                                          interaction_popup, font, interacted,
                                                                          save_check_window, user_interface,
                                                                          bar_backdrop,
                                                                          hp_bar, en_bar, xp_bar, button_highlighted,
                                                                          button_highlight, reservoir_c_bg,
                                                                          dungeon_chest,
                                                                          reservoir_exit, rock_1, rock_2,
                                                                          gloves_obtained,
                                                                          power_gloves, info_text_1, info_text_2,
                                                                          info_text_3, info_text_4, in_over_world,
                                                                          has_key,
                                                                          muchador_lights_on,
                                                                          equipment_screen, staff, sword, bow,
                                                                          npc_garan,
                                                                          offense_meter, defense_meter, weapon_select,
                                                                          pet_energy_window, sfx_chest_open,
                                                                          sfx_rock_push, basic_fish_counter,
                                                                          better_fish_counter, even_better_fish_counter,
                                                                          best_fish_counter, rohir_gate,
                                                                          apothis_upgrade, dungeon_teleporter, 
                                                                          time_of_day, magmons)
                    else:
                        reservoir_c_returned = zone_reservoir.reservoir_c(pygame, player, game_window, graphic_dict,
                                                                          over_world_song_set, reservoir_music,
                                                                          interaction_popup, font, interacted,
                                                                          save_check_window, user_interface,
                                                                          bar_backdrop,
                                                                          hp_bar, en_bar, xp_bar, button_highlighted,
                                                                          button_highlight, reservoir_c_bg,
                                                                          dungeon_chest,
                                                                          reservoir_exit, rock_1, rock_2,
                                                                          gloves_obtained,
                                                                          power_gloves, info_text_1, info_text_2,
                                                                          info_text_3, info_text_4, in_over_world,
                                                                          has_key,
                                                                          muchador_lights_on,
                                                                          equipment_screen, staff, sword, bow,
                                                                          npc_garan,
                                                                          offense_meter, defense_meter, weapon_select,
                                                                          pet_energy_window, sfx_chest_open,
                                                                          sfx_rock_push, basic_fish_counter,
                                                                          better_fish_counter, even_better_fish_counter,
                                                                          best_fish_counter, rohir_gate,
                                                                          apothis_upgrade, dungeon_teleporter, 
                                                                          time_of_day, magmons)

                    over_world_song_set = reservoir_c_returned["over_world_song_set"]
                    interacted = reservoir_c_returned["interacted"]
                    muchador_lights_on = reservoir_c_returned["muchador_lights_on"]
                    gloves_obtained = reservoir_c_returned["gloves_obtained"]
                    has_key = reservoir_c_returned["has_key"]
                    info_text_1 = reservoir_c_returned["info_text_1"]
                    info_text_2 = reservoir_c_returned["info_text_2"]
                    info_text_3 = reservoir_c_returned["info_text_3"]
                    info_text_4 = reservoir_c_returned["info_text_4"]

                # ------------------------------------------------------------------------------------------------------
                if in_over_world and not in_battle and not in_shop and not in_inn and not in_academia \
                        and not in_npc_interaction:

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720 and player.current_zone != "nascent":
                        screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                        screen.blit(hp_bar.surf, hp_bar.rect)
                        screen.blit(en_bar.surf, en_bar.rect)
                        screen.blit(xp_bar.surf, xp_bar.rect)
                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                        screen.blit(offense_meter.surf, offense_meter.rect)
                        screen.blit(defense_meter.surf, defense_meter.rect)

                        for save_window in save_check_window:
                            screen.blit(save_window.surf, save_window.rect)
                        for ui_elements in user_interface:
                            if len(drawing_functions.item_info_window) != 0:
                                if ui_elements.name != "star power":
                                    screen.blit(ui_elements.surf, ui_elements.rect)
                            else:
                                if len(drawing_functions.game_guide_container) != 0:
                                    if ui_elements.name != "location overlay" and ui_elements.name != "map button" \
                                            and ui_elements.name != "save button":
                                        screen.blit(ui_elements.surf, ui_elements.rect)
                                else:
                                    screen.blit(ui_elements.surf, ui_elements.rect)
                        if len(drawing_functions.loot_popup_container) > 0 and not vanished:
                            for popup in drawing_functions.loot_popup_container:
                                screen.blit(popup.surf, popup.rect)
                        if len(drawing_functions.loot_text_container) > 0 and not vanished:
                            for loot_text in drawing_functions.loot_text_container:
                                screen.blit(loot_text[0], loot_text[1])
                        try:
                            for pet in player.pet:
                                if pet.active:
                                    screen.blit(pet_energy_window.surf, pet_energy_window.rect)
                                    pet_energy_surf = font.render(str(pet.energy), True, "dark green", "light yellow")
                                    if player.x_coordinate < 420 and player.y_coordinate < 150:
                                        pet_energy_surf.set_alpha(50)
                                    pet_energy_rect = pet_energy_surf.get_rect()
                                    pet_energy_rect.midleft = (342, 57)
                                    screen.blit(pet_energy_surf, pet_energy_rect)
                                    pet_xp_surf = font.render(str(pet.experience), True, "purple", "light yellow")
                                    if player.x_coordinate < 420 and player.y_coordinate < 150:
                                        pet_xp_surf.set_alpha(50)
                                    pet_xp_rect = pet_xp_surf.get_rect()
                                    pet_xp_rect.midleft = (390, 57)
                                    screen.blit(pet_xp_surf, pet_xp_rect)
                        except AttributeError:
                            pass

                        drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan, weapon_select,
                                                      apothis_upgrade)
                        drawing_functions.draw_level_up(screen, in_over_world)

                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2, info_text_3,
                                                         info_text_4, in_over_world, basic_fish_counter,
                                                         better_fish_counter, even_better_fish_counter,
                                                         best_fish_counter)
                        drawing_functions.draw_it(screen, in_battle)

                    else:
                        if player.current_zone != "nascent":
                            game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                            game_window.blit(hp_bar.surf, hp_bar.rect)
                            game_window.blit(en_bar.surf, en_bar.rect)
                            game_window.blit(xp_bar.surf, xp_bar.rect)
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)

                            for save_window in save_check_window:
                                game_window.blit(save_window.surf, save_window.rect)
                            for ui_elements in user_interface:
                                if len(drawing_functions.item_info_window) != 0:
                                    if ui_elements.name != "star power":
                                        game_window.blit(ui_elements.surf, ui_elements.rect)
                                else:
                                    if len(drawing_functions.game_guide_container) != 0:
                                        if ui_elements.name != "location overlay" and ui_elements.name != "map button" \
                                                and ui_elements.name != "save button":
                                            game_window.blit(ui_elements.surf, ui_elements.rect)
                                    else:
                                        game_window.blit(ui_elements.surf, ui_elements.rect)
                            if len(drawing_functions.loot_popup_container) > 0 and not vanished:
                                for popup in drawing_functions.loot_popup_container:
                                    game_window.blit(popup.surf, popup.rect)
                            if len(drawing_functions.loot_text_container) > 0 and not vanished:
                                for loot_text in drawing_functions.loot_text_container:
                                    game_window.blit(loot_text[0], loot_text[1])
                            try:
                                for pet in player.pet:
                                    if pet.active:
                                        game_window.blit(pet_energy_window.surf, pet_energy_window.rect)
                                        pet_energy_surf = font.render(str(pet.energy), True, "dark green",
                                                                      "light yellow")
                                        if player.x_coordinate < 420 and player.y_coordinate < 150:
                                            pet_energy_surf.set_alpha(50)
                                        pet_energy_rect = pet_energy_surf.get_rect()
                                        pet_energy_rect.midleft = (342, 57)
                                        game_window.blit(pet_energy_surf, pet_energy_rect)
                                        pet_xp_surf = font.render(str(pet.experience), True, "purple", "light yellow")
                                        if player.x_coordinate < 420 and player.y_coordinate < 150:
                                            pet_xp_surf.set_alpha(50)
                                        pet_xp_rect = pet_xp_surf.get_rect()
                                        pet_xp_rect.midleft = (390, 57)
                                        game_window.blit(pet_xp_surf, pet_xp_rect)
                            except AttributeError:
                                pass

                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            drawing_functions.draw_level_up(game_window, in_over_world)

                            # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world, basic_fish_counter,
                                                             better_fish_counter, even_better_fish_counter,
                                                             best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                    if dreth_defeated and not credits_shown:
                        cutscene_tic = time.perf_counter()
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            cutscenes.cutscenes_credits(pygame, credit_music, screen, credit_scene_1, credit_scene_2,
                                                        credit_scene_3, credit_scene_4, credit_scene_5, cutscene_tic,
                                                        SCREEN_WIDTH, SCREEN_HEIGHT, game_window)
                        else:
                            cutscenes.cutscenes_credits(pygame, credit_music, screen, credit_scene_1, credit_scene_2,
                                                        credit_scene_3, credit_scene_4, credit_scene_5, cutscene_tic,
                                                        SCREEN_WIDTH, SCREEN_HEIGHT, game_window)
                        credits_shown = True
                        over_world_song_set = False
                        player.current_zone = "seldon"
                        player.x_coordinate = 860
                        player.y_coordinate = 655
                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))

                    # fishing popup in areas that have fishing spots
                    if (player.current_zone == "fishing hut" or player.current_zone == "stardust"
                            or player.current_zone == "fishing alcove" or player.current_zone == "caldera"):
                        if fish_caught:
                            if not catch_played:
                                pygame.mixer.find_channel(True).play(sfx_fishing_catch)
                                pygame.mixer.find_channel(True).play(sfx_fishing_splash)
                                catch_played = True
                            if player.current_zone == "fishing hut":
                                fishing_popup.update(510, 365, graphic_dict["basic_fish_popup"])
                            elif player.current_zone == "stardust":
                                fishing_popup.update(510, 365, graphic_dict["better_fish_popup"])
                            elif player.current_zone == "fishing alcove":
                                fishing_popup.update(510, 365, graphic_dict["best_fish_popup"])
                            elif player.current_zone == "caldera":
                                fishing_popup.update(510, 365, graphic_dict["very_best_fish_popup"])
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(fishing_popup.surf, fishing_popup.rect)
                            else:
                                game_window.blit(fishing_popup.surf, fishing_popup.rect)
                        else:
                            catch_played = False

                    if level_visual:
                        level_up_visual.update(player.x_coordinate + 2, player.y_coordinate - 32,
                                               graphic_dict["level_up_vis"])
                        if not level_visual_insert and len(drawing_functions.loot_popup_container) == 0:
                            drawing_functions.level_up_visual.insert(0, level_up_visual)
                            level_visual_insert = True

                        level_visual_toc = time.perf_counter()
                        if level_visual_toc - level_visual_tic > 2:
                            level_visual = False
                            drawing_functions.level_up_visual.clear()
                            level_visual_insert = False

                    if fireworking:
                        firework_toc = time.perf_counter()
                        if firework_toc - firework_tic < 3:
                            if firework_type == "seldon":
                                if firework_toc - firework_tic < 0.025:
                                    overlay_seldon_fireworks.update(player.x_coordinate - 25, player.y_coordinate - 150,
                                                                    graphic_dict["seldon_fireworks_1"])
                                if firework_toc - firework_tic > 0.5:
                                    overlay_seldon_fireworks.update(overlay_seldon_fireworks.x_coordinate,
                                                                    overlay_seldon_fireworks.y_coordinate,
                                                                    graphic_dict["seldon_fireworks_2"])
                                if firework_toc - firework_tic > 1:
                                    overlay_seldon_fireworks.update(overlay_seldon_fireworks.x_coordinate,
                                                                    overlay_seldon_fireworks.y_coordinate,
                                                                    graphic_dict["seldon_fireworks_3"])
                                if firework_toc - firework_tic > 1.5:
                                    overlay_seldon_fireworks.update(overlay_seldon_fireworks.x_coordinate,
                                                                    overlay_seldon_fireworks.y_coordinate,
                                                                    graphic_dict["seldon_fireworks_4"])
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_seldon_fireworks.surf, overlay_seldon_fireworks.rect)
                                else:
                                    game_window.blit(overlay_seldon_fireworks.surf, overlay_seldon_fireworks.rect)

                            if firework_type == "korlok":
                                if firework_toc - firework_tic < 0.025:
                                    overlay_seldon_fireworks.update(player.x_coordinate - 25, player.y_coordinate - 150,
                                                                    graphic_dict["korlok_fireworks_1"])
                                if firework_toc - firework_tic > 0.5:
                                    overlay_seldon_fireworks.update(overlay_seldon_fireworks.x_coordinate,
                                                                    overlay_seldon_fireworks.y_coordinate,
                                                                    graphic_dict["korlok_fireworks_2"])
                                if firework_toc - firework_tic > 1:
                                    overlay_seldon_fireworks.update(overlay_seldon_fireworks.x_coordinate,
                                                                    overlay_seldon_fireworks.y_coordinate,
                                                                    graphic_dict["korlok_fireworks_3"])
                                if firework_toc - firework_tic > 1.5:
                                    overlay_seldon_fireworks.update(overlay_seldon_fireworks.x_coordinate,
                                                                    overlay_seldon_fireworks.y_coordinate,
                                                                    graphic_dict["korlok_fireworks_4"])
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_seldon_fireworks.surf, overlay_seldon_fireworks.rect)
                                else:
                                    game_window.blit(overlay_seldon_fireworks.surf, overlay_seldon_fireworks.rect)

                            if firework_type == "eldream":
                                if firework_toc - firework_tic < 0.025:
                                    overlay_seldon_fireworks.update(player.x_coordinate - 25, player.y_coordinate - 150,
                                                                    graphic_dict["eldream_fireworks_1"])
                                if firework_toc - firework_tic > 0.5:
                                    overlay_seldon_fireworks.update(overlay_seldon_fireworks.x_coordinate,
                                                                    overlay_seldon_fireworks.y_coordinate,
                                                                    graphic_dict["eldream_fireworks_2"])
                                if firework_toc - firework_tic > 1:
                                    overlay_seldon_fireworks.update(overlay_seldon_fireworks.x_coordinate,
                                                                    overlay_seldon_fireworks.y_coordinate,
                                                                    graphic_dict["eldream_fireworks_3"])
                                if firework_toc - firework_tic > 1.5:
                                    overlay_seldon_fireworks.update(overlay_seldon_fireworks.x_coordinate,
                                                                    overlay_seldon_fireworks.y_coordinate,
                                                                    graphic_dict["eldream_fireworks_4"])
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_seldon_fireworks.surf, overlay_seldon_fireworks.rect)
                                else:
                                    game_window.blit(overlay_seldon_fireworks.surf, overlay_seldon_fireworks.rect)

                    # music button visual toggle
                    if player.current_zone != "nascent":
                        if len(drawing_functions.game_guide_container) == 0:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(music_toggle_button.surf, music_toggle_button.rect)
                            else:
                                game_window.blit(music_toggle_button.surf, music_toggle_button.rect)

                    if trading_deck and not card_popup_checked:
                        if card_deck["snake_popup"]:
                            card_drop_popup.update(card_drop_popup.x_coordinate, card_drop_popup.y_coordinate,
                                                   graphic_dict["c_snake_popup"])
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(card_drop_popup.surf, card_drop_popup.rect)
                            else:
                                game_window.blit(card_drop_popup.surf, card_drop_popup.rect)
                            if not card_drop_played:
                                pygame.mixer.find_channel(True).play(sfx_card_drop)
                                card_drop_played = True
                        if card_deck["ghoul_popup"]:
                            card_drop_popup.update(card_drop_popup.x_coordinate, card_drop_popup.y_coordinate,
                                                   graphic_dict["c_ghoul_popup"])
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(card_drop_popup.surf, card_drop_popup.rect)
                            else:
                                game_window.blit(card_drop_popup.surf, card_drop_popup.rect)
                            if not card_drop_played:
                                pygame.mixer.find_channel(True).play(sfx_card_drop)
                                card_drop_played = True
                        if card_deck["bandile_popup"]:
                            card_drop_popup.update(card_drop_popup.x_coordinate, card_drop_popup.y_coordinate,
                                                   graphic_dict["c_bandile_popup"])
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(card_drop_popup.surf, card_drop_popup.rect)
                            else:
                                game_window.blit(card_drop_popup.surf, card_drop_popup.rect)
                            if not card_drop_played:
                                pygame.mixer.find_channel(True).play(sfx_card_drop)
                                card_drop_played = True
                        if card_deck["magmon_popup"]:
                            card_drop_popup.update(card_drop_popup.x_coordinate, card_drop_popup.y_coordinate,
                                                   graphic_dict["c_magmon_popup"])
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(card_drop_popup.surf, card_drop_popup.rect)
                            else:
                                game_window.blit(card_drop_popup.surf, card_drop_popup.rect)
                            if not card_drop_played:
                                pygame.mixer.find_channel(True).play(sfx_card_drop)
                                card_drop_played = True
                        if card_deck["necrola_popup"]:
                            card_drop_popup.update(card_drop_popup.x_coordinate, card_drop_popup.y_coordinate,
                                                   graphic_dict["b_necrola_popup"])
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(card_drop_popup.surf, card_drop_popup.rect)
                            else:
                                game_window.blit(card_drop_popup.surf, card_drop_popup.rect)
                            if not card_drop_played:
                                pygame.mixer.find_channel(True).play(sfx_card_drop)
                                card_drop_played = True
                        if card_deck["osodark_popup"]:
                            card_drop_popup.update(card_drop_popup.x_coordinate, card_drop_popup.y_coordinate,
                                                   graphic_dict["b_osodark_popup"])
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(card_drop_popup.surf, card_drop_popup.rect)
                            else:
                                game_window.blit(card_drop_popup.surf, card_drop_popup.rect)
                            if not card_drop_played:
                                pygame.mixer.find_channel(True).play(sfx_card_drop)
                                card_drop_played = True
                        if card_deck["atmon_popup"]:
                            card_drop_popup.update(card_drop_popup.x_coordinate, card_drop_popup.y_coordinate,
                                                   graphic_dict["b_atmon_popup"])
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(card_drop_popup.surf, card_drop_popup.rect)
                            else:
                                game_window.blit(card_drop_popup.surf, card_drop_popup.rect)
                            if not card_drop_played:
                                pygame.mixer.find_channel(True).play(sfx_card_drop)
                                card_drop_played = True
                        if card_deck["jumano_popup"]:
                            card_drop_popup.update(card_drop_popup.x_coordinate, card_drop_popup.y_coordinate,
                                                   graphic_dict["b_jumano_popup"])
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(card_drop_popup.surf, card_drop_popup.rect)
                            else:
                                game_window.blit(card_drop_popup.surf, card_drop_popup.rect)
                            if not card_drop_played:
                                pygame.mixer.find_channel(True).play(sfx_card_drop)
                                card_drop_played = True

                    # cat card or trade deck was clicked on, can be shown almost anywhere
                    if show_cat_card:
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(cat_card_portrait, (60, 105))
                        else:
                            game_window.blit(cat_card_portrait, (60, 105))
                    if show_trade_deck:
                        render_card_deck()

                    if button_highlighted and player.current_zone != "nascent":
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(button_highlight.surf, button_highlight.rect)
                        else:
                            game_window.blit(button_highlight.surf, button_highlight.rect)

                    if len(drawing_functions.level_up_window) == 0 and player.current_zone != "nascent":
                        if burned:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_burned.surf, overlay_burned.rect)
                            else:
                                game_window.blit(overlay_burned.surf, overlay_burned.rect)
                        if poisoned:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                            else:
                                game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                        if bleeding:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                            else:
                                game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                        if crushed:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                            else:
                                game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                # ------------------------------------------------------------------------------------------------------
                # if player is in battle -------------------------------------------------------------------------------
                if in_battle and not in_over_world and not in_shop and not in_inn and not in_academia \
                        and not in_npc_interaction:

                    if on_card_quest:
                        card_counted = False

                    if player.current_zone == "korlok":
                        snow_fall_toc = time.perf_counter()
                        if snow_fall_toc - snow_fall_tic > 2:
                            match snow_fall_phase:
                                case 0:
                                    korlok_interaction_snowfall.update(238, 156, graphic_dict["korlok_snowfall_1"])
                                    snow_fall_phase = 1
                                    snow_fall_tic = time.perf_counter()
                                case 1:
                                    korlok_interaction_snowfall.update(238, 156, graphic_dict["korlok_snowfall_2"])
                                    snow_fall_phase = 2
                                    snow_fall_tic = time.perf_counter()
                                case 2:
                                    korlok_interaction_snowfall.update(238, 156, graphic_dict["korlok_snowfall_3"])
                                    snow_fall_phase = 0
                                    snow_fall_tic = time.perf_counter()

                    # clearing loot and card popups and reset animation at start of new encounter if not already
                    if not cleared:
                        if trading_deck:
                            card_deck["snake_popup"] = False
                            card_deck["ghoul_popup"] = False
                            card_deck["bandile_popup"] = False
                            card_deck["magmon_popup"] = False
                            card_deck["necrola_popup"] = False
                            card_deck["osodark_popup"] = False
                            card_deck["atmon_popup"] = False
                            card_deck["jumano_popup"] = False
                            card_drop_played = False
                        drawing_functions.loot_popup_container.clear()
                        drawing_functions.loot_text_container.clear()
                        drawing_functions.level_up_draw(level_up_win, player, font, False)
                        drawing_functions.level_up_visual.clear()
                        drawing_functions.role_level_up_popup.clear()
                        drawing_functions.role_level_window_text.clear()
                        hp_bar.surf.set_alpha(255)
                        en_bar.surf.set_alpha(255)
                        xp_bar.surf.set_alpha(255)
                        bar_backdrop.surf.set_alpha(255)
                        pet_energy_window.surf.set_alpha(255)
                        overlay_burned.surf.set_alpha(255)
                        overlay_poisoned.surf.set_alpha(255)
                        overlay_bleeding.surf.set_alpha(255)
                        overlay_crushed.surf.set_alpha(255)
                        overlay_burned_desc.surf.set_alpha(255)
                        overlay_poisoned_desc.surf.set_alpha(255)
                        overlay_bleeding_desc.surf.set_alpha(255)
                        overlay_crushed_desc.surf.set_alpha(255)
                        alpha_set = False
                        vanished = False
                        leveled = False
                        combat_scenario.battle_animation_player(player, player_battle_sprite, barrier_active,
                                                                sharp_sense_active, graphic_dict,
                                                                kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                kasper_battle_sprite, torok_battle_sprite,
                                                                iriana_battle_sprite)
                        combat_scenario.battle_animation_enemy(current_enemy_battling, snake_battle_sprite,
                                                               ghoul_battle_sprite, chorizon_battle_sprite,
                                                               muchador_battle_sprite, magmon_battle_sprite,
                                                               bandile_battle_sprite, chinzilla_battle_sprite,
                                                               in_battle, in_npc_interaction, graphic_dict,
                                                               necrola_battle_sprite, osodark_battle_sprite,
                                                               stelli_battle_sprite, chorizon_phase,
                                                               erebyth_battle_sprite, turn_counter,
                                                               atmon_battle_sprite, jumano_battle_sprite,
                                                               dreth_battle_sprite, apothis_gift, cloaked,
                                                               time_of_day, first_attack)
                        cleared = True

                    try:
                        if current_enemy_battling.name == "Erebyth":
                            if turn_counter == 4:
                                turn_counter = 0
                            if current_enemy_battling.health <= 25:
                                current_enemy_battling.health = 25
                                npc_tic = time.perf_counter()
                                erebyth_defeated = True
                                over_world_song_set = False
                                player.experience += 100
                                if player.experience >= 100:
                                    gameplay_functions.level_up(player, level_up_win, level_up_font)
                                    pygame.mixer.find_channel(True).play(sfx_level_up)
                                    battle_info_to_return_to_main_loop["leveled_up"] = True
                                    level_visual = True
                                    level_visual_tic = time.perf_counter()
                                    loot_level_tic = time.perf_counter()
                                for pet in player.pet:
                                    if pet.active and pet.energy > 0:
                                        pet.experience += 25
                                        if pet.experience > 100:
                                            pet.experience = 100

                                if barrier_active:
                                    barrier_active = False
                                    # noinspection PyUnboundLocalVariable
                                if sharp_sense_active:
                                    sharp_sense_active = False
                                    # noinspection PyUnboundLocalVariable
                                combat_happened = False
                                interacted = False
                                encounter_started = False
                                in_battle = False
                                combat_cooldown = False
                                in_over_world = True
                                loot_updated = False
                                if mirror_image:
                                    if transpose_orb == 0 or transpose_orb == 1:
                                        info_text_1 = "Gained 20 energy from Transposition."
                                        player.energy += 20
                                        if player.energy > 100:
                                            player.energy = 100
                                        transpose_orb = 0
                                    if transpose_orb == 2 or transpose_orb == 3:
                                        info_text_1 = "Gained 30 energy from Transposition."
                                        player.energy += 30
                                        if player.energy > 100:
                                            player.energy = 100
                                        transpose_orb = 0
                                    if transpose_orb >= 4:
                                        info_text_1 = "Gained 40 energy from Transposition."
                                        player.energy += 40
                                        if player.energy > 100:
                                            player.energy = 100
                                        transpose_orb = 0
                                mirror_image = False
                                fire_active = False
                                arrow_active = False
                                show_arrow = False
                                show_poison_arrow = False
                                edge_active = False
                                show_edge = False
                                strike_active = False
                                cleared = False
                                card_popup_checked = False
                                loot_timer_reset = False
                                loot_level_tic = time.perf_counter()
                                turn_counter = 0
                                first_attack = True

                        # reset on each new turn
                        turn_taken = False

                        for event in pygame.event.get():
                            if event.type == KEYDOWN and not combat_cooldown:
                                if event.key == K_1:
                                    attack_hotkey = True
                                if event.key == K_2:
                                    skill_1_hotkey = True
                                if event.key == K_3:
                                    skill_2_hotkey = True
                                if event.key == K_4:
                                    skill_3_hotkey = True
                            elif event.type == QUIT:
                                pygame.mixer.quit()
                                sys.exit()

                            # getting mouse position and highlighting buttons if they collide
                            init_pos = list(pygame.mouse.get_pos())
                            ratio_x = (SCREEN_WIDTH / screen.get_width())
                            ratio_y = (SCREEN_HEIGHT / screen.get_height())
                            pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                            button_highlighted = button_highlighter(pos)

                            if overlay_burned.rect.collidepoint(pos):
                                drawing_functions.condition_description_window.clear()
                                if burned:
                                    drawing_functions.condition_description_window.append(overlay_burned_desc)
                            elif overlay_poisoned.rect.collidepoint(pos):
                                drawing_functions.condition_description_window.clear()
                                if poisoned:
                                    drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                            elif overlay_bleeding.rect.collidepoint(pos):
                                drawing_functions.condition_description_window.clear()
                                if bleeding:
                                    drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                            elif overlay_crushed.rect.collidepoint(pos):
                                drawing_functions.condition_description_window.clear()
                                if crushed:
                                    drawing_functions.condition_description_window.append(overlay_crushed_desc)
                            else:
                                drawing_functions.condition_description_window.clear()

                            if overlay_burned_enemy.rect.collidepoint(pos):
                                drawing_functions.condition_description_window_e.clear()
                                if fire_active:
                                    drawing_functions.condition_description_window_e.append(overlay_burned_desc_enemy)
                            elif overlay_poisoned_enemy.rect.collidepoint(pos):
                                drawing_functions.condition_description_window_e.clear()
                                if arrow_active:
                                    drawing_functions.condition_description_window_e.append(overlay_poisoned_desc_enemy)
                            elif overlay_bleeding_enemy.rect.collidepoint(pos):
                                drawing_functions.condition_description_window_e.clear()
                                if edge_active:
                                    drawing_functions.condition_description_window_e.append(overlay_bleeding_desc_enemy)
                            elif overlay_crushed_enemy.rect.collidepoint(pos):
                                drawing_functions.condition_description_window_e.clear()
                                if strike_active:
                                    drawing_functions.condition_description_window_e.append(overlay_crushed_desc_enemy)
                            else:
                                drawing_functions.condition_description_window_e.clear()

                            if flower_button.collidepoint(pos):
                                if (len(drawing_functions.fish_pop_up_window) == 0 and
                                        len(drawing_functions.flower_pop_up_window) == 0):
                                    drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                            else:
                                drawing_functions.flower_pop_up_window.clear()
                                drawing_functions.flower_pop_up_window_text.clear()

                            if fish_button_count.collidepoint(pos):
                                if (len(drawing_functions.fish_pop_up_window) == 0 and
                                        len(drawing_functions.flower_pop_up_window) == 0):
                                    drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                            else:
                                drawing_functions.fish_pop_up_window.clear()
                                drawing_functions.fish_pop_up_window_text.clear()

                            if event.type == pygame.MOUSEBUTTONUP:
                                if role_level_up_popup.rect.collidepoint(pos):
                                    drawing_functions.role_level_up_popup.clear()
                                    drawing_functions.role_level_window_text.clear()
                                if npc_garan.gift:
                                    gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff, sword, bow,
                                                                 pressed_keys, sfx_button_role)
                                if kasper_unlocked:
                                    if kasper_whistle_button.rect.collidepoint(pos):
                                        gameplay_functions.pet_call(pygame, player, True, False, False,
                                                                    sfx_item_whistle, SCREEN_WIDTH, SCREEN_HEIGHT)
                                if torok_unlocked:
                                    if torok_whistle_button.rect.collidepoint(pos):
                                        gameplay_functions.pet_call(pygame, player, False, True, False,
                                                                    sfx_item_whistle, SCREEN_WIDTH, SCREEN_HEIGHT)
                                if iriana_unlocked:
                                    if iriana_whistle_button.rect.collidepoint(pos):
                                        gameplay_functions.pet_call(pygame, player, False, False, True,
                                                                    sfx_item_whistle, SCREEN_WIDTH, SCREEN_HEIGHT)

                                if game_guide_overlay.rect.collidepoint(pos):
                                    drawing_functions.game_guide_container.clear()
                                if cloaked_popup.rect.collidepoint(pos):
                                    drawing_functions.cloaked_popup_window.clear()
                                if condition_popup.rect.collidepoint(pos):
                                    drawing_functions.condition_popup_window.clear()

                            # get which button player pressed during combat scenario
                            combat_button = click_handlers.combat_event_button(event, no_role_attack_button,
                                                                               mage_attack_button,
                                                                               fighter_attack_button,
                                                                               scout_attack_button, barrier_button,
                                                                               hard_strike_button,
                                                                               sharp_sense_button,
                                                                               pygame, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                               mirror_button, stun_button,
                                                                               vanish_button, fire_button,
                                                                               edge_button, arrow_button)
                            # click handlers
                            info_choice = click_handlers.item_info_button(event, item_info_button, pygame,
                                                                          info_items, SCREEN_WIDTH, SCREEN_HEIGHT)

                            if info_choice == "yes" and not combat_cooldown:
                                inventory_event = click_handlers.inventory(pygame, player, current_info_item,
                                                                           sfx_item_potion, sfx_item_equip,
                                                                           sfx_item_whistle, sfx_item_snack,
                                                                           graphic_dict,
                                                                           SCREEN_WIDTH, SCREEN_HEIGHT, sfx_firework,
                                                                           sfx_skill_learn, poisoned,
                                                                           burned, bleeding, crushed, font,
                                                                           sfx_role_level, role_level_up_popup)
                                if inventory_event["item message"] != "":
                                    info_text_1 = inventory_event["item message"]
                                    info_text_2 = ""
                                drawing_functions.item_info_window.clear()
                                button_highlighted = False
                                turn_counter += 1
                                if mirror_image and transpose_orb < 5:
                                    transpose_orb += 1
                                elif transpose_orb == 5:
                                    player.energy += 40
                                    if player.energy > 100:
                                        player.energy = 100
                                    transpose_orb = 0
                                    mirror_image = False
                                try:
                                    # consume a turn when an item is used in combat
                                    if current_info_item.name == "small energy potion" or \
                                            current_info_item.name == "big energy potion":
                                        if inventory_event["item message"] != "You're already at full energy.":
                                            turn_taken = True
                                            attack_hotkey = False
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "attack", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win, level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active, turn_taken,
                                                                                            stun_them, mirror_image,
                                                                                            turn_counter,
                                                                                            atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter, card_deck,
                                                                                            arrow_active, fire_active,
                                                                                            edge_active, cloaked,
                                                                                            burned, poisoned, bleeding,
                                                                                            crushed, strike_active,
                                                                                            edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar,
                                                                                          xp_bar, star_power_meter,
                                                                                          offense_meter,
                                                                                          defense_meter, graphic_dict,
                                                                                          basic_armor, forged_armor,
                                                                                          mythical_armor,
                                                                                          legendary_armor,
                                                                                          power_gloves, chroma_boots,
                                                                                          neras_grace, arens_strength,
                                                                                          spirit_of_wisdom, crushed)
                                    if current_info_item.name == "small health potion" or \
                                            current_info_item.name == "big health potion":
                                        if inventory_event["item message"] != "You're already at full health.":
                                            turn_taken = True
                                            attack_hotkey = False
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "attack", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win, level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active, turn_taken,
                                                                                            stun_them, mirror_image,
                                                                                            turn_counter,
                                                                                            atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter, card_deck,
                                                                                            arrow_active, fire_active,
                                                                                            edge_active, cloaked,
                                                                                            burned, poisoned, bleeding,
                                                                                            crushed, strike_active,
                                                                                            edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar,
                                                                                          xp_bar, star_power_meter,
                                                                                          offense_meter, defense_meter,
                                                                                          graphic_dict, basic_armor,
                                                                                          forged_armor, mythical_armor,
                                                                                          legendary_armor, power_gloves,
                                                                                          chroma_boots, neras_grace,
                                                                                          arens_strength,
                                                                                          spirit_of_wisdom, crushed)
                                    if current_info_item.name == "super potion":
                                        if inventory_event["item message"] != "You're already at " \
                                                                              "full health or energy.":
                                            turn_taken = True
                                            attack_hotkey = False
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "attack", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win, level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active, turn_taken,
                                                                                            stun_them, mirror_image,
                                                                                            turn_counter,
                                                                                            atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter, card_deck,
                                                                                            arrow_active, fire_active,
                                                                                            edge_active, cloaked,
                                                                                            burned,
                                                                                            poisoned, bleeding, crushed,
                                                                                            strike_active,
                                                                                            edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar,
                                                                                          xp_bar, star_power_meter,
                                                                                          offense_meter,
                                                                                          defense_meter, graphic_dict,
                                                                                          basic_armor, forged_armor,
                                                                                          mythical_armor,
                                                                                          legendary_armor,
                                                                                          power_gloves, chroma_boots,
                                                                                          neras_grace, arens_strength,
                                                                                          spirit_of_wisdom, crushed)
                                    # consume a turn when an item is used in combat
                                    if current_info_item.name == "cure poison potion":
                                        if inventory_event["item message"] != "You're not poisoned.":
                                            try:
                                                poisoned = inventory_event["poisoned"]
                                            except KeyError:
                                                pass
                                            if (current_enemy_battling.kind != "erebyth"
                                                    and current_enemy_battling.kind != "dreth"):
                                                turn_counter = 0
                                            if len(drawing_functions.condition_popup_window) > 0:
                                                drawing_functions.condition_popup_window.clear()
                                            turn_taken = True
                                            attack_hotkey = False
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "attack", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win, level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active, turn_taken,
                                                                                            stun_them, mirror_image,
                                                                                            turn_counter, atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter, card_deck,
                                                                                            arrow_active, fire_active,
                                                                                            edge_active, cloaked,
                                                                                            burned,
                                                                                            poisoned, bleeding, crushed,
                                                                                            strike_active,
                                                                                            edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar,
                                                                                          xp_bar, star_power_meter,
                                                                                          offense_meter, defense_meter,
                                                                                          graphic_dict, basic_armor,
                                                                                          forged_armor, mythical_armor,
                                                                                          legendary_armor, power_gloves,
                                                                                          chroma_boots, neras_grace,
                                                                                          arens_strength,
                                                                                          spirit_of_wisdom, crushed)

                                    # consume a turn when an item is used in combat
                                    if current_info_item.name == "cure burn potion":
                                        if inventory_event["item message"] != "You're not burned.":
                                            try:
                                                burned = inventory_event["burned"]
                                            except KeyError:
                                                pass
                                            if (current_enemy_battling.kind != "erebyth"
                                                    and current_enemy_battling.kind != "dreth"):
                                                turn_counter = 0
                                            turn_taken = True
                                            attack_hotkey = False
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "attack", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win, level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active, turn_taken,
                                                                                            stun_them, mirror_image,
                                                                                            turn_counter, atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter, card_deck,
                                                                                            arrow_active, fire_active,
                                                                                            edge_active, cloaked,
                                                                                            burned,
                                                                                            poisoned, bleeding, crushed,
                                                                                            strike_active,
                                                                                            edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar,
                                                                                          xp_bar, star_power_meter,
                                                                                          offense_meter, defense_meter,
                                                                                          graphic_dict, basic_armor,
                                                                                          forged_armor, mythical_armor,
                                                                                          legendary_armor, power_gloves,
                                                                                          chroma_boots, neras_grace,
                                                                                          arens_strength,
                                                                                          spirit_of_wisdom, crushed)
                                    # consume a turn when an item is used in combat
                                    if current_info_item.name == "bandage wrap":
                                        if inventory_event["item message"] != "You're not bleeding.":
                                            try:
                                                bleeding = inventory_event["bleeding"]
                                            except KeyError:
                                                pass
                                            if (current_enemy_battling.kind != "erebyth"
                                                    and current_enemy_battling.kind != "dreth"):
                                                turn_counter = 0
                                            turn_taken = True
                                            attack_hotkey = False
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "attack", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win, level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active, turn_taken,
                                                                                            stun_them, mirror_image,
                                                                                            turn_counter, atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter, card_deck,
                                                                                            arrow_active, fire_active,
                                                                                            edge_active, cloaked,
                                                                                            burned,
                                                                                            poisoned, bleeding, crushed,
                                                                                            strike_active,
                                                                                            edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar,
                                                                                          xp_bar, star_power_meter,
                                                                                          offense_meter, defense_meter,
                                                                                          graphic_dict, basic_armor,
                                                                                          forged_armor, mythical_armor,
                                                                                          legendary_armor, power_gloves,
                                                                                          chroma_boots, neras_grace,
                                                                                          arens_strength,
                                                                                          spirit_of_wisdom, crushed)
                                    # consume a turn when an item is used in combat
                                    if current_info_item.name == "brace":
                                        if inventory_event["item message"] != "You're not crushed.":
                                            try:
                                                crushed = inventory_event["crushed"]
                                            except KeyError:
                                                pass
                                            if (current_enemy_battling.kind != "erebyth"
                                                    and current_enemy_battling.kind != "dreth"):
                                                turn_counter = 0
                                            turn_taken = True
                                            attack_hotkey = False
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "attack", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win, level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active, turn_taken,
                                                                                            stun_them, mirror_image,
                                                                                            turn_counter, atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter, card_deck,
                                                                                            arrow_active, fire_active,
                                                                                            edge_active, cloaked,
                                                                                            burned,
                                                                                            poisoned, bleeding, crushed,
                                                                                            strike_active,
                                                                                            edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar,
                                                                                          xp_bar, star_power_meter,
                                                                                          offense_meter, defense_meter,
                                                                                          graphic_dict, basic_armor,
                                                                                          forged_armor, mythical_armor,
                                                                                          legendary_armor, power_gloves,
                                                                                          chroma_boots, neras_grace,
                                                                                          arens_strength,
                                                                                          spirit_of_wisdom, crushed)
                                    # consume a turn when an item is used in combat
                                    if current_info_item.name == "big cure potion":
                                        if inventory_event["item message"] != "You're not poisoned or burned.":
                                            try:
                                                poisoned = inventory_event["poisoned"]
                                                burned = inventory_event["burned"]
                                            except KeyError:
                                                pass
                                            if (current_enemy_battling.kind != "erebyth"
                                                    and current_enemy_battling.kind != "dreth"):
                                                turn_counter = 0
                                            turn_taken = True
                                            attack_hotkey = False
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "attack", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win, level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active, turn_taken,
                                                                                            stun_them, mirror_image,
                                                                                            turn_counter, atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter, card_deck,
                                                                                            arrow_active, fire_active,
                                                                                            edge_active, cloaked,
                                                                                            burned,
                                                                                            poisoned, bleeding, crushed,
                                                                                            strike_active,
                                                                                            edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar,
                                                                                          xp_bar, star_power_meter,
                                                                                          offense_meter, defense_meter,
                                                                                          graphic_dict, basic_armor,
                                                                                          forged_armor, mythical_armor,
                                                                                          legendary_armor, power_gloves,
                                                                                          chroma_boots, neras_grace,
                                                                                          arens_strength,
                                                                                          spirit_of_wisdom, crushed)
                                    # consume a turn when an item is used in combat
                                    if current_info_item.name == "big mend potion":
                                        if inventory_event["item message"] != "You're not bleeding or crushed.":
                                            try:
                                                bleeding = inventory_event["bleeding"]
                                                crushed = inventory_event["crushed"]
                                            except KeyError:
                                                pass
                                            if (current_enemy_battling.kind != "erebyth"
                                                    and current_enemy_battling.kind != "dreth"):
                                                turn_counter = 0
                                            turn_taken = True
                                            attack_hotkey = False
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "attack", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win, level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active, turn_taken,
                                                                                            stun_them, mirror_image,
                                                                                            turn_counter, atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter, card_deck,
                                                                                            arrow_active, fire_active,
                                                                                            edge_active, cloaked,
                                                                                            burned,
                                                                                            poisoned, bleeding, crushed,
                                                                                            strike_active,
                                                                                            edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar, en_bar,
                                                                                          xp_bar, star_power_meter,
                                                                                          offense_meter, defense_meter,
                                                                                          graphic_dict, basic_armor,
                                                                                          forged_armor, mythical_armor,
                                                                                          legendary_armor, power_gloves,
                                                                                          chroma_boots, neras_grace,
                                                                                          arens_strength,
                                                                                          spirit_of_wisdom, crushed)
                                except AttributeError:
                                    pass

                            if info_choice == "no":
                                drawing_functions.item_info_window.clear()
                                button_highlighted = False

                            inventory_item_clicked = click_handlers.inventory_event_item(event, pygame, SCREEN_WIDTH,
                                                                                         SCREEN_HEIGHT)
                            if inventory_item_clicked["clicked"]:
                                pygame.mixer.find_channel(True).play(sfx_button_inventory)
                                current_info_item = drawing_functions.item_info_draw(inventory_item_clicked["element"],
                                                                                     info_items, item_info_button,
                                                                                     graphic_dict)

                            # function to handle equipment item clicks. apply item message to message box if not empty
                            if len(drawing_functions.item_info_window) == 0:
                                equipment_event = click_handlers.equipment(player, event, pygame, basic_armor,
                                                                           forged_armor, mythical_armor,
                                                                           legendary_armor, power_gloves,
                                                                           chroma_boots, sfx_item_equip, SCREEN_WIDTH,
                                                                           SCREEN_HEIGHT, graphic_dict, neras_grace,
                                                                           arens_strength, spirit_of_wisdom)
                                if equipment_event["equipment message"] != "":
                                    info_text_1 = equipment_event["equipment message"]
                                    info_text_2 = ""

                            if combat_button == "attack" or attack_hotkey and not combat_cooldown:
                                if first_attack:
                                    first_attack = False
                                    if (current_enemy_battling.kind == "snake"
                                            or current_enemy_battling.kind == "magmon"
                                            or current_enemy_battling.kind == "bandile"
                                            or current_enemy_battling.kind == "osodark"
                                            or current_enemy_battling.kind == "atmon"
                                            or current_enemy_battling.kind == "stelli"):
                                        if time_of_day == 0 or time_of_day == 7:
                                            stun_them = True
                                    if current_enemy_battling.kind == "chinzilla":
                                        if time_of_day != 0 and time_of_day != 7:
                                            stun_them = True
                                if player.role == "":
                                    pygame.mixer.find_channel(True).play(sfx_no_weapon_attack)
                                if player.role == "mage":
                                    pygame.mixer.find_channel(True).play(sfx_mage_attack)
                                if player.role == "fighter":
                                    pygame.mixer.find_channel(True).play(sfx_fighter_attack)
                                if player.role == "scout":
                                    pygame.mixer.find_channel(True).play(sfx_scout_attack)
                                if current_enemy_battling.kind == "snake":
                                    if len(drawing_functions.condition_popup_window) > 0:
                                        drawing_functions.condition_popup_window.clear()
                                    pygame.mixer.find_channel(True).play(sfx_enemy_snake)
                                    if not beyond_seldon:
                                        if not poisoned_before:
                                            if (turn_counter + 1) % random.randint(5, 10) == 0:
                                                if not poisoned and not barrier_active:
                                                    if not condition_popup_shown:
                                                        drawing_functions.condition_popup_window.append(condition_popup)
                                                        condition_popup_shown = True
                                                    poisoned = True
                                                    pygame.mixer.find_channel(True).play(sfx_poison)
                                                    poisoned_before = True
                                    else:
                                        if (turn_counter + 1) % random.randint(2, 4) == 0:
                                            if not poisoned and not barrier_active:
                                                poisoned = True
                                                pygame.mixer.find_channel(True).play(sfx_poison)
                                if current_enemy_battling.name == "Ghoul":
                                    if len(drawing_functions.cloaked_popup_window) > 0:
                                        drawing_functions.cloaked_popup_window.clear()
                                    pygame.mixer.find_channel(True).play(sfx_enemy_ghoul)
                                    if (turn_counter + 1) % random.randint(3, 6) == 0:
                                        if not cloaked:
                                            cloaked = True
                                            pygame.mixer.find_channel(True).play(sfx_cloaked)
                                if current_enemy_battling.name == "Chorizon":
                                    pygame.mixer.find_channel(True).play(sfx_enemy_chorizon)
                                if current_enemy_battling.kind == "muchador":
                                    pygame.mixer.find_channel(True).play(sfx_enemy_muchador)
                                if current_enemy_battling.kind == "bandile":
                                    pygame.mixer.find_channel(True).play(sfx_enemy_bandile)
                                    if (turn_counter + 1) % random.randint(6, 8) == 0:
                                        if not crushed and current_enemy_battling.health > 30:
                                            crushed = True
                                            player.offense -= 1
                                            player.defense -= 1
                                            pygame.mixer.find_channel(True).play(sfx_crushed)
                                            crush_shown = False
                                if current_enemy_battling.kind == "magmon":
                                    pygame.mixer.find_channel(True).play(sfx_enemy_magmon)
                                    if (turn_counter + 1) % random.randint(2, 4) == 0:
                                        if not burned and not barrier_active:
                                            burned = True
                                            pygame.mixer.find_channel(True).play(sfx_burned)
                                if current_enemy_battling.kind == "chinzilla":
                                    pygame.mixer.find_channel(True).play(sfx_enemy_chinzilla)
                                    if (turn_counter + 1) % random.randint(2, 4) == 0:
                                        if not bleeding:
                                            bleeding = True
                                            pygame.mixer.find_channel(True).play(sfx_bleed)
                                            bleed_shown = False
                                if current_enemy_battling.kind == "necrola":
                                    pygame.mixer.find_channel(True).play(sfx_enemy_necrola)
                                    if (turn_counter + 1) % random.randint(2, 4) == 0:
                                        if not cloaked:
                                            cloaked = True
                                            pygame.mixer.find_channel(True).play(sfx_cloaked)
                                if current_enemy_battling.kind == "stelli":
                                    pygame.mixer.find_channel(True).play(sfx_stelli_battle)
                                if current_enemy_battling.kind == "osodark":
                                    pygame.mixer.find_channel(True).play(sfx_enemy_osodark)
                                    if (turn_counter + 1) % random.randint(2, 4) == 0:
                                        if not bleeding:
                                            bleeding = True
                                            pygame.mixer.find_channel(True).play(sfx_bleed)
                                            bleed_shown = False
                                if current_enemy_battling.kind == "erebyth":
                                    if turn_counter == 2:
                                        erebyth_attack_choice = random.randint(1, 2)
                                        pygame.mixer.find_channel(True).play(sfx_enemy_erebyth_flame)
                                        if erebyth_attack_choice == 1:
                                            if not burned and not barrier_active:
                                                burned = True
                                                pygame.mixer.find_channel(True).play(sfx_burned)
                                        if erebyth_attack_choice == 2:
                                            if not crushed and current_enemy_battling.health > 30:
                                                crushed = True
                                                player.offense -= 1
                                                player.defense -= 1
                                                pygame.mixer.find_channel(True).play(sfx_crushed)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_enemy_erebyth_growl)
                                if current_enemy_battling.kind == "dreth":
                                    if (turn_counter + 1) % 4 == 0:
                                        choice = random.randint(1, 4)
                                        if choice == 1:
                                            if not burned and not barrier_active:
                                                burned = True
                                                pygame.mixer.find_channel(True).play(sfx_burned)
                                        if choice == 2:
                                            if not poisoned and not barrier_active:
                                                poisoned = True
                                                pygame.mixer.find_channel(True).play(sfx_poison)
                                        if choice == 3:
                                            if not bleeding:
                                                bleeding = True
                                                pygame.mixer.find_channel(True).play(sfx_bleed)
                                                bleed_shown = False
                                        if choice == 4:
                                            if not crushed and current_enemy_battling.health > 30:
                                                crushed = True
                                                player.offense -= 1
                                                player.defense -= 1
                                                pygame.mixer.find_channel(True).play(sfx_crushed)
                                        pygame.mixer.find_channel(True).play(sfx_enemy_dreth_shatter)
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_enemy_dreth)
                                if current_enemy_battling.kind == "atmon":
                                    pygame.mixer.find_channel(True).play(sfx_enemy_atmon)
                                    if (turn_counter + 1) % random.randint(2, 4) == 0:
                                        if not poisoned and not barrier_active:
                                            poisoned = True
                                            pygame.mixer.find_channel(True).play(sfx_poison)
                                if current_enemy_battling.kind == "jumano":
                                    if (turn_counter + 1) % random.randint(3, 5) == 0:
                                        pygame.mixer.find_channel(True).play(sfx_button_role)
                                        choice = random.randint(1, 3)
                                        if choice == 1:
                                            if current_enemy_battling.type != "mage":
                                                current_enemy_battling.type = "mage"
                                            else:
                                                current_enemy_battling.type = "scout"
                                        if choice == 2:
                                            if current_enemy_battling.type != "fighter":
                                                current_enemy_battling.type = "fighter"
                                            else:
                                                current_enemy_battling.type = "mage"
                                        if choice == 3:
                                            if current_enemy_battling.type != "scout":
                                                current_enemy_battling.type = "scout"
                                            else:
                                                current_enemy_battling.type = "fighter"
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_enemy_jumano)

                                if first_battle_cond:
                                    first_battle_cond = False
                                    drawing_functions.game_guide_container.clear()

                                turn_counter += 1
                                if mirror_image and transpose_orb < 5:
                                    transpose_orb += 1
                                elif transpose_orb == 5:
                                    player.energy += 40
                                    if player.energy > 100:
                                        player.energy = 100
                                    transpose_orb = 0
                                    mirror_image = False
                                attack_hotkey = False
                                # combat event function that handles and returns damage and health
                                combat_events = combat_scenario.attack_scenario(current_enemy_battling, "attack",
                                                                                player, hard_strike_learned,
                                                                                level_up_win, level_up_font,
                                                                                graphic_dict, sharp_sense_active,
                                                                                barrier_active, turn_taken,
                                                                                stun_them, mirror_image,
                                                                                turn_counter,
                                                                                atmon_counter, prism_received,
                                                                                turn_counter,
                                                                                apothis_upgrade, trading_deck,
                                                                                trading_task_complete,
                                                                                any_card_counter, card_deck,
                                                                                arrow_active, fire_active,
                                                                                edge_active, cloaked, burned,
                                                                                poisoned, bleeding, crushed,
                                                                                strike_active, edge_active)
                                combat_scenario.attack_animation_player(player, player_battle_sprite,
                                                                        barrier_active, sharp_sense_active,
                                                                        hard_strike, graphic_dict, turn_taken,
                                                                        kasper_unlocked, torok_unlocked,
                                                                        iriana_unlocked, kasper_battle_sprite,
                                                                        torok_battle_sprite, iriana_battle_sprite)
                                combat_scenario.attack_animation_enemy(current_enemy_battling, snake_battle_sprite,
                                                                       ghoul_battle_sprite, chorizon_battle_sprite,
                                                                       muchador_battle_sprite, magmon_battle_sprite,
                                                                       bandile_battle_sprite,
                                                                       chinzilla_battle_sprite, graphic_dict,
                                                                       necrola_battle_sprite,
                                                                       osodark_battle_sprite, stelli_battle_sprite,
                                                                       chorizon_phase,
                                                                       combat_events["damage taken"],
                                                                       erebyth_battle_sprite, turn_counter,
                                                                       atmon_battle_sprite, jumano_battle_sprite,
                                                                       dreth_battle_sprite, turn_counter,
                                                                       apothis_gift, cloaked)
                                if player.role == "scout":
                                    show_arrow = True
                                try:
                                    stun_them = combat_events["stunned"]
                                except TypeError and KeyError:
                                    stun_them = False
                                combat_happened = True
                                combat_tic = time.perf_counter()
                                combat_cooldown = True

                                # add all combat scenario happenings from function to message box
                                try:
                                    if combat_events["damage done string"] == 0:
                                        info_text_1 = ""
                                    else:
                                        info_text_1 = str(combat_events["damage done string"])
                                    if combat_events["damage taken string"] == 0:
                                        info_text_2 = ""
                                    else:
                                        info_text_2 = str(combat_events["damage taken string"])
                                except TypeError:
                                    pass

                                # adds item dropped and experienced gained messages to box if enemy was defeated
                                try:
                                    battle_info_to_return_to_main_loop["knowledge"] = ""
                                    if combat_events["enemy defeated"]:
                                        if combat_events["item dropped"] != "No":
                                            try:
                                                prism_received = combat_events["prism_received"]
                                            except KeyError:
                                                pass
                                            battle_info_to_return_to_main_loop["item dropped"] = \
                                                str(combat_events["item dropped"])
                                        else:
                                            battle_info_to_return_to_main_loop["item dropped"] = ""
                                        if combat_events["experience gained"] != 0:
                                            battle_info_to_return_to_main_loop["experience"] = \
                                                str(combat_events["experience gained"])
                                        else:
                                            battle_info_to_return_to_main_loop["experience"] = ""
                                    # if enemy was defeated and player leveled up, add messages related to box
                                    if combat_events["enemy defeated"]:
                                        if combat_events["leveled"]:
                                            pygame.mixer.find_channel(True).play(sfx_level_up)
                                            battle_info_to_return_to_main_loop["leveled_up"] = True
                                            level_visual = True
                                            level_visual_tic = time.perf_counter()

                                    # if player was successful in defeating enemy, combat ends, movement is allowed
                                    if combat_events["enemy defeated"]:
                                        if current_enemy_battling.kind == "dreth":
                                            dreth_defeated = True
                                        if current_enemy_battling.kind != "stelli":
                                            current_enemy_battling.alive_status = False
                                        if current_enemy_battling.kind == "atmon":
                                            atmon_counter += 1
                                        # player will gain knowledge based on their current role
                                        if player.role == "mage":
                                            if current_enemy_battling.level >= player.level - 2:
                                                player.knowledge["mage"] += 25
                                                if player.knowledge["mage"] >= 100:
                                                    player.mage_level += 1
                                                    role_lvl_surf = font.render(str(player.mage_level), True,
                                                                                "black", "light yellow")
                                                    role_lvl_rect = role_lvl_surf.get_rect()
                                                    role_lvl_rect.center = (925, 148)
                                                    drawing_functions.role_level_window_text.append((role_lvl_surf,
                                                                                                     role_lvl_rect))
                                                    role_level_up_popup.update(885, 136, graphic_dict["mage_level_up"])
                                                    drawing_functions.role_level_up_popup.append(role_level_up_popup)
                                                    player.knowledge["mage"] = player.knowledge["mage"] - 100
                                                    pygame.mixer.find_channel(True).play(sfx_role_level)
                                                battle_info_to_return_to_main_loop["knowledge"] = "+25 Mage"
                                            elif current_enemy_battling.level > player.level - 3:
                                                player.knowledge["mage"] += 15
                                                if player.knowledge["mage"] >= 100:
                                                    player.mage_level += 1
                                                    role_lvl_surf = font.render(str(player.mage_level), True,
                                                                                "black", "light yellow")
                                                    role_lvl_rect = role_lvl_surf.get_rect()
                                                    role_lvl_rect.center = (925, 148)
                                                    drawing_functions.role_level_window_text.append((role_lvl_surf,
                                                                                                     role_lvl_rect))
                                                    role_level_up_popup.update(885, 136, graphic_dict["mage_level_up"])
                                                    drawing_functions.role_level_up_popup.append(role_level_up_popup)
                                                    player.knowledge["mage"] = player.knowledge["mage"] - 100
                                                    pygame.mixer.find_channel(True).play(sfx_role_level)
                                                battle_info_to_return_to_main_loop["knowledge"] = "+15 Mage"
                                            elif current_enemy_battling.level > player.level - 4:
                                                player.knowledge["mage"] += 5
                                                if player.knowledge["mage"] >= 100:
                                                    player.mage_level += 1
                                                    role_lvl_surf = font.render(str(player.mage_level), True,
                                                                                "black", "light yellow")
                                                    role_lvl_rect = role_lvl_surf.get_rect()
                                                    role_lvl_rect.center = (925, 148)
                                                    drawing_functions.role_level_window_text.append((role_lvl_surf,
                                                                                                     role_lvl_rect))
                                                    role_level_up_popup.update(885, 136, graphic_dict["mage_level_up"])
                                                    drawing_functions.role_level_up_popup.append(role_level_up_popup)
                                                    player.knowledge["mage"] = player.knowledge["mage"] - 100
                                                    pygame.mixer.find_channel(True).play(sfx_role_level)
                                                battle_info_to_return_to_main_loop["knowledge"] = "+5 Mage"
                                            else:
                                                battle_info_to_return_to_main_loop["knowledge"] = ""
                                            # if player has a pet seed, add to it for this role. stop counts at 8
                                            if seed_given:
                                                if seed_mage_count < 4 and seed_fighter_count < 4 and \
                                                        seed_scout_count < 4:
                                                    seed_mage_count += 1

                                        if player.role == "fighter":
                                            if current_enemy_battling.level >= player.level - 2:
                                                player.knowledge["fighter"] += 25
                                                if player.knowledge["fighter"] >= 100:
                                                    player.fighter_level += 1
                                                    role_lvl_surf = font.render(str(player.fighter_level), True,
                                                                                "black", "light yellow")
                                                    role_lvl_rect = role_lvl_surf.get_rect()
                                                    role_lvl_rect.center = (925, 148)
                                                    drawing_functions.role_level_window_text.append((role_lvl_surf,
                                                                                                     role_lvl_rect))
                                                    role_level_up_popup.update(885, 136,
                                                                               graphic_dict["fighter_level_up"])
                                                    drawing_functions.role_level_up_popup.append(role_level_up_popup)
                                                    player.knowledge["fighter"] = player.knowledge["fighter"] - 100
                                                    pygame.mixer.find_channel(True).play(sfx_role_level)
                                                battle_info_to_return_to_main_loop["knowledge"] = "+25 fighter"
                                            elif current_enemy_battling.level > player.level - 3:
                                                player.knowledge["fighter"] += 15
                                                if player.knowledge["fighter"] >= 100:
                                                    player.fighter_level += 1
                                                    role_lvl_surf = font.render(str(player.fighter_level), True,
                                                                                "black", "light yellow")
                                                    role_lvl_rect = role_lvl_surf.get_rect()
                                                    role_lvl_rect.center = (925, 148)
                                                    drawing_functions.role_level_window_text.append((role_lvl_surf,
                                                                                                     role_lvl_rect))
                                                    role_level_up_popup.update(885, 136,
                                                                               graphic_dict["fighter_level_up"])
                                                    drawing_functions.role_level_up_popup.append(role_level_up_popup)
                                                    player.knowledge["fighter"] = player.knowledge["fighter"] - 100
                                                    pygame.mixer.find_channel(True).play(sfx_role_level)
                                                battle_info_to_return_to_main_loop["knowledge"] = "+15 fighter"
                                            elif current_enemy_battling.level > player.level - 4:
                                                player.knowledge["fighter"] += 5
                                                if player.knowledge["fighter"] >= 100:
                                                    player.fighter_level += 1
                                                    role_lvl_surf = font.render(str(player.fighter_level), True,
                                                                                "black", "light yellow")
                                                    role_lvl_rect = role_lvl_surf.get_rect()
                                                    role_lvl_rect.center = (925, 148)
                                                    drawing_functions.role_level_window_text.append((role_lvl_surf,
                                                                                                     role_lvl_rect))
                                                    role_level_up_popup.update(885, 136,
                                                                               graphic_dict["fighter_level_up"])
                                                    drawing_functions.role_level_up_popup.append(role_level_up_popup)
                                                    player.knowledge["fighter"] = player.knowledge["fighter"] - 100
                                                    pygame.mixer.find_channel(True).play(sfx_role_level)
                                                battle_info_to_return_to_main_loop["knowledge"] = "+5 fighter"
                                            else:
                                                battle_info_to_return_to_main_loop["knowledge"] = ""
                                            # if player has a pet seed, add to it for this role. stop counts at 8
                                            if seed_given:
                                                if seed_mage_count < 4 and seed_fighter_count < 4 and \
                                                        seed_scout_count < 4:
                                                    seed_fighter_count += 1

                                        if player.role == "scout":
                                            if current_enemy_battling.level >= player.level - 2:
                                                player.knowledge["scout"] += 25
                                                if player.knowledge["scout"] >= 100:
                                                    player.scout_level += 1
                                                    role_lvl_surf = font.render(str(player.scout_level), True,
                                                                                "black", "light yellow")
                                                    role_lvl_rect = role_lvl_surf.get_rect()
                                                    role_lvl_rect.center = (925, 148)
                                                    drawing_functions.role_level_window_text.append((role_lvl_surf,
                                                                                                     role_lvl_rect))
                                                    role_level_up_popup.update(885, 136, graphic_dict["scout_level_up"])
                                                    drawing_functions.role_level_up_popup.append(role_level_up_popup)
                                                    player.knowledge["scout"] = player.knowledge["scout"] - 100
                                                    pygame.mixer.find_channel(True).play(sfx_role_level)
                                                battle_info_to_return_to_main_loop["knowledge"] = "+25 scout"
                                            elif current_enemy_battling.level > player.level - 3:
                                                player.knowledge["scout"] += 15
                                                if player.knowledge["scout"] >= 100:
                                                    player.scout_level += 1
                                                    role_lvl_surf = font.render(str(player.scout_level), True,
                                                                                "black", "light yellow")
                                                    role_lvl_rect = role_lvl_surf.get_rect()
                                                    role_lvl_rect.center = (925, 148)
                                                    drawing_functions.role_level_window_text.append((role_lvl_surf,
                                                                                                     role_lvl_rect))
                                                    role_level_up_popup.update(885, 136, graphic_dict["scout_level_up"])
                                                    drawing_functions.role_level_up_popup.append(role_level_up_popup)
                                                    player.knowledge["scout"] = player.knowledge["scout"] - 100
                                                    pygame.mixer.find_channel(True).play(sfx_role_level)
                                                battle_info_to_return_to_main_loop["knowledge"] = "+15 scout"
                                            elif current_enemy_battling.level > player.level - 4:
                                                player.knowledge["scout"] += 5
                                                if player.knowledge["scout"] >= 100:
                                                    player.scout_level += 1
                                                    role_lvl_surf = font.render(str(player.scout_level), True,
                                                                                "black", "light yellow")
                                                    role_lvl_rect = role_lvl_surf.get_rect()
                                                    role_lvl_rect.center = (925, 148)
                                                    drawing_functions.role_level_window_text.append((role_lvl_surf,
                                                                                                     role_lvl_rect))
                                                    role_level_up_popup.update(885, 136, graphic_dict["scout_level_up"])
                                                    drawing_functions.role_level_up_popup.append(role_level_up_popup)
                                                    player.knowledge["scout"] = player.knowledge["scout"] - 100
                                                    pygame.mixer.find_channel(True).play(sfx_role_level)
                                                battle_info_to_return_to_main_loop["knowledge"] = "+5 scout"
                                            else:
                                                battle_info_to_return_to_main_loop["knowledge"] = ""
                                            # if player has a pet seed, add to it for this role. stop counts at 8
                                            if seed_given:
                                                if seed_mage_count < 4 and seed_fighter_count < 4 and \
                                                        seed_scout_count < 4:
                                                    seed_scout_count += 1

                                        if current_enemy_battling.kind == "nede ghoul":
                                            nede_ghoul_defeated = True
                                            ghoul_nede.kill()
                                        if current_enemy_battling.kind == "chorizon_1":
                                            mini_boss_1 = False
                                            mini_boss_1_defeated = True
                                            chorizon_1.kill()
                                            chorizon_phase = False
                                        if current_enemy_battling.kind == "chorizon_2":
                                            mini_boss_2 = False
                                            mini_boss_2_defeated = True
                                            chorizon_2.kill()
                                            chorizon_phase = False
                                        if current_enemy_battling.name == "Muchador":
                                            muchador_defeated = True
                                            muchador.kill()
                                        if current_enemy_battling.name == "Chinzilla":
                                            chinzilla_defeated = True
                                            chinzilla.kill()

                                        # if barrier is active on enemy defeat, restore original defence and set off
                                        if barrier_active:
                                            barrier_active = False
                                            # noinspection PyUnboundLocalVariable
                                        # if sharp sense is active on enemy defeat, restore original offense
                                        if sharp_sense_active:
                                            sharp_sense_active = False
                                            # noinspection PyUnboundLocalVariable

                                        movement_able = True
                                        combat_happened = False
                                        interacted = False
                                        encounter_started = False
                                        in_battle = False
                                        combat_cooldown = False
                                        in_over_world = True
                                        loot_updated = False
                                        if mirror_image:
                                            if transpose_orb == 0 or transpose_orb == 1:
                                                info_text_1 = "Gained 20 energy from Transposition."
                                                player.energy += 20
                                                if player.energy > 100:
                                                    player.energy = 100
                                                transpose_orb = 0
                                            if transpose_orb == 2 or transpose_orb == 3:
                                                info_text_1 = "Gained 30 energy from Transposition."
                                                player.energy += 30
                                                if player.energy > 100:
                                                    player.energy = 100
                                                transpose_orb = 0
                                            if transpose_orb >= 4:
                                                info_text_1 = "Gained 40 energy from Transposition."
                                                player.energy += 40
                                                if player.energy > 100:
                                                    player.energy = 100
                                                transpose_orb = 0
                                        mirror_image = False
                                        fire_active = False
                                        arrow_active = False
                                        show_arrow = False
                                        show_poison_arrow = False
                                        edge_active = False
                                        show_edge = False
                                        strike_active = False
                                        cleared = False
                                        cloaked = False
                                        turn_counter = 0
                                        card_popup_checked = False
                                        loot_timer_reset = False
                                        loot_level_tic = time.perf_counter()
                                        first_attack = True
                                        if on_card_quest:
                                            try:
                                                any_card_counter = combat_events["any_card_counter"]
                                            except KeyError:
                                                pass
                                except TypeError:
                                    pass

                            # (buffs) mage -> barrier [defence], scout -> sharp sense [offense]
                            elif combat_button == "skill 1" or skill_1_hotkey and not combat_cooldown:
                                skill_1_hotkey = False
                                # make sure player has enough energy to use the skill
                                if (player.equipment["trinket 3"] == "" and player.energy > 9
                                        or player.equipment["trinket 3"] != "" and player.energy > 4):
                                    if first_attack:
                                        first_attack = False
                                        if (current_enemy_battling.kind == "snake"
                                                or current_enemy_battling.kind == "magmon"
                                                or current_enemy_battling.kind == "bandile"
                                                or current_enemy_battling.kind == "osodark"
                                                or current_enemy_battling.kind == "atmon"
                                                or current_enemy_battling.kind == "stelli"):
                                            if time_of_day == 0 or time_of_day == 7:
                                                stun_them = True
                                        if current_enemy_battling.kind == "chinzilla":
                                            if time_of_day != 0 and time_of_day != 7:
                                                stun_them = True
                                    turn_counter += 1
                                    if mirror_image and transpose_orb < 5:
                                        transpose_orb += 1
                                    elif transpose_orb == 5:
                                        player.energy += 40
                                        if player.energy > 100:
                                            player.energy = 100
                                        transpose_orb = 0
                                        mirror_image = False
                                    # player is a mage and uses the barrier spell. Set barrier active to true
                                    # save original defence value to be re applied upon enemy or player defeat
                                    if player.role == "mage":
                                        if barrier_learned:
                                            if not barrier_active:
                                                pygame.mixer.find_channel(True).play(sfx_mage_barrier)
                                                info_text_1 = "Barrier spell is active."
                                                barrier_active = True
                                                if player.equipment["trinket 3"] != "":
                                                    player.energy -= 5
                                                elif player.equipment["trinket 3"] == "":
                                                    player.energy -= 10
                                                turn_taken = True
                                                attack_hotkey = False
                                                combat_scenario.battle_animation_player(player,
                                                                                        player_battle_sprite,
                                                                                        barrier_active,
                                                                                        sharp_sense_active,
                                                                                        graphic_dict,
                                                                                        kasper_unlocked, torok_unlocked,
                                                                                        iriana_unlocked,
                                                                                        kasper_battle_sprite,
                                                                                        torok_battle_sprite,
                                                                                        iriana_battle_sprite)
                                                combat_scenario.battle_animation_enemy(current_enemy_battling,
                                                                                       snake_battle_sprite,
                                                                                       ghoul_battle_sprite,
                                                                                       chorizon_battle_sprite,
                                                                                       muchador_battle_sprite,
                                                                                       magmon_battle_sprite,
                                                                                       bandile_battle_sprite,
                                                                                       chinzilla_battle_sprite,
                                                                                       in_battle,
                                                                                       in_npc_interaction,
                                                                                       graphic_dict,
                                                                                       necrola_battle_sprite,
                                                                                       osodark_battle_sprite,
                                                                                       stelli_battle_sprite,
                                                                                       chorizon_phase,
                                                                                       erebyth_battle_sprite,
                                                                                       turn_counter,
                                                                                       atmon_battle_sprite,
                                                                                       jumano_battle_sprite,
                                                                                       dreth_battle_sprite,
                                                                                       apothis_gift, cloaked,
                                                                                       time_of_day, first_attack)

                                                # combat event function that handles and returns damage and health
                                                combat_events = \
                                                    combat_scenario.attack_scenario(current_enemy_battling,
                                                                                    "attack", player,
                                                                                    hard_strike_learned,
                                                                                    level_up_win, level_up_font,
                                                                                    graphic_dict,
                                                                                    sharp_sense_active,
                                                                                    barrier_active, turn_taken,
                                                                                    stun_them, mirror_image,
                                                                                    turn_counter,
                                                                                    atmon_counter, prism_received,
                                                                                    turn_counter,
                                                                                    apothis_upgrade, trading_deck,
                                                                                    trading_task_complete,
                                                                                    any_card_counter, card_deck,
                                                                                    arrow_active, fire_active,
                                                                                    edge_active, cloaked, burned,
                                                                                    poisoned, bleeding, crushed,
                                                                                    strike_active, edge_active)
                                                try:
                                                    stun_them = combat_events["stunned"]
                                                except TypeError and KeyError:
                                                    stun_them = False
                                                combat_happened = True
                                                combat_tic = time.perf_counter()
                                                combat_cooldown = True
                                                # add all combat scenario happenings from function to message box
                                                try:
                                                    if combat_events["damage taken string"] == 0:
                                                        info_text_2 = ""
                                                    else:
                                                        info_text_2 = str(combat_events["damage taken string"])
                                                except TypeError:
                                                    pass
                                                gameplay_functions.player_info_and_ui_updates(player, hp_bar,
                                                                                              en_bar, xp_bar,
                                                                                              star_power_meter,
                                                                                              offense_meter,
                                                                                              defense_meter,
                                                                                              graphic_dict,
                                                                                              basic_armor,
                                                                                              forged_armor,
                                                                                              mythical_armor,
                                                                                              legendary_armor,
                                                                                              power_gloves,
                                                                                              chroma_boots,
                                                                                              neras_grace,
                                                                                              arens_strength,
                                                                                              spirit_of_wisdom, crushed)
                                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                    frame = pygame.transform.smoothscale(screen,
                                                                                         (SCREEN_WIDTH,
                                                                                          SCREEN_HEIGHT))
                                                    game_window.blit(frame, frame.get_rect())
                                                    pygame.display.flip()
                                                else:
                                                    pygame.display.flip()
                                            else:
                                                info_text_1 = "Barrier spell is already active."

                                    # player is a scout and uses sharp sense. Set sharp sense active to true
                                    # save original offense value to be re applied upon enemy or player defeat
                                    if player.role == "scout":
                                        if sharp_sense_learned:
                                            if not sharp_sense_active:
                                                pygame.mixer.find_channel(True).play(sfx_scout_sense)
                                                info_text_1 = "Sharp sense is active."
                                                sharp_sense_active = True
                                                if player.equipment["trinket 3"] != "":
                                                    player.energy -= 5
                                                elif player.equipment["trinket 3"] == "":
                                                    player.energy -= 10
                                                turn_taken = True
                                                attack_hotkey = False
                                                combat_scenario.battle_animation_player(player,
                                                                                        player_battle_sprite,
                                                                                        barrier_active,
                                                                                        sharp_sense_active,
                                                                                        graphic_dict,
                                                                                        kasper_unlocked, torok_unlocked,
                                                                                        iriana_unlocked,
                                                                                        kasper_battle_sprite,
                                                                                        torok_battle_sprite,
                                                                                        iriana_battle_sprite)
                                                combat_scenario.battle_animation_enemy(current_enemy_battling,
                                                                                       snake_battle_sprite,
                                                                                       ghoul_battle_sprite,
                                                                                       chorizon_battle_sprite,
                                                                                       muchador_battle_sprite,
                                                                                       magmon_battle_sprite,
                                                                                       bandile_battle_sprite,
                                                                                       chinzilla_battle_sprite,
                                                                                       in_battle,
                                                                                       in_npc_interaction,
                                                                                       graphic_dict,
                                                                                       necrola_battle_sprite,
                                                                                       osodark_battle_sprite,
                                                                                       stelli_battle_sprite,
                                                                                       chorizon_phase,
                                                                                       erebyth_battle_sprite,
                                                                                       turn_counter,
                                                                                       atmon_battle_sprite,
                                                                                       jumano_battle_sprite,
                                                                                       dreth_battle_sprite,
                                                                                       apothis_gift, cloaked,
                                                                                       time_of_day, first_attack)

                                                # combat event function that handles and returns damage and health
                                                combat_events = \
                                                    combat_scenario.attack_scenario(current_enemy_battling,
                                                                                    "attack", player,
                                                                                    hard_strike_learned,
                                                                                    level_up_win, level_up_font,
                                                                                    graphic_dict,
                                                                                    sharp_sense_active,
                                                                                    barrier_active, turn_taken,
                                                                                    stun_them, mirror_image,
                                                                                    turn_counter,
                                                                                    atmon_counter, prism_received,
                                                                                    turn_counter,
                                                                                    apothis_upgrade, trading_deck,
                                                                                    trading_task_complete,
                                                                                    any_card_counter, card_deck,
                                                                                    arrow_active, fire_active,
                                                                                    edge_active, cloaked, burned,
                                                                                    poisoned, bleeding, crushed,
                                                                                    strike_active, edge_active)
                                                try:
                                                    stun_them = combat_events["stunned"]
                                                except TypeError and KeyError:
                                                    stun_them = False
                                                combat_happened = True
                                                combat_tic = time.perf_counter()
                                                combat_cooldown = True
                                                # add all combat scenario happenings from function to message box
                                                try:
                                                    if combat_events["damage taken string"] == 0:
                                                        info_text_2 = ""
                                                    else:
                                                        info_text_2 = str(combat_events["damage taken string"])
                                                except TypeError:
                                                    pass
                                                gameplay_functions.player_info_and_ui_updates(player, hp_bar,
                                                                                              en_bar, xp_bar,
                                                                                              star_power_meter,
                                                                                              offense_meter,
                                                                                              defense_meter,
                                                                                              graphic_dict,
                                                                                              basic_armor,
                                                                                              forged_armor,
                                                                                              mythical_armor,
                                                                                              legendary_armor,
                                                                                              power_gloves,
                                                                                              chroma_boots,
                                                                                              neras_grace,
                                                                                              arens_strength,
                                                                                              spirit_of_wisdom, crushed)
                                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                    frame = pygame.transform.smoothscale(screen,
                                                                                         (SCREEN_WIDTH,
                                                                                          SCREEN_HEIGHT))
                                                    game_window.blit(frame, frame.get_rect())
                                                    pygame.display.flip()
                                                else:
                                                    pygame.display.flip()
                                            else:
                                                info_text_1 = "Sharp sense is already active."

                                    # player is a fighter and uses hard strike
                                    if player.role == "fighter":
                                        if hard_strike_learned:
                                            if player.equipment["trinket 3"] != "":
                                                player.energy -= 5
                                            elif player.equipment["trinket 3"] == "":
                                                player.energy -= 10
                                            pygame.mixer.find_channel(True).play(sfx_fighter_strike)
                                            hard_strike = True
                                            strike_active = True
                                            combat_scenario.fighter(graphic_dict, player, player_battle_sprite,
                                                                    sharp_sense_active, barrier_active)
                                            combat_events = combat_scenario.attack_scenario(current_enemy_battling,
                                                                                            "skill 1", player,
                                                                                            hard_strike_learned,
                                                                                            level_up_win,
                                                                                            level_up_font,
                                                                                            graphic_dict,
                                                                                            sharp_sense_active,
                                                                                            barrier_active,
                                                                                            turn_taken, stun_them,
                                                                                            mirror_image,
                                                                                            turn_counter,
                                                                                            atmon_counter,
                                                                                            prism_received,
                                                                                            turn_counter,
                                                                                            apothis_upgrade,
                                                                                            trading_deck,
                                                                                            trading_task_complete,
                                                                                            any_card_counter,
                                                                                            card_deck, arrow_active,
                                                                                            fire_active, edge_active,
                                                                                            cloaked, burned,
                                                                                            poisoned, bleeding, crushed,
                                                                                            strike_active, edge_active)
                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True
                                            # add all combat scenario happenings from function to message box
                                            try:
                                                if combat_events["damage done string"] == 0:
                                                    info_text_1 = ""
                                                else:
                                                    info_text_1 = str(combat_events["damage done string"])
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            try:
                                                battle_info_to_return_to_main_loop["knowledge"] = ""
                                                if combat_events["enemy defeated"]:
                                                    if combat_events["item dropped"] != "No":
                                                        try:
                                                            prism_received = combat_events["prism_received"]
                                                        except KeyError:
                                                            pass
                                                        battle_info_to_return_to_main_loop["item dropped"] = \
                                                            str(combat_events["item dropped"])
                                                    else:
                                                        battle_info_to_return_to_main_loop["item dropped"] = ""
                                                    if combat_events["experience gained"] != 0:
                                                        battle_info_to_return_to_main_loop["experience"] = \
                                                            str(combat_events["experience gained"])
                                                    else:
                                                        battle_info_to_return_to_main_loop["experience"] = ""
                                                if combat_events["enemy defeated"]:
                                                    if combat_events["leveled"]:
                                                        pygame.mixer.find_channel(True).play(sfx_level_up)
                                                        battle_info_to_return_to_main_loop["leveled_up"] = True
                                                        level_visual = True
                                                        level_visual_tic = time.perf_counter()
                                                if combat_events["enemy defeated"]:
                                                    if current_enemy_battling.kind == "dreth":
                                                        dreth_defeated = True
                                                    if current_enemy_battling.kind != "stelli":
                                                        current_enemy_battling.alive_status = False
                                                    if current_enemy_battling.kind == "atmon":
                                                        atmon_counter += 1
                                                    # player will gain knowledge based on their current role
                                                    if current_enemy_battling.level >= player.level - 2:
                                                        player.knowledge["fighter"] += 25
                                                        if player.knowledge["fighter"] >= 100:
                                                            player.fighter_level += 1
                                                            role_lvl_surf = font.render(str(player.fighter_level), True,
                                                                                        "black", "light yellow")
                                                            role_lvl_rect = role_lvl_surf.get_rect()
                                                            role_lvl_rect.center = (925, 148)
                                                            drawing_functions.role_level_window_text.append(
                                                                (role_lvl_surf,
                                                                 role_lvl_rect))
                                                            role_level_up_popup.update(885, 136,
                                                                                       graphic_dict["fighter_level_up"])
                                                            drawing_functions.role_level_up_popup.append(
                                                                role_level_up_popup)
                                                            player.knowledge["fighter"] = player.knowledge[
                                                                                              "fighter"] - 100
                                                            pygame.mixer.find_channel(True).play(sfx_role_level)
                                                        battle_info_to_return_to_main_loop["knowledge"] = "+25 fighter"
                                                    elif current_enemy_battling.level > player.level - 3:
                                                        player.knowledge["fighter"] += 15
                                                        if player.knowledge["fighter"] >= 100:
                                                            player.fighter_level += 1
                                                            role_lvl_surf = font.render(str(player.fighter_level), True,
                                                                                        "black", "light yellow")
                                                            role_lvl_rect = role_lvl_surf.get_rect()
                                                            role_lvl_rect.center = (925, 148)
                                                            drawing_functions.role_level_window_text.append(
                                                                (role_lvl_surf,
                                                                 role_lvl_rect))
                                                            role_level_up_popup.update(885, 136,
                                                                                       graphic_dict["fighter_level_up"])
                                                            drawing_functions.role_level_up_popup.append(
                                                                role_level_up_popup)
                                                            player.knowledge["fighter"] = player.knowledge[
                                                                                              "fighter"] - 100
                                                            pygame.mixer.find_channel(True).play(sfx_role_level)
                                                        battle_info_to_return_to_main_loop["knowledge"] = "+15 fighter"
                                                    elif current_enemy_battling.level > player.level - 4:
                                                        player.knowledge["fighter"] += 5
                                                        if player.knowledge["fighter"] >= 100:
                                                            player.fighter_level += 1
                                                            role_lvl_surf = font.render(str(player.fighter_level), True,
                                                                                        "black", "light yellow")
                                                            role_lvl_rect = role_lvl_surf.get_rect()
                                                            role_lvl_rect.center = (925, 148)
                                                            drawing_functions.role_level_window_text.append(
                                                                (role_lvl_surf,
                                                                 role_lvl_rect))
                                                            role_level_up_popup.update(885, 136,
                                                                                       graphic_dict["fighter_level_up"])
                                                            drawing_functions.role_level_up_popup.append(
                                                                role_level_up_popup)
                                                            player.knowledge["fighter"] = player.knowledge[
                                                                                              "fighter"] - 100
                                                            pygame.mixer.find_channel(True).play(sfx_role_level)
                                                        battle_info_to_return_to_main_loop["knowledge"] = "+5 fighter"
                                                    else:
                                                        battle_info_to_return_to_main_loop["knowledge"] = ""
                                                    # if player has a pet seed, add to it for this role
                                                    if seed_given:
                                                        if seed_mage_count < 4 and seed_fighter_count < 4 and \
                                                                seed_scout_count < 4:
                                                            seed_fighter_count += 1
                                                    if current_enemy_battling.kind == "nede ghoul":
                                                        nede_ghoul_defeated = True
                                                        ghoul_nede.kill()
                                                    if current_enemy_battling.kind == "chorizon_1":
                                                        mini_boss_1 = False
                                                        mini_boss_1_defeated = True
                                                        chorizon_1.kill()
                                                        chorizon_phase = False
                                                    if current_enemy_battling.kind == "chorizon_2":
                                                        mini_boss_2 = False
                                                        mini_boss_2_defeated = True
                                                        chorizon_2.kill()
                                                        chorizon_phase = False
                                                    if current_enemy_battling.name == "Muchador":
                                                        muchador_defeated = True
                                                        muchador.kill()
                                                    if current_enemy_battling.name == "Chinzilla":
                                                        chinzilla_defeated = True
                                                        chinzilla.kill()
                                                    if barrier_active:
                                                        barrier_active = False
                                                        # noinspection PyUnboundLocalVariable
                                                    if sharp_sense_active:
                                                        sharp_sense_active = False
                                                        # noinspection PyUnboundLocalVariable
                                                    movement_able = True
                                                    combat_happened = False
                                                    interacted = False
                                                    encounter_started = False
                                                    in_battle = False
                                                    in_over_world = True
                                                    combat_cooldown = False
                                                    loot_updated = False
                                                    if mirror_image:
                                                        if transpose_orb == 0 or transpose_orb == 1:
                                                            info_text_1 = "Gained 20 energy from Transposition."
                                                            player.energy += 20
                                                            if player.energy > 100:
                                                                player.energy = 100
                                                            transpose_orb = 0
                                                        if transpose_orb == 2 or transpose_orb == 3:
                                                            info_text_1 = "Gained 30 energy from Transposition."
                                                            player.energy += 30
                                                            if player.energy > 100:
                                                                player.energy = 100
                                                            transpose_orb = 0
                                                        if transpose_orb >= 4:
                                                            info_text_1 = "Gained 40 energy from Transposition."
                                                            player.energy += 40
                                                            if player.energy > 100:
                                                                player.energy = 100
                                                            transpose_orb = 0
                                                    mirror_image = False
                                                    fire_active = False
                                                    arrow_active = False
                                                    show_arrow = False
                                                    show_poison_arrow = False
                                                    edge_active = False
                                                    show_edge = False
                                                    strike_active = False
                                                    cleared = False
                                                    cloaked = False
                                                    turn_counter = 0
                                                    card_popup_checked = False
                                                    loot_timer_reset = False
                                                    loot_level_tic = time.perf_counter()
                                                    first_attack = True
                                                    if on_card_quest:
                                                        try:
                                                            any_card_counter = combat_events["any_card_counter"]
                                                        except KeyError:
                                                            pass
                                            except TypeError:
                                                pass

                            elif combat_button == "skill 2" or skill_2_hotkey and not combat_cooldown:
                                skill_2_hotkey = False
                                # make sure player has enough energy to use the skill
                                if (player.equipment["trinket 3"] == "" and player.energy > 19
                                        or player.equipment["trinket 3"] != "" and player.energy > 9):
                                    if first_attack:
                                        first_attack = False
                                        if (current_enemy_battling.kind == "snake"
                                                or current_enemy_battling.kind == "magmon"
                                                or current_enemy_battling.kind == "bandile"
                                                or current_enemy_battling.kind == "osodark"
                                                or current_enemy_battling.kind == "atmon"
                                                or current_enemy_battling.kind == "stelli"):
                                            if time_of_day == 0 or time_of_day == 7:
                                                stun_them = True
                                        if current_enemy_battling.kind == "chinzilla":
                                            if time_of_day != 0 and time_of_day != 7:
                                                stun_them = True
                                    turn_counter += 1
                                    if mirror_image and transpose_orb < 5:
                                        transpose_orb += 1
                                    elif transpose_orb == 5:
                                        player.energy += 40
                                        if player.energy > 100:
                                            player.energy = 100
                                        transpose_orb = 0
                                        mirror_image = False
                                    if player.role == "mage":
                                        if mirror_learned:
                                            if not mirror_image:
                                                pygame.mixer.find_channel(True).play(sfx_mage_mirror)
                                                info_text_1 = "Transposition spell is active."
                                                mirror_image = True
                                                if player.equipment["trinket 3"] != "":
                                                    player.energy -= 10
                                                elif player.equipment["trinket 3"] == "":
                                                    player.energy -= 20
                                                combat_scenario.attack_animation_player(player,
                                                                                        player_battle_sprite,
                                                                                        barrier_active,
                                                                                        sharp_sense_active,
                                                                                        hard_strike, graphic_dict,
                                                                                        turn_taken,
                                                                                        kasper_unlocked, torok_unlocked,
                                                                                        iriana_unlocked,
                                                                                        kasper_battle_sprite,
                                                                                        torok_battle_sprite,
                                                                                        iriana_battle_sprite)
                                                combat_scenario.battle_animation_enemy(current_enemy_battling,
                                                                                       snake_battle_sprite,
                                                                                       ghoul_battle_sprite,
                                                                                       chorizon_battle_sprite,
                                                                                       magmon_battle_sprite,
                                                                                       muchador_battle_sprite,
                                                                                       bandile_battle_sprite,
                                                                                       chinzilla_battle_sprite,
                                                                                       in_battle,
                                                                                       in_npc_interaction,
                                                                                       graphic_dict,
                                                                                       necrola_battle_sprite,
                                                                                       osodark_battle_sprite,
                                                                                       stelli_battle_sprite,
                                                                                       chorizon_phase,
                                                                                       erebyth_battle_sprite,
                                                                                       turn_counter,
                                                                                       atmon_battle_sprite,
                                                                                       jumano_battle_sprite,
                                                                                       dreth_battle_sprite,
                                                                                       apothis_gift, cloaked,
                                                                                       time_of_day, first_attack)
                                                turn_taken = True
                                                attack_hotkey = False

                                                # combat event function that handles and returns damage and health
                                                combat_events = combat_scenario.attack_scenario(
                                                    current_enemy_battling, "attack", player, hard_strike_learned,
                                                    level_up_win, level_up_font, graphic_dict, sharp_sense_active,
                                                    barrier_active, turn_taken, stun_them, mirror_image,
                                                    turn_counter, atmon_counter, prism_received,
                                                    turn_counter, apothis_upgrade, trading_deck,
                                                    trading_task_complete, any_card_counter, card_deck,
                                                    arrow_active, fire_active, edge_active, cloaked, burned, poisoned,
                                                    bleeding, crushed, strike_active, edge_active)
                                                try:
                                                    stun_them = combat_events["stunned"]
                                                except TypeError and KeyError:
                                                    stun_them = False
                                                combat_happened = True
                                                combat_tic = time.perf_counter()
                                                combat_cooldown = True

                                                # add all combat scenario happenings from function to message box
                                                try:
                                                    if combat_events["damage taken string"] == 0:
                                                        info_text_2 = ""
                                                    else:
                                                        info_text_2 = str(combat_events["damage taken string"])
                                                except TypeError:
                                                    pass
                                                gameplay_functions.player_info_and_ui_updates(player, hp_bar,
                                                                                              en_bar, xp_bar,
                                                                                              star_power_meter,
                                                                                              offense_meter,
                                                                                              defense_meter,
                                                                                              graphic_dict,
                                                                                              basic_armor,
                                                                                              forged_armor,
                                                                                              mythical_armor,
                                                                                              legendary_armor,
                                                                                              power_gloves,
                                                                                              chroma_boots,
                                                                                              neras_grace,
                                                                                              arens_strength,
                                                                                              spirit_of_wisdom, crushed)
                                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                    frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                                  SCREEN_HEIGHT))
                                                    game_window.blit(frame, frame.get_rect())
                                                    pygame.display.flip()
                                                else:
                                                    pygame.display.flip()
                                            else:
                                                if transpose_orb == 0 or transpose_orb == 1:
                                                    info_text_1 = "Gained 20 energy from Transposition."
                                                    player.energy += 20
                                                    if player.energy > 100:
                                                        player.energy = 100
                                                    transpose_orb = 0
                                                    mirror_image = False
                                                if transpose_orb == 2 or transpose_orb == 3:
                                                    info_text_1 = "Gained 30 energy from Transposition."
                                                    player.energy += 30
                                                    if player.energy > 100:
                                                        player.energy = 100
                                                    transpose_orb = 0
                                                    mirror_image = False
                                                if transpose_orb >= 4:
                                                    info_text_1 = "Gained 40 energy from Transposition."
                                                    player.energy += 40
                                                    if player.energy > 100:
                                                        player.energy = 100
                                                    transpose_orb = 0
                                                    mirror_image = False

                                    if player.role == "fighter":
                                        if stun_learned:
                                            info_text_1 = f"{current_enemy_battling.name} is stunned."
                                            pygame.mixer.find_channel(True).play(sfx_fighter_stun)
                                            stun_visual_tic = time.perf_counter()
                                            stun_them = True
                                            stun_visual = True
                                            if player.equipment["trinket 3"] != "":
                                                player.energy -= 10
                                            elif player.equipment["trinket 3"] == "":
                                                player.energy -= 20
                                            turn_taken = True
                                            attack_hotkey = False
                                            gameplay_functions.player_info_and_ui_updates(player, hp_bar,
                                                                                          en_bar, xp_bar,
                                                                                          star_power_meter,
                                                                                          offense_meter,
                                                                                          defense_meter,
                                                                                          graphic_dict,
                                                                                          basic_armor,
                                                                                          forged_armor,
                                                                                          mythical_armor,
                                                                                          legendary_armor,
                                                                                          power_gloves,
                                                                                          chroma_boots,
                                                                                          neras_grace,
                                                                                          arens_strength,
                                                                                          spirit_of_wisdom, crushed)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        else:
                                            info_text_1 = "Stun not learned."

                                    if player.role == "scout":
                                        if vanish_learned:
                                            pygame.mixer.find_channel(True).play(sfx_scout_vanish)
                                            skill_2_hotkey = False
                                            movement_able = True
                                            combat_happened = False
                                            interacted = False
                                            encounter_started = False
                                            in_battle = False
                                            combat_cooldown = False
                                            in_over_world = True
                                            loot_updated = False
                                            if barrier_active:
                                                barrier_active = False
                                                # noinspection PyUnboundLocalVariable
                                            if sharp_sense_active:
                                                sharp_sense_active = False
                                                # noinspection PyUnboundLocalVariable
                                            if player.equipment["trinket 3"] != "":
                                                player.energy -= 10
                                            elif player.equipment["trinket 3"] == "":
                                                player.energy -= 20
                                            if mirror_image:
                                                if transpose_orb == 0 or transpose_orb == 1:
                                                    info_text_1 = "Gained 20 energy from Transposition."
                                                    player.energy += 20
                                                    if player.energy > 100:
                                                        player.energy = 100
                                                    transpose_orb = 0
                                                if transpose_orb == 2 or transpose_orb == 3:
                                                    info_text_1 = "Gained 30 energy from Transposition."
                                                    player.energy += 30
                                                    if player.energy > 100:
                                                        player.energy = 100
                                                    transpose_orb = 0
                                                if transpose_orb >= 4:
                                                    info_text_1 = "Gained 40 energy from Transposition."
                                                    player.energy += 40
                                                    if player.energy > 100:
                                                        player.energy = 100
                                                    transpose_orb = 0
                                            mirror_image = False
                                            fire_active = False
                                            arrow_active = False
                                            show_arrow = False
                                            show_poison_arrow = False
                                            edge_active = False
                                            show_edge = False
                                            strike_active = False
                                            vanished = True
                                            cleared = False
                                            leveled = False
                                            cloaked = False
                                            turn_counter = 0
                                            first_attack = True
                                            battle_info_to_return_to_main_loop["item dropped"] = ""
                                            battle_info_to_return_to_main_loop["experience"] = 0
                                            battle_info_to_return_to_main_loop["knowledge"] = ""
                                            vanished_tic = time.perf_counter()
                                else:
                                    info_text_1 = "Not enough energy to use this skill."

                            elif combat_button == "skill 3" or skill_3_hotkey and not combat_cooldown:
                                skill_3_hotkey = False
                                # make sure player has enough energy to use the skill
                                if (player.equipment["trinket 3"] == "" and player.energy > 29
                                        or player.equipment["trinket 3"] != "" and player.energy > 14):
                                    if first_attack:
                                        first_attack = False
                                        if (current_enemy_battling.kind == "snake"
                                                or current_enemy_battling.kind == "magmon"
                                                or current_enemy_battling.kind == "bandile"
                                                or current_enemy_battling.kind == "osodark"
                                                or current_enemy_battling.kind == "atmon"
                                                or current_enemy_battling.kind == "stelli"):
                                            if time_of_day == 0 or time_of_day == 7:
                                                stun_them = True
                                        if current_enemy_battling.kind == "chinzilla":
                                            if time_of_day != 0 and time_of_day != 7:
                                                stun_them = True
                                    turn_counter += 1
                                    if mirror_image and transpose_orb < 5:
                                        transpose_orb += 1
                                    elif transpose_orb == 5:
                                        player.energy += 40
                                        if player.energy > 100:
                                            player.energy = 100
                                        transpose_orb = 0
                                        mirror_image = False
                                    if player.role == "mage":
                                        if fire_learned:
                                            if not fire_active:
                                                pygame.mixer.find_channel(True).play(sfx_mage_fire)
                                                info_text_1 = "Millennium Fire spell is active."
                                                fire_active = True
                                                if player.equipment["trinket 3"] != "":
                                                    player.energy -= 15
                                                elif player.equipment["trinket 3"] == "":
                                                    player.energy -= 30

                                                combat_scenario.attack_animation_player(player,
                                                                                        player_battle_sprite,
                                                                                        barrier_active,
                                                                                        sharp_sense_active,
                                                                                        hard_strike, graphic_dict,
                                                                                        turn_taken,
                                                                                        kasper_unlocked, torok_unlocked,
                                                                                        iriana_unlocked,
                                                                                        kasper_battle_sprite,
                                                                                        torok_battle_sprite,
                                                                                        iriana_battle_sprite)
                                                combat_scenario.battle_animation_enemy(current_enemy_battling,
                                                                                       snake_battle_sprite,
                                                                                       ghoul_battle_sprite,
                                                                                       chorizon_battle_sprite,
                                                                                       magmon_battle_sprite,
                                                                                       muchador_battle_sprite,
                                                                                       bandile_battle_sprite,
                                                                                       chinzilla_battle_sprite,
                                                                                       in_battle,
                                                                                       in_npc_interaction,
                                                                                       graphic_dict,
                                                                                       necrola_battle_sprite,
                                                                                       osodark_battle_sprite,
                                                                                       stelli_battle_sprite,
                                                                                       chorizon_phase,
                                                                                       erebyth_battle_sprite,
                                                                                       turn_counter,
                                                                                       atmon_battle_sprite,
                                                                                       jumano_battle_sprite,
                                                                                       dreth_battle_sprite,
                                                                                       apothis_gift, cloaked,
                                                                                       time_of_day, first_attack)

                                                # combat event function that handles and returns damage and health
                                                combat_events = combat_scenario.attack_scenario(
                                                    current_enemy_battling, "attack", player, hard_strike_learned,
                                                    level_up_win, level_up_font, graphic_dict, sharp_sense_active,
                                                    barrier_active, turn_taken, stun_them, mirror_image,
                                                    turn_counter, atmon_counter, prism_received,
                                                    turn_counter, apothis_upgrade, trading_deck,
                                                    trading_task_complete, any_card_counter, card_deck,
                                                    arrow_active, fire_active, edge_active, cloaked, burned, poisoned,
                                                    bleeding, crushed, strike_active, edge_active)

                                                turn_taken = True
                                                attack_hotkey = False

                                                try:
                                                    stun_them = combat_events["stunned"]
                                                except TypeError and KeyError:
                                                    stun_them = False
                                                combat_happened = True
                                                combat_tic = time.perf_counter()
                                                combat_cooldown = True

                                                # add all combat scenario happenings from function to message box
                                                try:
                                                    if combat_events["damage done string"] == 0:
                                                        info_text_1 = ""
                                                    else:
                                                        info_text_1 = str(combat_events["damage done string"])
                                                    if combat_events["damage taken string"] == 0:
                                                        info_text_2 = ""
                                                    else:
                                                        info_text_2 = str(combat_events["damage taken string"])
                                                except TypeError:
                                                    pass
                                                try:
                                                    battle_info_to_return_to_main_loop["knowledge"] = ""
                                                    if combat_events["enemy defeated"]:
                                                        if combat_events["item dropped"] != "No":
                                                            try:
                                                                prism_received = combat_events["prism_received"]
                                                            except KeyError:
                                                                pass
                                                            battle_info_to_return_to_main_loop["item dropped"] = \
                                                                str(combat_events["item dropped"])
                                                        else:
                                                            battle_info_to_return_to_main_loop[
                                                                "item dropped"] = ""
                                                        if combat_events["experience gained"] != 0:
                                                            battle_info_to_return_to_main_loop["experience"] = \
                                                                str(combat_events["experience gained"])
                                                        else:
                                                            battle_info_to_return_to_main_loop["experience"] = ""
                                                    if combat_events["enemy defeated"]:
                                                        if combat_events["leveled"]:
                                                            pygame.mixer.find_channel(True).play(sfx_level_up)
                                                            battle_info_to_return_to_main_loop["leveled_up"] = True
                                                            level_visual = True
                                                            level_visual_tic = time.perf_counter()
                                                    if combat_events["enemy defeated"]:
                                                        if current_enemy_battling.kind == "dreth":
                                                            dreth_defeated = True
                                                        if current_enemy_battling.kind != "stelli":
                                                            current_enemy_battling.alive_status = False
                                                        if current_enemy_battling.kind == "atmon":
                                                            atmon_counter += 1
                                                        # player will gain knowledge based on their current role
                                                        if current_enemy_battling.level >= player.level - 2:
                                                            player.knowledge["mage"] += 25
                                                            if player.knowledge["mage"] >= 100:
                                                                player.mage_level += 1
                                                                role_lvl_surf = font.render(str(player.mage_level),
                                                                                            True,
                                                                                            "black", "light yellow")
                                                                role_lvl_rect = role_lvl_surf.get_rect()
                                                                role_lvl_rect.center = (925, 148)
                                                                drawing_functions.role_level_window_text.append(
                                                                    (role_lvl_surf,
                                                                     role_lvl_rect))
                                                                role_level_up_popup.update(885, 136, graphic_dict[
                                                                    "mage_level_up"])
                                                                drawing_functions.role_level_up_popup.append(
                                                                    role_level_up_popup)
                                                                player.knowledge["mage"] = player.knowledge[
                                                                                               "mage"] - 100
                                                                pygame.mixer.find_channel(True).play(sfx_role_level)
                                                            battle_info_to_return_to_main_loop["knowledge"] = "+25 Mage"
                                                        elif current_enemy_battling.level > player.level - 3:
                                                            player.knowledge["mage"] += 15
                                                            if player.knowledge["mage"] >= 100:
                                                                player.mage_level += 1
                                                                role_lvl_surf = font.render(str(player.mage_level),
                                                                                            True,
                                                                                            "black", "light yellow")
                                                                role_lvl_rect = role_lvl_surf.get_rect()
                                                                role_lvl_rect.center = (925, 148)
                                                                drawing_functions.role_level_window_text.append(
                                                                    (role_lvl_surf,
                                                                     role_lvl_rect))
                                                                role_level_up_popup.update(885, 136, graphic_dict[
                                                                    "mage_level_up"])
                                                                drawing_functions.role_level_up_popup.append(
                                                                    role_level_up_popup)
                                                                player.knowledge["mage"] = player.knowledge[
                                                                                               "mage"] - 100
                                                                pygame.mixer.find_channel(True).play(sfx_role_level)
                                                            battle_info_to_return_to_main_loop["knowledge"] = "+15 Mage"
                                                        elif current_enemy_battling.level > player.level - 4:
                                                            player.knowledge["mage"] += 5
                                                            if player.knowledge["mage"] >= 100:
                                                                player.mage_level += 1
                                                                role_lvl_surf = font.render(str(player.mage_level),
                                                                                            True,
                                                                                            "black", "light yellow")
                                                                role_lvl_rect = role_lvl_surf.get_rect()
                                                                role_lvl_rect.center = (925, 148)
                                                                drawing_functions.role_level_window_text.append(
                                                                    (role_lvl_surf,
                                                                     role_lvl_rect))
                                                                role_level_up_popup.update(885, 136, graphic_dict[
                                                                    "mage_level_up"])
                                                                drawing_functions.role_level_up_popup.append(
                                                                    role_level_up_popup)
                                                                player.knowledge["mage"] = player.knowledge[
                                                                                               "mage"] - 100
                                                                pygame.mixer.find_channel(True).play(sfx_role_level)
                                                            battle_info_to_return_to_main_loop["knowledge"] = "+5 Mage"
                                                        else:
                                                            battle_info_to_return_to_main_loop["knowledge"] = ""
                                                        # if player has a pet seed, add to it for this role
                                                        if seed_given:
                                                            if seed_mage_count < 4 and seed_fighter_count < 4 and \
                                                                    seed_scout_count < 4:
                                                                seed_mage_count += 1
                                                        if current_enemy_battling.kind == "nede ghoul":
                                                            nede_ghoul_defeated = True
                                                            ghoul_nede.kill()
                                                        if current_enemy_battling.kind == "chorizon_1":
                                                            mini_boss_1 = False
                                                            mini_boss_1_defeated = True
                                                            chorizon_1.kill()
                                                            chorizon_phase = False
                                                        if current_enemy_battling.kind == "chorizon_2":
                                                            mini_boss_2 = False
                                                            mini_boss_2_defeated = True
                                                            chorizon_2.kill()
                                                            chorizon_phase = False
                                                        if current_enemy_battling.name == "Muchador":
                                                            muchador_defeated = True
                                                            muchador.kill()
                                                        if current_enemy_battling.name == "Chinzilla":
                                                            chinzilla_defeated = True
                                                            chinzilla.kill()
                                                        if barrier_active:
                                                            barrier_active = False
                                                            # noinspection PyUnboundLocalVariable
                                                        if sharp_sense_active:
                                                            sharp_sense_active = False
                                                            # noinspection PyUnboundLocalVariable
                                                        movement_able = True
                                                        combat_happened = False
                                                        interacted = False
                                                        encounter_started = False
                                                        in_battle = False
                                                        combat_cooldown = False
                                                        in_over_world = True
                                                        loot_updated = False
                                                        if mirror_image:
                                                            if transpose_orb == 0 or transpose_orb == 1:
                                                                info_text_1 = "Gained 20 energy from Transposition."
                                                                player.energy += 20
                                                                if player.energy > 100:
                                                                    player.energy = 100
                                                                transpose_orb = 0
                                                            if transpose_orb == 2 or transpose_orb == 3:
                                                                info_text_1 = "Gained 30 energy from Transposition."
                                                                player.energy += 30
                                                                if player.energy > 100:
                                                                    player.energy = 100
                                                                transpose_orb = 0
                                                            if transpose_orb >= 4:
                                                                info_text_1 = "Gained 40 energy from Transposition."
                                                                player.energy += 40
                                                                if player.energy > 100:
                                                                    player.energy = 100
                                                                transpose_orb = 0
                                                        mirror_image = False
                                                        fire_active = False
                                                        arrow_active = False
                                                        show_arrow = False
                                                        show_poison_arrow = False
                                                        edge_active = False
                                                        show_edge = False
                                                        strike_active = False
                                                        cleared = False
                                                        cloaked = False
                                                        turn_counter = 0
                                                        card_popup_checked = False
                                                        loot_timer_reset = False
                                                        loot_level_tic = time.perf_counter()
                                                        first_attack = True
                                                        if on_card_quest:
                                                            try:
                                                                any_card_counter = combat_events["any_card_counter"]
                                                            except KeyError:
                                                                pass
                                                except TypeError:
                                                    pass

                                                gameplay_functions.player_info_and_ui_updates(player, hp_bar,
                                                                                              en_bar, xp_bar,
                                                                                              star_power_meter,
                                                                                              offense_meter,
                                                                                              defense_meter,
                                                                                              graphic_dict,
                                                                                              basic_armor,
                                                                                              forged_armor,
                                                                                              mythical_armor,
                                                                                              legendary_armor,
                                                                                              power_gloves,
                                                                                              chroma_boots,
                                                                                              neras_grace,
                                                                                              arens_strength,
                                                                                              spirit_of_wisdom, crushed)
                                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                    frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                                  SCREEN_HEIGHT))
                                                    game_window.blit(frame, frame.get_rect())
                                                    pygame.display.flip()
                                                else:
                                                    pygame.display.flip()
                                            else:
                                                info_text_1 = "Millennium Fire spell is already active."

                                    if player.role == "fighter":
                                        if edge_learned:
                                            edge_active = True
                                            show_edge = True
                                            pygame.mixer.find_channel(True).play(sfx_fighter_edge)
                                            if player.equipment["trinket 3"] != "":
                                                player.energy -= 15
                                            elif player.equipment["trinket 3"] == "":
                                                player.energy -= 30

                                            combat_scenario.attack_animation_player(player,
                                                                                    player_battle_sprite,
                                                                                    barrier_active,
                                                                                    sharp_sense_active,
                                                                                    hard_strike, graphic_dict,
                                                                                    turn_taken,
                                                                                    kasper_unlocked, torok_unlocked,
                                                                                    iriana_unlocked,
                                                                                    kasper_battle_sprite,
                                                                                    torok_battle_sprite,
                                                                                    iriana_battle_sprite)
                                            combat_scenario.battle_animation_enemy(current_enemy_battling,
                                                                                   snake_battle_sprite,
                                                                                   ghoul_battle_sprite,
                                                                                   chorizon_battle_sprite,
                                                                                   magmon_battle_sprite,
                                                                                   muchador_battle_sprite,
                                                                                   bandile_battle_sprite,
                                                                                   chinzilla_battle_sprite,
                                                                                   in_battle,
                                                                                   in_npc_interaction,
                                                                                   graphic_dict,
                                                                                   necrola_battle_sprite,
                                                                                   osodark_battle_sprite,
                                                                                   stelli_battle_sprite,
                                                                                   chorizon_phase,
                                                                                   erebyth_battle_sprite,
                                                                                   turn_counter,
                                                                                   atmon_battle_sprite,
                                                                                   jumano_battle_sprite,
                                                                                   dreth_battle_sprite,
                                                                                   apothis_gift, cloaked,
                                                                                   time_of_day, first_attack)

                                            # combat event function that handles and returns damage and health
                                            combat_events = combat_scenario.attack_scenario(
                                                current_enemy_battling, "attack", player, hard_strike_learned,
                                                level_up_win, level_up_font, graphic_dict, sharp_sense_active,
                                                barrier_active, turn_taken, stun_them, mirror_image,
                                                turn_counter, atmon_counter, prism_received,
                                                turn_counter, apothis_upgrade, trading_deck,
                                                trading_task_complete, any_card_counter, card_deck,
                                                arrow_active, fire_active, edge_active, cloaked, burned, poisoned,
                                                bleeding, crushed, strike_active, edge_active)

                                            turn_taken = True
                                            attack_hotkey = False

                                            try:
                                                stun_them = combat_events["stunned"]
                                            except TypeError and KeyError:
                                                stun_them = False
                                            combat_happened = True
                                            combat_tic = time.perf_counter()
                                            combat_cooldown = True

                                            # add all combat scenario happenings from function to message box
                                            try:
                                                try:
                                                    if combat_events["edge health"]:
                                                        info_text_3 = ("Epsilons edge healed you for "
                                                                       + str(combat_events["edge health"]) + " HP.")
                                                except KeyError:
                                                    pass
                                            except TypeError:
                                                pass

                                            try:
                                                if combat_events["damage done string"] == 0:
                                                    info_text_1 = ""
                                                else:
                                                    info_text_1 = str(combat_events["damage done string"])
                                                if combat_events["damage taken string"] == 0:
                                                    info_text_2 = ""
                                                else:
                                                    info_text_2 = str(combat_events["damage taken string"])
                                            except TypeError:
                                                pass
                                            try:
                                                battle_info_to_return_to_main_loop["knowledge"] = ""
                                                if combat_events["enemy defeated"]:
                                                    if combat_events["item dropped"] != "No":
                                                        try:
                                                            prism_received = combat_events["prism_received"]
                                                        except KeyError:
                                                            pass
                                                        battle_info_to_return_to_main_loop["item dropped"] = \
                                                            str(combat_events["item dropped"])
                                                    else:
                                                        battle_info_to_return_to_main_loop["item dropped"] = ""
                                                    if combat_events["experience gained"] != 0:
                                                        battle_info_to_return_to_main_loop["experience"] = \
                                                            str(combat_events["experience gained"])
                                                    else:
                                                        battle_info_to_return_to_main_loop["experience"] = ""
                                                if combat_events["enemy defeated"]:
                                                    if combat_events["leveled"]:
                                                        pygame.mixer.find_channel(True).play(sfx_level_up)
                                                        battle_info_to_return_to_main_loop["leveled_up"] = True
                                                        level_visual = True
                                                        level_visual_tic = time.perf_counter()
                                                if combat_events["enemy defeated"]:
                                                    if current_enemy_battling.kind == "dreth":
                                                        dreth_defeated = True
                                                    if current_enemy_battling.kind != "stelli":
                                                        current_enemy_battling.alive_status = False
                                                    if current_enemy_battling.kind == "atmon":
                                                        atmon_counter += 1
                                                    # player will gain knowledge based on their current role
                                                    if current_enemy_battling.level >= player.level - 2:
                                                        player.knowledge["fighter"] += 25
                                                        if player.knowledge["fighter"] >= 100:
                                                            player.fighter_level += 1
                                                            role_lvl_surf = font.render(str(player.fighter_level), True,
                                                                                        "black", "light yellow")
                                                            role_lvl_rect = role_lvl_surf.get_rect()
                                                            role_lvl_rect.center = (925, 148)
                                                            drawing_functions.role_level_window_text.append(
                                                                (role_lvl_surf,
                                                                 role_lvl_rect))
                                                            role_level_up_popup.update(885, 136,
                                                                                       graphic_dict["fighter_level_up"])
                                                            drawing_functions.role_level_up_popup.append(
                                                                role_level_up_popup)
                                                            player.knowledge["fighter"] = player.knowledge[
                                                                                              "fighter"] - 100
                                                            pygame.mixer.find_channel(True).play(sfx_role_level)
                                                        battle_info_to_return_to_main_loop["knowledge"] = "+25 fighter"
                                                    elif current_enemy_battling.level > player.level - 3:
                                                        player.knowledge["fighter"] += 15
                                                        if player.knowledge["fighter"] >= 100:
                                                            player.fighter_level += 1
                                                            role_lvl_surf = font.render(str(player.fighter_level), True,
                                                                                        "black", "light yellow")
                                                            role_lvl_rect = role_lvl_surf.get_rect()
                                                            role_lvl_rect.center = (925, 148)
                                                            drawing_functions.role_level_window_text.append(
                                                                (role_lvl_surf,
                                                                 role_lvl_rect))
                                                            role_level_up_popup.update(885, 136,
                                                                                       graphic_dict["fighter_level_up"])
                                                            drawing_functions.role_level_up_popup.append(
                                                                role_level_up_popup)
                                                            player.knowledge["fighter"] = player.knowledge[
                                                                                              "fighter"] - 100
                                                            pygame.mixer.find_channel(True).play(sfx_role_level)
                                                        battle_info_to_return_to_main_loop["knowledge"] = "+15 fighter"
                                                    elif current_enemy_battling.level > player.level - 4:
                                                        player.knowledge["fighter"] += 5
                                                        if player.knowledge["fighter"] >= 100:
                                                            player.fighter_level += 1
                                                            role_lvl_surf = font.render(str(player.fighter_level), True,
                                                                                        "black", "light yellow")
                                                            role_lvl_rect = role_lvl_surf.get_rect()
                                                            role_lvl_rect.center = (925, 148)
                                                            drawing_functions.role_level_window_text.append(
                                                                (role_lvl_surf,
                                                                 role_lvl_rect))
                                                            role_level_up_popup.update(885, 136,
                                                                                       graphic_dict["fighter_level_up"])
                                                            drawing_functions.role_level_up_popup.append(
                                                                role_level_up_popup)
                                                            player.knowledge["fighter"] = player.knowledge[
                                                                                              "fighter"] - 100
                                                            pygame.mixer.find_channel(True).play(sfx_role_level)
                                                        battle_info_to_return_to_main_loop["knowledge"] = "+5 fighter"
                                                    else:
                                                        battle_info_to_return_to_main_loop["knowledge"] = ""
                                                    # if player has a pet seed, add to it for this role
                                                    if seed_given:
                                                        if seed_mage_count < 4 and seed_fighter_count < 4 and \
                                                                seed_scout_count < 4:
                                                            seed_mage_count += 1
                                                    if current_enemy_battling.kind == "nede ghoul":
                                                        nede_ghoul_defeated = True
                                                        ghoul_nede.kill()
                                                    if current_enemy_battling.kind == "chorizon_1":
                                                        mini_boss_1 = False
                                                        mini_boss_1_defeated = True
                                                        chorizon_1.kill()
                                                        chorizon_phase = False
                                                    if current_enemy_battling.kind == "chorizon_2":
                                                        mini_boss_2 = False
                                                        mini_boss_2_defeated = True
                                                        chorizon_2.kill()
                                                        chorizon_phase = False
                                                    if current_enemy_battling.name == "Muchador":
                                                        muchador_defeated = True
                                                        muchador.kill()
                                                    if current_enemy_battling.name == "Chinzilla":
                                                        chinzilla_defeated = True
                                                        chinzilla.kill()
                                                    if barrier_active:
                                                        barrier_active = False
                                                        # noinspection PyUnboundLocalVariable
                                                    if sharp_sense_active:
                                                        sharp_sense_active = False
                                                        # noinspection PyUnboundLocalVariable
                                                    combat_scenario.battle_animation_player(player,
                                                                                            player_battle_sprite,
                                                                                            barrier_active,
                                                                                            sharp_sense_active,
                                                                                            graphic_dict,
                                                                                            kasper_unlocked,
                                                                                            torok_unlocked,
                                                                                            iriana_unlocked,
                                                                                            kasper_battle_sprite,
                                                                                            torok_battle_sprite,
                                                                                            iriana_battle_sprite)
                                                    combat_scenario.battle_animation_enemy(current_enemy_battling,
                                                                                           snake_battle_sprite,
                                                                                           ghoul_battle_sprite,
                                                                                           chorizon_battle_sprite,
                                                                                           muchador_battle_sprite,
                                                                                           magmon_battle_sprite,
                                                                                           bandile_battle_sprite,
                                                                                           chinzilla_battle_sprite,
                                                                                           in_battle,
                                                                                           in_npc_interaction,
                                                                                           graphic_dict,
                                                                                           necrola_battle_sprite,
                                                                                           osodark_battle_sprite,
                                                                                           stelli_battle_sprite,
                                                                                           chorizon_phase,
                                                                                           erebyth_battle_sprite,
                                                                                           turn_counter,
                                                                                           atmon_battle_sprite,
                                                                                           jumano_battle_sprite,
                                                                                           dreth_battle_sprite,
                                                                                           apothis_gift, cloaked,
                                                                                           time_of_day, first_attack)
                                                    movement_able = True
                                                    combat_happened = False
                                                    interacted = False
                                                    encounter_started = False
                                                    in_battle = False
                                                    combat_cooldown = False
                                                    in_over_world = True
                                                    loot_updated = False
                                                    if mirror_image:
                                                        if transpose_orb == 0 or transpose_orb == 1:
                                                            info_text_1 = "Gained 20 energy from Transposition."
                                                            player.energy += 20
                                                            if player.energy > 100:
                                                                player.energy = 100
                                                            transpose_orb = 0
                                                        if transpose_orb == 2 or transpose_orb == 3:
                                                            info_text_1 = "Gained 30 energy from Transposition."
                                                            player.energy += 30
                                                            if player.energy > 100:
                                                                player.energy = 100
                                                            transpose_orb = 0
                                                        if transpose_orb >= 4:
                                                            info_text_1 = "Gained 40 energy from Transposition."
                                                            player.energy += 40
                                                            if player.energy > 100:
                                                                player.energy = 100
                                                            transpose_orb = 0
                                                    mirror_image = False
                                                    fire_active = False
                                                    arrow_active = False
                                                    show_arrow = False
                                                    show_poison_arrow = False
                                                    edge_active = False
                                                    show_edge = False
                                                    strike_active = False
                                                    cleared = False
                                                    cloaked = False
                                                    turn_counter = 0
                                                    card_popup_checked = False
                                                    loot_timer_reset = False
                                                    loot_level_tic = time.perf_counter()
                                                    first_attack = True
                                                    if on_card_quest:
                                                        try:
                                                            any_card_counter = combat_events["any_card_counter"]
                                                        except KeyError:
                                                            pass
                                            except TypeError:
                                                pass
                                            try:
                                                gameplay_functions.player_info_and_ui_updates(player, hp_bar,
                                                                                              en_bar, xp_bar,
                                                                                              star_power_meter,
                                                                                              offense_meter,
                                                                                              defense_meter,
                                                                                              graphic_dict,
                                                                                              basic_armor,
                                                                                              forged_armor,
                                                                                              mythical_armor,
                                                                                              legendary_armor,
                                                                                              power_gloves,
                                                                                              chroma_boots,
                                                                                              neras_grace,
                                                                                              arens_strength,
                                                                                              spirit_of_wisdom, crushed)
                                            except AttributeError:
                                                pass
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()

                                    if player.role == "scout":
                                        if arrow_learned:
                                            if not arrow_active:
                                                pygame.mixer.find_channel(True).play(sfx_scout_arrow)
                                                info_text_1 = "Poison Arrow is active."
                                                arrow_active = True
                                                show_poison_arrow = True
                                                if player.equipment["trinket 3"] != "":
                                                    player.energy -= 15
                                                elif player.equipment["trinket 3"] == "":
                                                    player.energy -= 30

                                                combat_scenario.attack_animation_player(player,
                                                                                        player_battle_sprite,
                                                                                        barrier_active,
                                                                                        sharp_sense_active,
                                                                                        hard_strike, graphic_dict,
                                                                                        turn_taken,
                                                                                        kasper_unlocked, torok_unlocked,
                                                                                        iriana_unlocked,
                                                                                        kasper_battle_sprite,
                                                                                        torok_battle_sprite,
                                                                                        iriana_battle_sprite)
                                                combat_scenario.battle_animation_enemy(current_enemy_battling,
                                                                                       snake_battle_sprite,
                                                                                       ghoul_battle_sprite,
                                                                                       chorizon_battle_sprite,
                                                                                       magmon_battle_sprite,
                                                                                       muchador_battle_sprite,
                                                                                       bandile_battle_sprite,
                                                                                       chinzilla_battle_sprite,
                                                                                       in_battle,
                                                                                       in_npc_interaction,
                                                                                       graphic_dict,
                                                                                       necrola_battle_sprite,
                                                                                       osodark_battle_sprite,
                                                                                       stelli_battle_sprite,
                                                                                       chorizon_phase,
                                                                                       erebyth_battle_sprite,
                                                                                       turn_counter,
                                                                                       atmon_battle_sprite,
                                                                                       jumano_battle_sprite,
                                                                                       dreth_battle_sprite,
                                                                                       apothis_gift, cloaked,
                                                                                       time_of_day, first_attack)

                                                # combat event function that handles and returns damage and health
                                                combat_events = combat_scenario.attack_scenario(
                                                    current_enemy_battling, "attack", player, hard_strike_learned,
                                                    level_up_win, level_up_font, graphic_dict, sharp_sense_active,
                                                    barrier_active, turn_taken, stun_them, mirror_image,
                                                    turn_counter, atmon_counter, prism_received,
                                                    turn_counter, apothis_upgrade, trading_deck,
                                                    trading_task_complete, any_card_counter, card_deck,
                                                    arrow_active, fire_active, edge_active, cloaked, burned, poisoned,
                                                    bleeding, crushed, strike_active, edge_active)

                                                turn_taken = True
                                                attack_hotkey = False

                                                try:
                                                    stun_them = combat_events["stunned"]
                                                except TypeError and KeyError:
                                                    stun_them = False
                                                combat_happened = True
                                                combat_tic = time.perf_counter()
                                                combat_cooldown = True

                                                # add all combat scenario happenings from function to message box
                                                try:
                                                    if combat_events["damage done string"] == 0:
                                                        info_text_1 = ""
                                                    else:
                                                        info_text_1 = str(combat_events["damage done string"])
                                                    if combat_events["damage taken string"] == 0:
                                                        info_text_2 = ""
                                                    else:
                                                        info_text_2 = str(combat_events["damage taken string"])
                                                except TypeError:
                                                    pass
                                                try:
                                                    battle_info_to_return_to_main_loop["knowledge"] = ""
                                                    if combat_events["enemy defeated"]:
                                                        if combat_events["item dropped"] != "No":
                                                            try:
                                                                prism_received = combat_events["prism_received"]
                                                            except KeyError:
                                                                pass
                                                            battle_info_to_return_to_main_loop["item dropped"] = \
                                                                str(combat_events["item dropped"])
                                                        else:
                                                            battle_info_to_return_to_main_loop[
                                                                "item dropped"] = ""
                                                        if combat_events["experience gained"] != 0:
                                                            battle_info_to_return_to_main_loop["experience"] = \
                                                                str(combat_events["experience gained"])
                                                        else:
                                                            battle_info_to_return_to_main_loop["experience"] = ""
                                                    if combat_events["enemy defeated"]:
                                                        if combat_events["leveled"]:
                                                            pygame.mixer.find_channel(True).play(sfx_level_up)
                                                            battle_info_to_return_to_main_loop["leveled_up"] = True
                                                            level_visual = True
                                                            level_visual_tic = time.perf_counter()
                                                    if combat_events["enemy defeated"]:
                                                        if current_enemy_battling.kind == "dreth":
                                                            dreth_defeated = True
                                                        if current_enemy_battling.kind != "stelli":
                                                            current_enemy_battling.alive_status = False
                                                        if current_enemy_battling.kind == "atmon":
                                                            atmon_counter += 1
                                                        # player will gain knowledge based on their current role
                                                        if current_enemy_battling.level >= player.level - 2:
                                                            player.knowledge["scout"] += 25
                                                            if player.knowledge["scout"] >= 100:
                                                                player.scout_level += 1
                                                                role_lvl_surf = font.render(str(player.scout_level),
                                                                                            True,
                                                                                            "black", "light yellow")
                                                                role_lvl_rect = role_lvl_surf.get_rect()
                                                                role_lvl_rect.center = (925, 148)
                                                                drawing_functions.role_level_window_text.append(
                                                                    (role_lvl_surf,
                                                                     role_lvl_rect))
                                                                role_level_up_popup.update(885, 136, graphic_dict[
                                                                    "scout_level_up"])
                                                                drawing_functions.role_level_up_popup.append(
                                                                    role_level_up_popup)
                                                                player.knowledge["scout"] = player.knowledge[
                                                                                                "scout"] - 100
                                                                pygame.mixer.find_channel(True).play(sfx_role_level)
                                                            battle_info_to_return_to_main_loop[
                                                                "knowledge"] = "+25 scout"
                                                        elif current_enemy_battling.level > player.level - 3:
                                                            player.knowledge["scout"] += 15
                                                            if player.knowledge["scout"] >= 100:
                                                                player.scout_level += 1
                                                                role_lvl_surf = font.render(str(player.scout_level),
                                                                                            True,
                                                                                            "black", "light yellow")
                                                                role_lvl_rect = role_lvl_surf.get_rect()
                                                                role_lvl_rect.center = (925, 148)
                                                                drawing_functions.role_level_window_text.append(
                                                                    (role_lvl_surf,
                                                                     role_lvl_rect))
                                                                role_level_up_popup.update(885, 136, graphic_dict[
                                                                    "scout_level_up"])
                                                                drawing_functions.role_level_up_popup.append(
                                                                    role_level_up_popup)
                                                                player.knowledge["scout"] = player.knowledge[
                                                                                                "scout"] - 100
                                                                pygame.mixer.find_channel(True).play(sfx_role_level)
                                                            battle_info_to_return_to_main_loop[
                                                                "knowledge"] = "+15 scout"
                                                        elif current_enemy_battling.level > player.level - 4:
                                                            player.knowledge["scout"] += 5
                                                            if player.knowledge["scout"] >= 100:
                                                                player.scout_level += 1
                                                                role_lvl_surf = font.render(str(player.scout_level),
                                                                                            True,
                                                                                            "black", "light yellow")
                                                                role_lvl_rect = role_lvl_surf.get_rect()
                                                                role_lvl_rect.center = (925, 148)
                                                                drawing_functions.role_level_window_text.append(
                                                                    (role_lvl_surf,
                                                                     role_lvl_rect))
                                                                role_level_up_popup.update(885, 136, graphic_dict[
                                                                    "scout_level_up"])
                                                                drawing_functions.role_level_up_popup.append(
                                                                    role_level_up_popup)
                                                                player.knowledge["scout"] = player.knowledge[
                                                                                                "scout"] - 100
                                                                pygame.mixer.find_channel(True).play(sfx_role_level)
                                                            battle_info_to_return_to_main_loop["knowledge"] = "+5 scout"
                                                        else:
                                                            battle_info_to_return_to_main_loop["knowledge"] = ""
                                                        # if player has a pet seed, add to it for this role
                                                        if seed_given:
                                                            if seed_mage_count < 4 and seed_fighter_count < 4 and \
                                                                    seed_scout_count < 4:
                                                                seed_mage_count += 1
                                                        if current_enemy_battling.kind == "nede ghoul":
                                                            nede_ghoul_defeated = True
                                                            ghoul_nede.kill()
                                                        if current_enemy_battling.kind == "chorizon_1":
                                                            mini_boss_1 = False
                                                            mini_boss_1_defeated = True
                                                            chorizon_1.kill()
                                                            chorizon_phase = False
                                                        if current_enemy_battling.kind == "chorizon_2":
                                                            mini_boss_2 = False
                                                            mini_boss_2_defeated = True
                                                            chorizon_2.kill()
                                                            chorizon_phase = False
                                                        if current_enemy_battling.name == "Muchador":
                                                            muchador_defeated = True
                                                            muchador.kill()
                                                        if current_enemy_battling.name == "Chinzilla":
                                                            chinzilla_defeated = True
                                                            chinzilla.kill()
                                                        if barrier_active:
                                                            barrier_active = False
                                                            # noinspection PyUnboundLocalVariable
                                                        if sharp_sense_active:
                                                            sharp_sense_active = False
                                                            # noinspection PyUnboundLocalVariable
                                                        movement_able = True
                                                        combat_happened = False
                                                        interacted = False
                                                        encounter_started = False
                                                        in_battle = False
                                                        combat_cooldown = False
                                                        in_over_world = True
                                                        loot_updated = False
                                                        if mirror_image:
                                                            if transpose_orb == 0 or transpose_orb == 1:
                                                                info_text_1 = "Gained 20 energy from Transposition."
                                                                player.energy += 20
                                                                if player.energy > 100:
                                                                    player.energy = 100
                                                                transpose_orb = 0
                                                            if transpose_orb == 2 or transpose_orb == 3:
                                                                info_text_1 = "Gained 30 energy from Transposition."
                                                                player.energy += 30
                                                                if player.energy > 100:
                                                                    player.energy = 100
                                                                transpose_orb = 0
                                                            if transpose_orb >= 4:
                                                                info_text_1 = "Gained 40 energy from Transposition."
                                                                player.energy += 40
                                                                if player.energy > 100:
                                                                    player.energy = 100
                                                                transpose_orb = 0
                                                        mirror_image = False
                                                        fire_active = False
                                                        arrow_active = False
                                                        show_arrow = False
                                                        show_poison_arrow = False
                                                        edge_active = False
                                                        show_edge = False
                                                        strike_active = False
                                                        cleared = False
                                                        cloaked = False
                                                        turn_counter = 0
                                                        card_popup_checked = False
                                                        loot_timer_reset = False
                                                        loot_level_tic = time.perf_counter()
                                                        first_attack = True
                                                        if on_card_quest:
                                                            try:
                                                                any_card_counter = combat_events["any_card_counter"]
                                                            except KeyError:
                                                                pass
                                                except TypeError:
                                                    pass
                                                gameplay_functions.player_info_and_ui_updates(player, hp_bar,
                                                                                              en_bar, xp_bar,
                                                                                              star_power_meter,
                                                                                              offense_meter,
                                                                                              defense_meter,
                                                                                              graphic_dict,
                                                                                              basic_armor,
                                                                                              forged_armor,
                                                                                              mythical_armor,
                                                                                              legendary_armor,
                                                                                              power_gloves,
                                                                                              chroma_boots,
                                                                                              neras_grace,
                                                                                              arens_strength,
                                                                                              spirit_of_wisdom, crushed)
                                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                    frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                                  SCREEN_HEIGHT))
                                                    game_window.blit(frame, frame.get_rect())
                                                    pygame.display.flip()
                                                else:
                                                    pygame.display.flip()
                                            else:
                                                info_text_1 = "Poison Arrow is already active."

                                else:
                                    info_text_1 = "Not enough energy to use this skill."

                        # outside of battle event loop -----------------------------------------------------------------
                        if player.health < 0:
                            player.health = 0
                        if player.energy < 0:
                            player.energy = 0
                        if current_enemy_battling.health < 0:
                            current_enemy_battling.health = 0
                        combat_scenario.enemy_health_bar(current_enemy_battling, graphic_dict)
                        if not encounter_started:
                            info_text_1 = ""
                            info_text_2 = ""
                            info_text_3 = ""
                            info_text_4 = ""
                            encounter_started = True

                        # battle scene and enemy are drawn to screen ---------------------------------------------------
                        try:
                            if in_battle and not in_over_world and not in_shop \
                                    and not in_inn and not in_academia and not in_npc_interaction:
                                if mirror_image:
                                    if transpose_orb == 0:
                                        transpose_battle_sprite.update(575, 400, graphic_dict["transpose_1"])
                                    if transpose_orb == 2:
                                        transpose_battle_sprite.update(575, 400, graphic_dict["transpose_2"])
                                    if transpose_orb == 4:
                                        transpose_battle_sprite.update(575, 400, graphic_dict["transpose_3"])
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    if player.current_zone == "seldon":
                                        screen.blit(seldon_district_battle, (0, 0))
                                    if player.current_zone == "korlok":
                                        screen.blit(korlok_district_battle, (0, 0))
                                        screen.blit(korlok_interaction_snowfall.surf,
                                                    korlok_interaction_snowfall.rect)
                                    if player.current_zone == "mines":
                                        screen.blit(mines_battle, (0, 0))
                                    if player.current_zone == "stardust":
                                        screen.blit(stardust_battle, (0, 0))
                                    if player.current_zone == "reservoir a" or player.current_zone == "reservoir b":
                                        screen.blit(reservoir_battle, (0, 0))
                                    if player.current_zone == "terra trail":
                                        screen.blit(caves_battle_screen, (0, 0))
                                    if player.current_zone == "ectrenos front":
                                        screen.blit(ectrenos_front_interaction_bg, (0, 0))
                                    if player.current_zone == "ectrenos alcove":
                                        screen.blit(ectrenos_alcove_battle_screen, (0, 0))
                                    if player.current_zone == "marrow ramps east end":
                                        screen.blit(marrow_ramparts_battle, (0, 0))
                                    if (player.current_zone == "marrow tower east"
                                            or player.current_zone == "marrow tower west"
                                            or player.current_zone == "castle one"
                                            or player.current_zone == "castle two"
                                            or player.current_zone == "castle three"):
                                        screen.blit(marrow_tower_battle, (0, 0))
                                    if player.current_zone == "marrow":
                                        screen.blit(marrow_interaction_bg, (0, 0))
                                    if player.current_zone == "sub marrow":
                                        screen.blit(sub_marrow_battle_screen, (0, 0))
                                    if player.current_zone == "castle lair":
                                        screen.blit(dreth_battle_screen, (0, 0))

                                    if current_enemy_battling.kind == "snake":
                                        screen.blit(snake_battle_sprite.surf, snake_battle_sprite.rect)
                                    if current_enemy_battling.name == "Ghoul":
                                        if not cloaked_popup_shown:
                                            drawing_functions.cloaked_popup_window.append(cloaked_popup)
                                            cloaked_popup_shown = True
                                        screen.blit(ghoul_battle_sprite.surf, ghoul_battle_sprite.rect)
                                    if current_enemy_battling.name == "Chorizon":
                                        screen.blit(chorizon_battle_sprite.surf, chorizon_battle_sprite.rect)
                                    if current_enemy_battling.kind == "muchador":
                                        screen.blit(muchador_battle_sprite.surf, muchador_battle_sprite.rect)
                                    if current_enemy_battling.kind == "magmon":
                                        screen.blit(magmon_battle_sprite.surf, magmon_battle_sprite.rect)
                                    if current_enemy_battling.kind == "bandile":
                                        screen.blit(bandile_battle_sprite.surf, bandile_battle_sprite.rect)
                                    if current_enemy_battling.kind == "chinzilla":
                                        screen.blit(chinzilla_battle_sprite.surf, chinzilla_battle_sprite.rect)
                                    if current_enemy_battling.kind == "necrola":
                                        screen.blit(necrola_battle_sprite.surf, necrola_battle_sprite.rect)
                                    if current_enemy_battling.kind == "osodark":
                                        screen.blit(osodark_battle_sprite.surf, osodark_battle_sprite.rect)
                                    if current_enemy_battling.kind == "stelli":
                                        screen.blit(stelli_battle_sprite.surf, stelli_battle_sprite.rect)
                                    if current_enemy_battling.kind == "erebyth":
                                        screen.blit(erebyth_battle_sprite.surf, erebyth_battle_sprite.rect)
                                    if current_enemy_battling.kind == "atmon":
                                        screen.blit(atmon_battle_sprite.surf, atmon_battle_sprite.rect)
                                    if current_enemy_battling.kind == "atmon castle":
                                        game_window.blit(atmon_battle_sprite.surf, atmon_battle_sprite.rect)
                                    if current_enemy_battling.kind == "jumano":
                                        screen.blit(jumano_battle_sprite.surf, jumano_battle_sprite.rect)
                                    if current_enemy_battling.kind == "dreth":
                                        screen.blit(dreth_battle_sprite.surf, dreth_battle_sprite.rect)

                                    for pet in player.pet:
                                        if pet.active:
                                            if pet.name == "kasper":
                                                screen.blit(kasper_battle_sprite.surf, kasper_battle_sprite.rect)
                                            if pet.name == "torok":
                                                screen.blit(torok_battle_sprite.surf, torok_battle_sprite.rect)
                                            if pet.name == "iriana":
                                                screen.blit(iriana_battle_sprite.surf, iriana_battle_sprite.rect)

                                    screen.blit(player_battle_sprite.surf, player_battle_sprite.rect)

                                    if (player.current_zone == "marrow"
                                            or player.current_zone == "marrow ramps east end"
                                            or player.current_zone == "ectrenos front"
                                            or player.current_zone == "stardust"
                                            or player.current_zone == "korlok"
                                            or player.current_zone == "seldon"):

                                        if time_of_day == 0:
                                            screen.blit(dawn, (0, 0))
                                        if time_of_day == 1:
                                            screen.blit(early_morning, (0, 0))
                                        if time_of_day == 2:
                                            screen.blit(morning, (0, 0))
                                        if time_of_day == 4:
                                            screen.blit(early_afternoon, (0, 0))
                                        if time_of_day == 5:
                                            screen.blit(afternoon, (0, 0))
                                        if time_of_day == 6:
                                            screen.blit(dusk, (0, 0))
                                        if time_of_day == 7:
                                            screen.blit(night, (0, 0))

                                    if barrier_active:
                                        screen.blit(battle_sprite_effect_barrier.surf,
                                                    battle_sprite_effect_barrier.rect)
                                    if mirror_image:
                                        screen.blit(transpose_battle_sprite.surf, transpose_battle_sprite.rect)

                                    try:
                                        if not fire_active or not combat_happened:
                                            screen.blit(enemy_status_bar_back.surf, enemy_status_bar_back.rect)
                                            screen.blit(current_enemy_battling.health_bar.surf,
                                                        current_enemy_battling.health_bar.rect)
                                    except TypeError:
                                        pass

                                    if player.alive_status:
                                        screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                        screen.blit(hp_bar.surf, hp_bar.rect)
                                        screen.blit(en_bar.surf, en_bar.rect)
                                        screen.blit(xp_bar.surf, xp_bar.rect)
                                else:
                                    if player.current_zone == "seldon":
                                        game_window.blit(seldon_district_battle, (0, 0))
                                    if player.current_zone == "korlok":
                                        game_window.blit(korlok_district_battle, (0, 0))
                                        game_window.blit(korlok_interaction_snowfall.surf,
                                                         korlok_interaction_snowfall.rect)
                                    if player.current_zone == "mines":
                                        game_window.blit(mines_battle, (0, 0))
                                    if player.current_zone == "stardust":
                                        game_window.blit(stardust_battle, (0, 0))
                                    if player.current_zone == "reservoir a" or player.current_zone == "reservoir b":
                                        game_window.blit(reservoir_battle, (0, 0))
                                    if player.current_zone == "terra trail":
                                        game_window.blit(caves_battle_screen, (0, 0))
                                    if player.current_zone == "ectrenos front":
                                        game_window.blit(ectrenos_front_interaction_bg, (0, 0))
                                    if player.current_zone == "ectrenos alcove":
                                        game_window.blit(ectrenos_alcove_battle_screen, (0, 0))
                                    if player.current_zone == "marrow ramps east end":
                                        game_window.blit(marrow_ramparts_battle, (0, 0))
                                    if (player.current_zone == "marrow tower east"
                                            or player.current_zone == "marrow tower west"
                                            or player.current_zone == "castle one"
                                            or player.current_zone == "castle two"
                                            or player.current_zone == "castle three"):
                                        game_window.blit(marrow_tower_battle, (0, 0))
                                    if player.current_zone == "marrow":
                                        game_window.blit(marrow_interaction_bg, (0, 0))
                                    if player.current_zone == "sub marrow":
                                        game_window.blit(sub_marrow_battle_screen, (0, 0))
                                    if player.current_zone == "castle lair":
                                        game_window.blit(dreth_battle_screen, (0, 0))

                                    if current_enemy_battling.kind == "snake":
                                        game_window.blit(snake_battle_sprite.surf, snake_battle_sprite.rect)
                                    if current_enemy_battling.name == "Ghoul":
                                        if not cloaked_popup_shown:
                                            drawing_functions.cloaked_popup_window.append(cloaked_popup)
                                            cloaked_popup_shown = True
                                        game_window.blit(ghoul_battle_sprite.surf, ghoul_battle_sprite.rect)
                                    if current_enemy_battling.name == "Chorizon":
                                        game_window.blit(chorizon_battle_sprite.surf, chorizon_battle_sprite.rect)
                                    if current_enemy_battling.kind == "muchador":
                                        game_window.blit(muchador_battle_sprite.surf, muchador_battle_sprite.rect)
                                    if current_enemy_battling.kind == "magmon":
                                        game_window.blit(magmon_battle_sprite.surf, magmon_battle_sprite.rect)
                                    if current_enemy_battling.kind == "bandile":
                                        game_window.blit(bandile_battle_sprite.surf, bandile_battle_sprite.rect)
                                    if current_enemy_battling.kind == "chinzilla":
                                        game_window.blit(chinzilla_battle_sprite.surf, chinzilla_battle_sprite.rect)
                                    if current_enemy_battling.kind == "necrola":
                                        game_window.blit(necrola_battle_sprite.surf, necrola_battle_sprite.rect)
                                    if current_enemy_battling.kind == "osodark":
                                        game_window.blit(osodark_battle_sprite.surf, osodark_battle_sprite.rect)
                                    if current_enemy_battling.kind == "stelli":
                                        game_window.blit(stelli_battle_sprite.surf, stelli_battle_sprite.rect)
                                    if current_enemy_battling.kind == "erebyth":
                                        game_window.blit(erebyth_battle_sprite.surf, erebyth_battle_sprite.rect)
                                    if current_enemy_battling.kind == "atmon":
                                        game_window.blit(atmon_battle_sprite.surf, atmon_battle_sprite.rect)
                                    if current_enemy_battling.kind == "atmon castle":
                                        game_window.blit(atmon_battle_sprite.surf, atmon_battle_sprite.rect)
                                    if current_enemy_battling.kind == "jumano":
                                        game_window.blit(jumano_battle_sprite.surf, jumano_battle_sprite.rect)
                                    if current_enemy_battling.kind == "dreth":
                                        game_window.blit(dreth_battle_sprite.surf, dreth_battle_sprite.rect)

                                    for pet in player.pet:
                                        if pet.active:
                                            if pet.name == "kasper":
                                                game_window.blit(kasper_battle_sprite.surf, kasper_battle_sprite.rect)
                                            if pet.name == "torok":
                                                game_window.blit(torok_battle_sprite.surf, torok_battle_sprite.rect)
                                            if pet.name == "iriana":
                                                game_window.blit(iriana_battle_sprite.surf, iriana_battle_sprite.rect)

                                    game_window.blit(player_battle_sprite.surf, player_battle_sprite.rect)

                                    if (player.current_zone == "marrow"
                                            or player.current_zone == "marrow ramps east end"
                                            or player.current_zone == "ectrenos front"
                                            or player.current_zone == "stardust"
                                            or player.current_zone == "korlok"
                                            or player.current_zone == "seldon"):

                                        if time_of_day == 0:
                                            game_window.blit(dawn, (0, 0))
                                        if time_of_day == 1:
                                            game_window.blit(early_morning, (0, 0))
                                        if time_of_day == 2:
                                            game_window.blit(morning, (0, 0))
                                        if time_of_day == 4:
                                            game_window.blit(early_afternoon, (0, 0))
                                        if time_of_day == 5:
                                            game_window.blit(afternoon, (0, 0))
                                        if time_of_day == 6:
                                            game_window.blit(dusk, (0, 0))
                                        if time_of_day == 7:
                                            game_window.blit(night, (0, 0))

                                    if barrier_active:
                                        game_window.blit(battle_sprite_effect_barrier.surf,
                                                         battle_sprite_effect_barrier.rect)
                                    if mirror_image:
                                        game_window.blit(transpose_battle_sprite.surf, transpose_battle_sprite.rect)

                                    try:
                                        if not fire_active or not combat_happened:
                                            game_window.blit(enemy_status_bar_back.surf, enemy_status_bar_back.rect)
                                            game_window.blit(current_enemy_battling.health_bar.surf,
                                                             current_enemy_battling.health_bar.rect)
                                        if player.alive_status:
                                            game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                            game_window.blit(hp_bar.surf, hp_bar.rect)
                                            game_window.blit(en_bar.surf, en_bar.rect)
                                            game_window.blit(xp_bar.surf, xp_bar.rect)
                                    except TypeError:
                                        pass
                                try:
                                    for pet in player.pet:
                                        if pet.active:
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(pet_energy_window.surf, pet_energy_window.rect)
                                                pet_energy_surf = font.render(str(pet.energy), True, "dark green",
                                                                              "light yellow")
                                                if player.x_coordinate < 420 and player.y_coordinate < 150:
                                                    pet_energy_surf.set_alpha(50)
                                                pet_energy_rect = pet_energy_surf.get_rect()
                                                pet_energy_rect.midleft = (342, 57)
                                                screen.blit(pet_energy_surf, pet_energy_rect)
                                                pet_xp_surf = font.render(str(pet.experience), True, "purple",
                                                                          "light yellow")
                                                if player.x_coordinate < 420 and player.y_coordinate < 150:
                                                    pet_xp_surf.set_alpha(50)
                                                pet_xp_rect = pet_xp_surf.get_rect()
                                                pet_xp_rect.midleft = (390, 57)
                                                screen.blit(pet_xp_surf, pet_xp_rect)
                                            else:
                                                game_window.blit(pet_energy_window.surf, pet_energy_window.rect)
                                                pet_energy_surf = font.render(str(pet.energy), True, "dark green",
                                                                              "light yellow")
                                                if player.x_coordinate < 420 and player.y_coordinate < 150:
                                                    pet_energy_surf.set_alpha(50)
                                                pet_energy_rect = pet_energy_surf.get_rect()
                                                pet_energy_rect.midleft = (342, 57)
                                                game_window.blit(pet_energy_surf, pet_energy_rect)
                                                pet_xp_surf = font.render(str(pet.experience), True, "purple",
                                                                          "light yellow")
                                                if player.x_coordinate < 420 and player.y_coordinate < 150:
                                                    pet_xp_surf.set_alpha(50)
                                                pet_xp_rect = pet_xp_surf.get_rect()
                                                pet_xp_rect.midleft = (390, 57)
                                                game_window.blit(pet_xp_surf, pet_xp_rect)
                                except AttributeError:
                                    pass
                                text_enemy_name_surf = font.render(str(current_enemy_battling.name), True, "black",
                                                                   (255, 204, 203))
                                text_enemy_name_rect = text_enemy_name_surf.get_rect()
                                text_enemy_name_rect.center = (812, 688)
                                text_enemy_level_surf = font.render(str(current_enemy_battling.level), True, "black",
                                                                    (255, 204, 203))
                                text_enemy_level_rect = text_enemy_level_surf.get_rect()
                                text_enemy_level_rect.center = (918, 688)

                                if current_enemy_battling.type == "mage":
                                    type_advantage_overlay.update(580, 50, graphic_dict["mage_type_overlay"])
                                elif current_enemy_battling.type == "fighter":
                                    type_advantage_overlay.update(580, 50, graphic_dict["fighter_type_overlay"])
                                elif current_enemy_battling.type == "scout":
                                    type_advantage_overlay.update(580, 50, graphic_dict["scout_type_overlay"])
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(type_advantage_overlay.surf, type_advantage_overlay.rect)
                                else:
                                    game_window.blit(type_advantage_overlay.surf, type_advantage_overlay.rect)
                                if not beyond_seldon and player.current_zone != "reservoir a" \
                                        and player.current_zone != \
                                        "reservoir b" and player.current_zone != "reservoir c":
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(type_advantage_mini.surf, type_advantage_mini.rect)
                                    else:
                                        game_window.blit(type_advantage_mini.surf, type_advantage_mini.rect)
                                # game guide popups
                                if not battle_guide_shown:
                                    game_guide_overlay.update(game_guide_overlay.x_coordinate,
                                                              game_guide_overlay.y_coordinate,
                                                              graphic_dict["guide_basics_battle_img"])
                                    drawing_functions.game_guide_container.append(game_guide_overlay)
                                    battle_guide_shown = True

                                if first_battle_cond:
                                    directional_arrow.update(745, 565, graphic_dict["arrow_down"])
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(directional_arrow.surf, directional_arrow.rect)
                                    else:
                                        game_window.blit(directional_arrow.surf, directional_arrow.rect)

                        except AttributeError:
                            pass

                        # combat didn't happen this iteration, reset sprites to default surface image
                        if not combat_happened:
                            combat_scenario.battle_animation_player(player, player_battle_sprite, barrier_active,
                                                                    sharp_sense_active, graphic_dict,
                                                                    kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                    kasper_battle_sprite, torok_battle_sprite,
                                                                    iriana_battle_sprite)
                            combat_scenario.battle_animation_enemy(current_enemy_battling, snake_battle_sprite,
                                                                   ghoul_battle_sprite, chorizon_battle_sprite,
                                                                   muchador_battle_sprite, magmon_battle_sprite,
                                                                   bandile_battle_sprite, chinzilla_battle_sprite,
                                                                   in_battle, in_npc_interaction, graphic_dict,
                                                                   necrola_battle_sprite, osodark_battle_sprite,
                                                                   stelli_battle_sprite, chorizon_phase,
                                                                   erebyth_battle_sprite, turn_counter,
                                                                   atmon_battle_sprite, jumano_battle_sprite,
                                                                   dreth_battle_sprite, apothis_gift, cloaked,
                                                                   time_of_day, first_attack)

                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(message_box.surf, message_box.rect)
                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                if len(drawing_functions.item_info_window) == 0:
                                    screen.blit(star_power_meter.surf, star_power_meter.rect)
                                screen.blit(offense_meter.surf, offense_meter.rect)
                                screen.blit(defense_meter.surf, defense_meter.rect)
                                drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                              weapon_select, apothis_upgrade)
                                screen.blit(skill_bar.surf, skill_bar.rect)
                                screen.blit(enemy_status.surf, enemy_status.rect)
                                screen.blit(text_enemy_name_surf, text_enemy_name_rect)
                                screen.blit(text_enemy_level_surf, text_enemy_level_rect)

                                if player.role == "mage":
                                    screen.blit(mage_attack_button.surf, mage_attack_button.rect)
                                    if player.skills_mage["skill 2"] == "barrier":
                                        if player.equipment["trinket 3"] != "":
                                            barrier_button.update(820, 641, graphic_dict["barrier_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            barrier_button.update(820, 641, graphic_dict["barrier_button_img"])
                                        screen.blit(barrier_button.surf, barrier_button.rect)
                                    if player.skills_mage["skill 3"] == "transposition":
                                        if mirror_image:
                                            if player.equipment["trinket 3"] != "":
                                                mirror_button.update(890, 641,
                                                                     graphic_dict["consume_less_button_img"])
                                            elif player.equipment["trinket 3"] == "":
                                                mirror_button.update(890, 641, graphic_dict["consume_button_img"])
                                        else:
                                            if player.equipment["trinket 3"] != "":
                                                mirror_button.update(890, 641,
                                                                     graphic_dict["transpose_less_button_img"])
                                            elif player.equipment["trinket 3"] == "":
                                                mirror_button.update(890, 641, graphic_dict["transpose_button_img"])
                                        screen.blit(mirror_button.surf, mirror_button.rect)
                                    if player.skills_mage["skill 4"] == "millennium fire":
                                        if player.equipment["trinket 3"] != "":
                                            fire_button.update(960, 641, graphic_dict["fire_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            fire_button.update(960, 641, graphic_dict["fire_button_img"])
                                        screen.blit(fire_button.surf, fire_button.rect)
                                if player.role == "fighter":
                                    screen.blit(fighter_attack_button.surf, fighter_attack_button.rect)
                                    if player.skills_fighter["skill 2"] == "hard strike":
                                        if player.equipment["trinket 3"] != "":
                                            hard_strike_button.update(820, 641, graphic_dict["strike_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            hard_strike_button.update(820, 641, graphic_dict["strike_button_img"])
                                        screen.blit(hard_strike_button.surf, hard_strike_button.rect)
                                    if player.skills_fighter["skill 3"] == "stunning swing":
                                        if player.equipment["trinket 3"] != "":
                                            stun_button.update(890, 641, graphic_dict["stun_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            stun_button.update(890, 641, graphic_dict["stun_button_img"])
                                        screen.blit(stun_button.surf, stun_button.rect)
                                    if player.skills_fighter["skill 4"] == "epsilon's edge":
                                        if player.equipment["trinket 3"] != "":
                                            edge_button.update(960, 641, graphic_dict["edge_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            edge_button.update(960, 641, graphic_dict["edge_button_img"])
                                        screen.blit(edge_button.surf, edge_button.rect)
                                if player.role == "scout":
                                    screen.blit(scout_attack_button.surf, scout_attack_button.rect)
                                    if player.skills_scout["skill 2"] == "sharp sense":
                                        if player.equipment["trinket 3"] != "":
                                            sharp_sense_button.update(820, 641, graphic_dict["sense_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            sharp_sense_button.update(820, 641, graphic_dict["sense_button_img"])
                                        screen.blit(sharp_sense_button.surf, sharp_sense_button.rect)
                                    if player.skills_scout["skill 3"] == "vanishing shroud":
                                        if player.equipment["trinket 3"] != "":
                                            vanish_button.update(890, 641, graphic_dict["vanish_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            vanish_button.update(890, 641, graphic_dict["vanish_button_img"])
                                        screen.blit(vanish_button.surf, vanish_button.rect)
                                    if player.skills_scout["skill 4"] == "poison arrow":
                                        if player.equipment["trinket 3"] != "":
                                            arrow_button.update(960, 641, graphic_dict["arrow_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            arrow_button.update(960, 641, graphic_dict["arrow_button_img"])
                                        screen.blit(arrow_button.surf, arrow_button.rect)
                                if player.role == "":
                                    screen.blit(no_role_attack_button.surf, no_role_attack_button.rect)

                            else:
                                game_window.blit(message_box.surf, message_box.rect)
                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if len(drawing_functions.item_info_window) == 0:
                                    game_window.blit(star_power_meter.surf, star_power_meter.rect)
                                game_window.blit(offense_meter.surf, offense_meter.rect)
                                game_window.blit(defense_meter.surf, defense_meter.rect)
                                drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                              weapon_select, apothis_upgrade)
                                game_window.blit(skill_bar.surf, skill_bar.rect)
                                game_window.blit(enemy_status.surf, enemy_status.rect)
                                game_window.blit(text_enemy_name_surf, text_enemy_name_rect)
                                game_window.blit(text_enemy_level_surf, text_enemy_level_rect)

                                if player.role == "mage":
                                    game_window.blit(mage_attack_button.surf, mage_attack_button.rect)
                                    if player.skills_mage["skill 2"] == "barrier":
                                        if player.equipment["trinket 3"] != "":
                                            barrier_button.update(820, 641, graphic_dict["barrier_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            barrier_button.update(820, 641, graphic_dict["barrier_button_img"])
                                        game_window.blit(barrier_button.surf, barrier_button.rect)
                                    if player.skills_mage["skill 3"] == "transposition":
                                        if mirror_image:
                                            if player.equipment["trinket 3"] != "":
                                                mirror_button.update(890, 641,
                                                                     graphic_dict["consume_less_button_img"])
                                            elif player.equipment["trinket 3"] == "":
                                                mirror_button.update(890, 641, graphic_dict["consume_button_img"])
                                        else:
                                            if player.equipment["trinket 3"] != "":
                                                mirror_button.update(890, 641,
                                                                     graphic_dict["transpose_less_button_img"])
                                            elif player.equipment["trinket 3"] == "":
                                                mirror_button.update(890, 641, graphic_dict["transpose_button_img"])
                                        game_window.blit(mirror_button.surf, mirror_button.rect)
                                    if player.skills_mage["skill 4"] == "millennium fire":
                                        if player.equipment["trinket 3"] != "":
                                            fire_button.update(960, 641, graphic_dict["fire_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            fire_button.update(960, 641, graphic_dict["fire_button_img"])
                                        game_window.blit(fire_button.surf, fire_button.rect)
                                if player.role == "fighter":
                                    game_window.blit(fighter_attack_button.surf, fighter_attack_button.rect)
                                    if player.skills_fighter["skill 2"] == "hard strike":
                                        if player.equipment["trinket 3"] != "":
                                            hard_strike_button.update(820, 641, graphic_dict["strike_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            hard_strike_button.update(820, 641, graphic_dict["strike_button_img"])
                                        game_window.blit(hard_strike_button.surf, hard_strike_button.rect)
                                    if player.skills_fighter["skill 3"] == "stunning swing":
                                        if player.equipment["trinket 3"] != "":
                                            stun_button.update(890, 641, graphic_dict["stun_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            stun_button.update(890, 641, graphic_dict["stun_button_img"])
                                        game_window.blit(stun_button.surf, stun_button.rect)
                                    if player.skills_fighter["skill 4"] == "epsilon's edge":
                                        if player.equipment["trinket 3"] != "":
                                            edge_button.update(960, 641, graphic_dict["edge_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            edge_button.update(960, 641, graphic_dict["edge_button_img"])
                                        game_window.blit(edge_button.surf, edge_button.rect)
                                if player.role == "scout":
                                    game_window.blit(scout_attack_button.surf, scout_attack_button.rect)
                                    if player.skills_scout["skill 2"] == "sharp sense":
                                        if player.equipment["trinket 3"] != "":
                                            sharp_sense_button.update(820, 641, graphic_dict["sense_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            sharp_sense_button.update(820, 641, graphic_dict["sense_button_img"])
                                        game_window.blit(sharp_sense_button.surf, sharp_sense_button.rect)
                                    if player.skills_scout["skill 3"] == "vanishing shroud":
                                        if player.equipment["trinket 3"] != "":
                                            vanish_button.update(890, 641, graphic_dict["vanish_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            vanish_button.update(890, 641, graphic_dict["vanish_button_img"])
                                        game_window.blit(vanish_button.surf, vanish_button.rect)
                                    if player.skills_scout["skill 4"] == "poison arrow":
                                        if player.equipment["trinket 3"] != "":
                                            arrow_button.update(960, 641, graphic_dict["arrow_less_button_img"])
                                        elif player.equipment["trinket 3"] == "":
                                            arrow_button.update(960, 641, graphic_dict["arrow_button_img"])
                                        game_window.blit(arrow_button.surf, arrow_button.rect)
                                if player.role == "":
                                    game_window.blit(no_role_attack_button.surf, no_role_attack_button.rect)

                            # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                                 info_text_3, info_text_4, in_over_world,
                                                                 basic_fish_counter, better_fish_counter,
                                                                 even_better_fish_counter, best_fish_counter)
                                drawing_functions.draw_it(screen, in_battle)
                            else:
                                drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                                 info_text_3, info_text_4, in_over_world,
                                                                 basic_fish_counter, better_fish_counter,
                                                                 even_better_fish_counter, best_fish_counter)
                                drawing_functions.draw_it(game_window, in_battle)

                            # player status conditions overlay
                            if len(drawing_functions.level_up_window) == 0:
                                if burned:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(overlay_burned.surf, overlay_burned.rect)
                                    else:
                                        game_window.blit(overlay_burned.surf, overlay_burned.rect)
                                if poisoned:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                    else:
                                        game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                if bleeding:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                    else:
                                        game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                if crushed:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                                    else:
                                        game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                            # enemy status conditions overlay
                            if fire_active:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_burned_enemy.surf, overlay_burned_enemy.rect)
                                else:
                                    game_window.blit(overlay_burned_enemy.surf, overlay_burned_enemy.rect)
                            if arrow_active:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_poisoned_enemy.surf, overlay_poisoned_enemy.rect)
                                else:
                                    game_window.blit(overlay_poisoned_enemy.surf, overlay_poisoned_enemy.rect)
                            if edge_active:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_bleeding_enemy.surf, overlay_bleeding_enemy.rect)
                                else:
                                    game_window.blit(overlay_bleeding_enemy.surf, overlay_bleeding_enemy.rect)
                            if strike_active:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_crushed_enemy.surf, overlay_crushed_enemy.rect)
                                else:
                                    game_window.blit(overlay_crushed_enemy.surf, overlay_crushed_enemy.rect)

                            if not combat_cooldown:
                                if button_highlighted:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(button_highlight.surf, button_highlight.rect)
                                    else:
                                        game_window.blit(button_highlight.surf, button_highlight.rect)

                            # draw fighter stun visual to screen if it was used. timer checks for reset to remove.
                            if stun_visual:
                                stun_visual_toc = time.perf_counter()
                                if stun_visual_toc - stun_visual_tic > 1:
                                    stun_visual = False
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(stun_overlay.surf, stun_overlay.rect)
                                else:
                                    game_window.blit(stun_overlay.surf, stun_overlay.rect)

                        # combat happened this turn, update sprites for attack and apply short cooldown to attack again
                        if combat_happened:
                            # reset stun animation
                            stun_visual = False

                            # disengage player when fighting muchador boss after it's health gets low
                            # muchador picks a random crate and hides in it
                            if current_enemy_battling.name == "Muchador":
                                if not muchador_relocate:
                                    if current_enemy_battling.health < 60:
                                        info_text_1 = "The muchador attempts to escape!"
                                        info_text_2 = "Maybe it's hiding? "
                                        muchador_relocate = True
                                        movement_able = True
                                        combat_happened = False
                                        interacted = False
                                        encounter_started = False
                                        in_battle = False
                                        combat_cooldown = False
                                        in_over_world = True
                                        loot_updated = True
                                        if mirror_image:
                                            if transpose_orb == 0 or transpose_orb == 1:
                                                info_text_1 = "Gained 20 energy from Transposition."
                                                player.energy += 20
                                                if player.energy > 100:
                                                    player.energy = 100
                                                transpose_orb = 0
                                            if transpose_orb == 2 or transpose_orb == 3:
                                                info_text_1 = "Gained 30 energy from Transposition."
                                                player.energy += 30
                                                if player.energy > 100:
                                                    player.energy = 100
                                                transpose_orb = 0
                                            if transpose_orb >= 4:
                                                info_text_1 = "Gained 40 energy from Transposition."
                                                player.energy += 40
                                                if player.energy > 100:
                                                    player.energy = 100
                                                transpose_orb = 0
                                        mirror_image = False
                                        fire_active = False
                                        arrow_active = False
                                        show_arrow = False
                                        show_poison_arrow = False
                                        edge_active = False
                                        show_edge = False
                                        strike_active = False
                                        cleared = False
                                        turn_counter = 0
                                        first_attack = True
                                        muchador_crates_list = [muchador_crate_1, muchador_crate_2,
                                                                muchador_crate_3, muchador_crate_4]
                                        random_crate = random.choice(muchador_crates_list)
                                        muchador.update_image(random_crate.x_coordinate, random_crate.y_coordinate,
                                                              graphic_dict["muchador"])

                            if current_enemy_battling.name == "Chorizon":
                                if current_enemy_battling.health < 50 and not chorizon_phase:
                                    pygame.mixer.find_channel(True).play(sfx_button_role)
                                    chorizon_phase = True
                                    # type change for second phase
                                    current_enemy_battling.type = "mage"

                            combat_scenario.attack_animation_player(player, player_battle_sprite, barrier_active,
                                                                    sharp_sense_active, hard_strike, graphic_dict,
                                                                    turn_taken, kasper_unlocked, torok_unlocked,
                                                                    iriana_unlocked, kasper_battle_sprite,
                                                                    torok_battle_sprite, iriana_battle_sprite)
                            combat_scenario.attack_animation_enemy(current_enemy_battling, snake_battle_sprite,
                                                                   ghoul_battle_sprite, chorizon_battle_sprite,
                                                                   muchador_battle_sprite, magmon_battle_sprite,
                                                                   bandile_battle_sprite, chinzilla_battle_sprite,
                                                                   graphic_dict, necrola_battle_sprite,
                                                                   osodark_battle_sprite, stelli_battle_sprite,
                                                                   chorizon_phase, combat_events["damage taken"],
                                                                   erebyth_battle_sprite, turn_counter,
                                                                   atmon_battle_sprite, jumano_battle_sprite,
                                                                   dreth_battle_sprite, turn_counter,
                                                                   apothis_gift, cloaked)

                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                if fire_active:
                                    screen.blit(fire_battle_sprite.surf, fire_battle_sprite.rect)
                                    try:
                                        screen.blit(enemy_status_bar_back.surf, enemy_status_bar_back.rect)
                                        screen.blit(current_enemy_battling.health_bar.surf,
                                                    current_enemy_battling.health_bar.rect)
                                    except TypeError:
                                        pass

                                if player.role == "fighter":
                                    if show_edge:
                                        screen.blit(edge_battle_sprite.surf, edge_battle_sprite.rect)
                                if player.role == "scout":
                                    if show_arrow:
                                        screen.blit(arrow_battle_sprite.surf, arrow_battle_sprite.rect)
                                    elif show_poison_arrow:
                                        screen.blit(advantage_battle_sprite.surf, advantage_battle_sprite.rect)

                                if burned:
                                    screen.blit(battle_sprite_effect_burn.surf, battle_sprite_effect_burn.rect)
                                if poisoned:
                                    screen.blit(battle_sprite_effect_poison.surf, battle_sprite_effect_poison.rect)
                                if bleeding and not bleed_shown:
                                    screen.blit(battle_sprite_effect_bleed.surf, battle_sprite_effect_bleed.rect)
                                if crushed and not crush_shown:
                                    screen.blit(battle_sprite_effect_crush.surf, battle_sprite_effect_crush.rect)

                                screen.blit(message_box.surf, message_box.rect)
                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                if len(drawing_functions.item_info_window) == 0:
                                    screen.blit(star_power_meter.surf, star_power_meter.rect)
                                screen.blit(offense_meter.surf, offense_meter.rect)
                                screen.blit(defense_meter.surf, defense_meter.rect)
                                drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                              weapon_select, apothis_upgrade)
                                screen.blit(skill_bar.surf, skill_bar.rect)
                                screen.blit(enemy_status.surf, enemy_status.rect)
                                screen.blit(text_enemy_name_surf, text_enemy_name_rect)
                                screen.blit(text_enemy_level_surf, text_enemy_level_rect)

                                if player.role == "mage":
                                    screen.blit(mage_attack_button.surf, mage_attack_button.rect)
                                    if player.skills_mage["skill 2"] == "barrier":
                                        screen.blit(barrier_button.surf, barrier_button.rect)
                                    if player.skills_mage["skill 3"] == "transposition":
                                        screen.blit(mirror_button.surf, mirror_button.rect)
                                    if player.skills_mage["skill 4"] == "millennium fire":
                                        screen.blit(fire_button.surf, fire_button.rect)
                                if player.role == "fighter":
                                    screen.blit(fighter_attack_button.surf, fighter_attack_button.rect)
                                    if player.skills_fighter["skill 2"] == "hard strike":
                                        screen.blit(hard_strike_button.surf, hard_strike_button.rect)
                                    if player.skills_fighter["skill 3"] == "stunning swing":
                                        screen.blit(stun_button.surf, stun_button.rect)
                                    if player.skills_fighter["skill 4"] == "epsilon's edge":
                                        screen.blit(edge_button.surf, edge_button.rect)
                                if player.role == "scout":
                                    screen.blit(scout_attack_button.surf, scout_attack_button.rect)
                                    if player.skills_scout["skill 2"] == "sharp sense":
                                        screen.blit(sharp_sense_button.surf, sharp_sense_button.rect)
                                    if player.skills_scout["skill 3"] == "vanishing shroud":
                                        screen.blit(vanish_button.surf, vanish_button.rect)
                                    if player.skills_scout["skill 4"] == "poison arrow":
                                        screen.blit(arrow_button.surf, arrow_button.rect)
                                if player.role == "":
                                    screen.blit(no_role_attack_button.surf, no_role_attack_button.rect)

                            else:
                                if fire_active:
                                    game_window.blit(fire_battle_sprite.surf, fire_battle_sprite.rect)
                                    try:
                                        game_window.blit(enemy_status_bar_back.surf, enemy_status_bar_back.rect)
                                        game_window.blit(current_enemy_battling.health_bar.surf,
                                                         current_enemy_battling.health_bar.rect)
                                    except TypeError:
                                        pass

                                if player.role == "fighter":
                                    if show_edge:
                                        game_window.blit(edge_battle_sprite.surf, edge_battle_sprite.rect)
                                if player.role == "scout":
                                    if show_arrow:
                                        game_window.blit(arrow_battle_sprite.surf, arrow_battle_sprite.rect)
                                    elif show_poison_arrow:
                                        game_window.blit(advantage_battle_sprite.surf, advantage_battle_sprite.rect)

                                if burned:
                                    game_window.blit(battle_sprite_effect_burn.surf, battle_sprite_effect_burn.rect)
                                if poisoned:
                                    game_window.blit(battle_sprite_effect_poison.surf, battle_sprite_effect_poison.rect)
                                if bleeding and not bleed_shown:
                                    game_window.blit(battle_sprite_effect_bleed.surf, battle_sprite_effect_bleed.rect)
                                if crushed and not crush_shown:
                                    game_window.blit(battle_sprite_effect_crush.surf, battle_sprite_effect_crush.rect)

                                game_window.blit(message_box.surf, message_box.rect)
                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if len(drawing_functions.item_info_window) == 0:
                                    game_window.blit(star_power_meter.surf, star_power_meter.rect)
                                game_window.blit(offense_meter.surf, offense_meter.rect)
                                game_window.blit(defense_meter.surf, defense_meter.rect)
                                drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                              weapon_select, apothis_upgrade)
                                game_window.blit(skill_bar.surf, skill_bar.rect)
                                game_window.blit(enemy_status.surf, enemy_status.rect)
                                game_window.blit(text_enemy_name_surf, text_enemy_name_rect)
                                game_window.blit(text_enemy_level_surf, text_enemy_level_rect)

                                if player.role == "mage":
                                    game_window.blit(mage_attack_button.surf, mage_attack_button.rect)
                                    if player.skills_mage["skill 2"] == "barrier":
                                        game_window.blit(barrier_button.surf, barrier_button.rect)
                                    if player.skills_mage["skill 3"] == "transposition":
                                        game_window.blit(mirror_button.surf, mirror_button.rect)
                                    if player.skills_mage["skill 4"] == "millennium fire":
                                        game_window.blit(fire_button.surf, fire_button.rect)
                                if player.role == "fighter":
                                    game_window.blit(fighter_attack_button.surf, fighter_attack_button.rect)
                                    if player.skills_fighter["skill 2"] == "hard strike":
                                        game_window.blit(hard_strike_button.surf, hard_strike_button.rect)
                                    if player.skills_fighter["skill 3"] == "stunning swing":
                                        game_window.blit(stun_button.surf, stun_button.rect)
                                    if player.skills_fighter["skill 4"] == "epsilon's edge":
                                        game_window.blit(edge_button.surf, edge_button.rect)
                                if player.role == "scout":
                                    game_window.blit(scout_attack_button.surf, scout_attack_button.rect)
                                    if player.skills_scout["skill 2"] == "sharp sense":
                                        game_window.blit(sharp_sense_button.surf, sharp_sense_button.rect)
                                    if player.skills_scout["skill 3"] == "vanishing shroud":
                                        game_window.blit(vanish_button.surf, vanish_button.rect)
                                    if player.skills_scout["skill 4"] == "poison arrow":
                                        game_window.blit(arrow_button.surf, arrow_button.rect)
                                if player.role == "":
                                    game_window.blit(no_role_attack_button.surf, no_role_attack_button.rect)

                            # player status conditions overlay
                            if len(drawing_functions.level_up_window) == 0:
                                if burned:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(overlay_burned.surf, overlay_burned.rect)
                                    else:
                                        game_window.blit(overlay_burned.surf, overlay_burned.rect)
                                if poisoned:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                    else:
                                        game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                if bleeding:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                    else:
                                        game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                if crushed:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                                    else:
                                        game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                            # enemy status conditions overlay
                            if fire_active:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_burned_enemy.surf, overlay_burned_enemy.rect)
                                else:
                                    game_window.blit(overlay_burned_enemy.surf, overlay_burned_enemy.rect)
                            if arrow_active:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_poisoned_enemy.surf, overlay_poisoned_enemy.rect)
                                else:
                                    game_window.blit(overlay_poisoned_enemy.surf, overlay_poisoned_enemy.rect)
                            if edge_active:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_bleeding_enemy.surf, overlay_bleeding_enemy.rect)
                                else:
                                    game_window.blit(overlay_bleeding_enemy.surf, overlay_bleeding_enemy.rect)
                            if strike_active:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_crushed_enemy.surf, overlay_crushed_enemy.rect)
                                else:
                                    game_window.blit(overlay_crushed_enemy.surf, overlay_crushed_enemy.rect)

                            if not combat_cooldown:
                                if button_highlighted:
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(button_highlight.surf, button_highlight.rect)
                                    else:
                                        game_window.blit(button_highlight.surf, button_highlight.rect)

                            # damage overlays, updated depending on if damage was in effective range
                            try:
                                if combat_events["damage done"] != 0:
                                    dealt_damage_overlay.update(850, 225, graphic_dict["dealt_damage_img"])
                                    pet_damage_overlay.update(950, 275, graphic_dict["pet_damage_img"])
                                    if combat_events["non effective player"]:
                                        dealt_damage_overlay.update(850, 225,
                                                                    graphic_dict["non_effective_dealt_damage_img"])
                                    if combat_events["effective player"]:
                                        dealt_damage_overlay.update(850, 225,
                                                                    graphic_dict["effective_dealt_damage_img"])
                                    if combat_events["non effective pet"]:
                                        pet_damage_overlay.update(950, 275,
                                                                  graphic_dict["non_effective_pet_damage_img"])
                                    if combat_events["effective pet"]:
                                        pet_damage_overlay.update(950, 275, graphic_dict["effective_pet_damage_img"])

                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(dealt_damage_overlay.surf, dealt_damage_overlay.rect)
                                        if fire_active:
                                            screen.blit(fire_damage_overlay.surf, fire_damage_overlay.rect)
                                        if edge_active:
                                            screen.blit(edge_health_overlay.surf, edge_health_overlay.rect)
                                        if arrow_active:
                                            screen.blit(poison_arrow_dmg_overlay.surf, poison_arrow_dmg_overlay.rect)
                                    else:
                                        game_window.blit(dealt_damage_overlay.surf, dealt_damage_overlay.rect)
                                        if fire_active:
                                            game_window.blit(fire_damage_overlay.surf, fire_damage_overlay.rect)
                                        if edge_active:
                                            game_window.blit(edge_health_overlay.surf, edge_health_overlay.rect)
                                        if arrow_active:
                                            game_window.blit(poison_arrow_dmg_overlay.surf,
                                                             poison_arrow_dmg_overlay.rect)

                                    if kasper_unlocked or torok_unlocked or iriana_unlocked:
                                        for pet in player.pet:
                                            if pet.active:
                                                if pet.energy > 0:
                                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                        screen.blit(pet_damage_overlay.surf, pet_damage_overlay.rect)
                                                    else:
                                                        game_window.blit(pet_damage_overlay.surf,
                                                                         pet_damage_overlay.rect)
                                    damage_done_surf = level_up_font.render(str(combat_events["player damage"]),
                                                                            True, "black", "white")
                                    damage_done_rect = damage_done_surf.get_rect()
                                    damage_done_rect.center = (850, 225)

                                    if fire_active:
                                        try:
                                            fire_dmg_surf = level_up_font.render(str(combat_events["fire damage"]),
                                                                                 True, "black", "white")
                                            fire_dmg_rect = fire_dmg_surf.get_rect()
                                            fire_dmg_rect.center = (578, 160)
                                        except KeyError:
                                            pass
                                    if edge_active:
                                        try:
                                            edge_h_surf = level_up_font.render(str(combat_events["edge damage"]),
                                                                               True, "black", "white")
                                            edge_h_rect = edge_h_surf.get_rect()
                                            edge_h_rect.center = (780, 160)
                                        except KeyError:
                                            pass
                                    if arrow_active:
                                        try:
                                            arrow_h_surf = level_up_font.render(str(combat_events["arrow damage"]),
                                                                                True, "black", "white")
                                            arrow_h_rect = arrow_h_surf.get_rect()
                                            arrow_h_rect.center = (680, 160)
                                        except KeyError:
                                            pass

                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(damage_done_surf, damage_done_rect)
                                        if fire_active:
                                            screen.blit(fire_dmg_surf, fire_dmg_rect)
                                        if edge_active:
                                            screen.blit(edge_h_surf, edge_h_rect)
                                        if arrow_active:
                                            screen.blit(arrow_h_surf, arrow_h_rect)
                                    else:
                                        game_window.blit(damage_done_surf, damage_done_rect)
                                        if fire_active:
                                            game_window.blit(fire_dmg_surf, fire_dmg_rect)
                                        if edge_active:
                                            game_window.blit(edge_h_surf, edge_h_rect)
                                        if arrow_active:
                                            game_window.blit(arrow_h_surf, arrow_h_rect)

                                    damage_pet_surf = level_up_font.render(str(combat_events["pet damage"]),
                                                                           True, "black", "white")
                                    damage_pet_rect = damage_pet_surf.get_rect()
                                    damage_pet_rect.center = (950, 275)
                                    if kasper_unlocked or torok_unlocked or iriana_unlocked:
                                        for pet in player.pet:
                                            if pet.active:
                                                if pet.energy > 0:
                                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                        screen.blit(damage_pet_surf, damage_pet_rect)
                                                    else:
                                                        game_window.blit(damage_pet_surf, damage_pet_rect)
                                    if combat_events["critical dealt"]:
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(critical_dealt_overlay.surf, critical_dealt_overlay.rect)
                                        else:
                                            game_window.blit(critical_dealt_overlay.surf, critical_dealt_overlay.rect)

                                if combat_events["damage taken"] != 0:
                                    received_damage_overlay.update(125, 275, graphic_dict["received_damage_img"])
                                    if combat_events["non effective enemy"]:
                                        received_damage_overlay.update(125, 275,
                                                                       graphic_dict["non_effective_dealt_damage_img"])
                                    if combat_events["effective enemy"]:
                                        received_damage_overlay.update(125, 275,
                                                                       graphic_dict["effective_received_damage_img"])

                                    if burned:
                                        try:
                                            burn_damage_surf = level_up_font.render(str(combat_events["burn_damage"]),
                                                                                    True, "black", "white")
                                            burn_damage_rect = burn_damage_surf.get_rect()
                                            burn_damage_rect.center = (255, 275)
                                        except KeyError:
                                            pass
                                    if poisoned:
                                        try:
                                            poison_damage_surf = level_up_font.render(
                                                str(combat_events["poison_damage"]), True, "black", "white")
                                            poison_damage_rect = poison_damage_surf.get_rect()
                                            poison_damage_rect.center = (355, 275)
                                        except KeyError:
                                            pass
                                    if bleeding:
                                        try:
                                            bleed_damage_surf = level_up_font.render(str(combat_events["bleed_damage"]),
                                                                                     True, "black", "white")
                                            bleed_damage_rect = bleed_damage_surf.get_rect()
                                            bleed_damage_rect.center = (302, 375)
                                        except KeyError:
                                            pass

                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(received_damage_overlay.surf, received_damage_overlay.rect)
                                        damage_received_surf = level_up_font.render(str(combat_events["damage taken"]),
                                                                                    True, "black", "white")
                                        damage_received_rect = damage_received_surf.get_rect()
                                        damage_received_rect.center = (125, 275)
                                        screen.blit(damage_received_surf, damage_received_rect)
                                        if combat_events["critical received"]:
                                            screen.blit(critical_received_overlay.surf, critical_received_overlay.rect)
                                        if burned:
                                            screen.blit(burn_damage_overlay.surf, burn_damage_overlay.rect)
                                            screen.blit(burn_damage_surf, burn_damage_rect)
                                        if poisoned:
                                            screen.blit(poison_damage_overlay.surf, poison_damage_overlay.rect)
                                            screen.blit(poison_damage_surf, poison_damage_rect)
                                        if bleeding:
                                            screen.blit(bleed_damage_overlay.surf, bleed_damage_overlay.rect)
                                            screen.blit(bleed_damage_surf, bleed_damage_rect)
                                    else:
                                        game_window.blit(received_damage_overlay.surf, received_damage_overlay.rect)
                                        damage_received_surf = level_up_font.render(str(combat_events["damage taken"]),
                                                                                    True, "black", "white")
                                        damage_received_rect = damage_received_surf.get_rect()
                                        damage_received_rect.center = (125, 275)
                                        game_window.blit(damage_received_surf, damage_received_rect)
                                        if combat_events["critical received"]:
                                            game_window.blit(critical_received_overlay.surf,
                                                             critical_received_overlay.rect)
                                        if burned:
                                            game_window.blit(burn_damage_overlay.surf, burn_damage_overlay.rect)
                                            game_window.blit(burn_damage_surf, burn_damage_rect)
                                        if poisoned:
                                            game_window.blit(poison_damage_overlay.surf, poison_damage_overlay.rect)
                                            game_window.blit(poison_damage_surf, poison_damage_rect)
                                        if bleeding:
                                            game_window.blit(bleed_damage_overlay.surf, bleed_damage_overlay.rect)
                                            game_window.blit(bleed_damage_surf, bleed_damage_rect)
                            except TypeError:
                                pass

                            # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                                 info_text_3, info_text_4, in_over_world,
                                                                 basic_fish_counter, better_fish_counter,
                                                                 even_better_fish_counter, best_fish_counter)
                                drawing_functions.draw_it(screen, in_battle)
                            else:
                                drawing_functions.text_info_draw(game_window, player, font, info_text_1,
                                                                 info_text_2,
                                                                 info_text_3, info_text_4, in_over_world,
                                                                 basic_fish_counter, better_fish_counter,
                                                                 even_better_fish_counter, best_fish_counter)
                                drawing_functions.draw_it(game_window, in_battle)

                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH, SCREEN_HEIGHT))
                                game_window.blit(frame, frame.get_rect())
                                pygame.display.flip()

                            else:
                                pygame.display.flip()

                            # when combat happens, apply a short cooldown so attack button can't be spammed
                            combat_toc = time.perf_counter()
                            if combat_toc - combat_tic > 0.5:
                                # reset animations
                                combat_happened = False
                                combat_cooldown = False
                                hard_strike = False
                                show_edge = False
                                show_arrow = False
                                show_poison_arrow = False
                                if crushed:
                                    crush_shown = True
                                if bleeding:
                                    bleed_shown = True
                    except TypeError:
                        pass

                    # player health is less than or equal to 0, player is dead
                    if player.health <= 0:
                        combat_scenario.battle_animation_player(player, player_battle_sprite, barrier_active,
                                                                sharp_sense_active, graphic_dict,
                                                                kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                kasper_battle_sprite, torok_battle_sprite,
                                                                iriana_battle_sprite)
                        combat_scenario.battle_animation_enemy(current_enemy_battling, snake_battle_sprite,
                                                               ghoul_battle_sprite, chorizon_battle_sprite,
                                                               muchador_battle_sprite, magmon_battle_sprite,
                                                               bandile_battle_sprite, chinzilla_battle_sprite,
                                                               in_battle, in_npc_interaction, graphic_dict,
                                                               necrola_battle_sprite, osodark_battle_sprite,
                                                               stelli_battle_sprite, chorizon_phase,
                                                               erebyth_battle_sprite, turn_counter,
                                                               atmon_battle_sprite, jumano_battle_sprite,
                                                               dreth_battle_sprite, apothis_gift, cloaked,
                                                               time_of_day, first_attack)
                        player.alive_status = False

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player is in shop ---------------------------------------------------------------------------------
                if in_shop and not in_over_world and not in_battle and not in_inn and not in_academia \
                        and not in_npc_interaction:

                    if pygame.mixer.music.get_busy():
                        if player.current_zone == "seldon":
                            if not building_song_set:
                                pygame.mixer.music.fadeout(50)
                                pygame.mixer.music.load(seldon_building_music)
                                pygame.mixer.music.play(loops=-1)
                                building_song_set = True

                        if player.current_zone == "korlok":
                            if not building_song_set:
                                pygame.mixer.music.fadeout(50)
                                pygame.mixer.music.load(korlok_building_music)
                                pygame.mixer.music.play(loops=-1)
                                building_song_set = True

                        if player.current_zone == "ectrenos right":
                            if not building_song_set:
                                pygame.mixer.music.fadeout(50)
                                pygame.mixer.music.load(eldream_building_music)
                                pygame.mixer.music.play(loops=-1)
                                building_song_set = True

                    for event in pygame.event.get():
                        if buy_clicked:
                            if player.current_zone == "stardust":
                                upgrade_event = click_handlers.stardust_upgrade_event(event, offense_select_button,
                                                                                      pygame, SCREEN_WIDTH,
                                                                                      SCREEN_HEIGHT)
                                # if player is in stardust post and chooses to upgrade +10 offense, consume 4 stars
                                if len(stardust_upgrade_elements) > 0:
                                    if upgrade_event == "offense":
                                        if player.star_power >= 4:
                                            pygame.mixer.find_channel(True).play(sfx_power_up)
                                            buy_clicked = False
                                            player.offense += 1
                                            player.star_power -= 4
                                            info_text_1 = "You consumed 4 stars,"
                                            info_text_2 = "Upgrading your weapon to level 2."
                                            stardust_upgrade_elements.clear()
                                        elif apothis_gift and not apothis_upgrade:
                                            pygame.mixer.find_channel(True).play(sfx_power_up)
                                            buy_clicked = False
                                            apothis_upgrade = True
                                            info_text_1 = "You consumed Apothis's star,"
                                            info_text_2 = "Enhancing your weapons."
                                            stardust_upgrade_elements.clear()
                                        else:
                                            info_text_1 = "4 stars are required to upgrade."
                                            info_text_2 = ""

                        if event.type == KEYDOWN:
                            if event.key == K_ESCAPE:
                                if len(buy_shop_elements) > 0:
                                    buy_shop_elements.pop(0)
                                    shopkeeper_items.clear()
                                if len(drawing_functions.buy_info_window) > 0:
                                    drawing_functions.buy_info_window.clear()
                                if len(drawing_functions.sell_info_window) > 0:
                                    drawing_functions.sell_info_window.clear()

                                buy_clicked = False
                                movement_able = True
                                interacted = False
                                encounter_started = False
                                in_shop = False
                                in_over_world = True
                                shop_cat_pet = False
                                building_song_set = False
                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                        # getting mouse position and highlighting buttons if they collide
                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        button_highlighted = button_highlighter(pos)

                        if overlay_burned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if burned:
                                drawing_functions.condition_description_window.append(overlay_burned_desc)
                        elif overlay_poisoned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if poisoned:
                                drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                        elif overlay_bleeding.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if bleeding:
                                drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                        elif overlay_crushed.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if crushed:
                                drawing_functions.condition_description_window.append(overlay_crushed_desc)
                        else:
                            drawing_functions.condition_description_window.clear()

                        if flower_button.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                        else:
                            drawing_functions.flower_pop_up_window.clear()
                            drawing_functions.flower_pop_up_window_text.clear()

                        if fish_button_count.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                        else:
                            drawing_functions.fish_pop_up_window.clear()
                            drawing_functions.fish_pop_up_window_text.clear()

                        if event.type == pygame.MOUSEBUTTONUP:
                            if npc_garan.gift:
                                gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff, sword, bow,
                                                             pressed_keys, sfx_button_role)
                            if trading_deck:
                                if (len(drawing_functions.quest_box) == 0 and
                                        len(drawing_functions.quest_box_trading) == 0 and
                                        len(drawing_functions.quest_box_fishing) == 0):
                                    if card_deck_button.rect.collidepoint(pos):
                                        match show_trade_deck:
                                            case True:
                                                show_trade_deck = False
                                            case False:
                                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                                show_trade_deck = True
                            if player.current_zone == "seldon":
                                cat_pet_button_overlay.update(505, 290, graphic_dict["cat_pet_button_overlay"])
                                if cat_pet_button_overlay.rect.collidepoint(pos):
                                    pygame.mixer.find_channel(True).play(sfx_cat_meow)
                                    shop_cat_pet = True
                                    cats_pet["seldon_shop"] = True
                                    cat_count = 0
                                    for cat in cats_pet.values():
                                        if not cat:
                                            break
                                        cat_count += 1
                                        if cat_count == 7 and not cat_rewarded:
                                            if len(player.items) < 16:
                                                cat_rewarded = True
                                                player.items.append(
                                                    Item("cat card", "card", 200, 200, graphic_dict["cat_card"], 0))
                                            else:
                                                info_text_1 = "Cats Reward but inventory is full."
                                                info_text_2 = "Try freeing space and interact again."
                            if player.current_zone == "korlok":
                                cat_pet_button_overlay.update(450, 400, graphic_dict["cat_pet_button_overlay"])
                                if cat_pet_button_overlay.rect.collidepoint(pos):
                                    pygame.mixer.find_channel(True).play(sfx_cat_meow)
                                    shop_cat_pet = True
                                    cats_pet["korlok_shop"] = True
                                    cat_count = 0
                                    for cat in cats_pet.values():
                                        if not cat:
                                            break
                                        cat_count += 1
                                        if cat_count == 7 and not cat_rewarded:
                                            if len(player.items) < 16:
                                                cat_rewarded = True
                                                player.items.append(
                                                    Item("cat card", "card", 200, 200, graphic_dict["cat_card"], 0))
                                            else:
                                                info_text_1 = "Cats Reward but inventory is full."
                                                info_text_2 = "Try freeing space and interact again."
                            if player.current_zone == "ectrenos right":
                                cat_pet_button_overlay.update(440, 350, graphic_dict["cat_pet_button_overlay"])
                                if cat_pet_button_overlay.rect.collidepoint(pos):
                                    pygame.mixer.find_channel(True).play(sfx_cat_meow)
                                    shop_cat_pet = True
                                    cats_pet["eldream_shop"] = True
                                    cat_count = 0
                                    for cat in cats_pet.values():
                                        if not cat:
                                            break
                                        cat_count += 1
                                        if cat_count == 7 and not cat_rewarded:
                                            if len(player.items) < 16:
                                                cat_rewarded = True
                                                player.items.append(
                                                    Item("cat card", "card", 200, 200, graphic_dict["cat_card"], 0))
                                            else:
                                                info_text_1 = "Cats Reward but inventory is full."
                                                info_text_2 = "Try freeing space and interact again."

                        shop_button = click_handlers.shop_event_button(event, buy_button, leave_button, pygame,
                                                                       sfx_sheet_paper, SCREEN_WIDTH, SCREEN_HEIGHT)

                        # get which button player pressed during shop scenario (buy or leave)
                        if buy_clicked:
                            # if player clicks yes button to sell item, get current item and buy -------------------
                            buy_choice = click_handlers.shop_buy_button(event, yes_button, pygame, SCREEN_WIDTH,
                                                                        SCREEN_HEIGHT)
                            buy_return = shop_scenario.buy_items(pygame, player, buy_choice, current_buy_item, Item,
                                                                 graphic_dict["health_pot_img"],
                                                                 graphic_dict["energy_pot_img"],
                                                                 graphic_dict["basic_armor"],
                                                                 graphic_dict["forged_armor"],
                                                                 graphic_dict["mythical_armor"],
                                                                 graphic_dict["pet_cookie_img"],
                                                                 graphic_dict["pet_candy_img"],
                                                                 graphic_dict["pet_tart_img"], sfx_shop_transaction,
                                                                 graphic_dict["seldon_firework"],
                                                                 graphic_dict["korlok_firework"],
                                                                 graphic_dict["eldream_firework"],
                                                                 graphic_dict["seldon_bait"],
                                                                 graphic_dict["korlok_bait"],
                                                                 graphic_dict["eldream_bait"],
                                                                 graphic_dict["nera_trinket"],
                                                                 graphic_dict["aren_trinket"],
                                                                 graphic_dict["spirit_trinket"],
                                                                 graphic_dict["poison_cure"],
                                                                 graphic_dict["burn_cure"],
                                                                 graphic_dict["bandage_wrap"],
                                                                 graphic_dict["brace"])
                            if buy_return["info 1"] != "":
                                button_highlighted = False
                                info_text_1 = buy_return["info 1"]
                            if buy_return["info 2"] != "":
                                info_text_1 = buy_return["info 2"]
                            item_bought = buy_return["bought"]
                            # draws buy info box for info and confirmation
                            buy_item = click_handlers.buy_event_item(event, shopkeeper_items, pygame,
                                                                     sfx_button_inventory, SCREEN_WIDTH, SCREEN_HEIGHT)
                            if drawing_functions.buy_info_draw(buy_item, buy_items, yes_button,
                                                               graphic_dict) is not None:
                                current_buy_item = drawing_functions.buy_info_draw(buy_item, buy_items, yes_button,
                                                                                   graphic_dict)
                        if not buy_clicked:
                            if player.current_zone != "stardust":
                                # if player clicks yes button to sell item, get current item and sell ------------------
                                sell_choice = click_handlers.shop_sell_button(event, yes_button, pygame, sell_items,
                                                                              SCREEN_WIDTH, SCREEN_HEIGHT)
                                sell_return = shop_scenario.sell_items(pygame, player, sell_choice, current_sell_item,
                                                                       sfx_shop_transaction,
                                                                       player.quest_complete["can't apothecary it"],
                                                                       player.quest_complete["village repairs"],
                                                                       player.quest_complete["kart troubles"],
                                                                       player.quest_complete["re recycling"])
                                if sell_return["info 1"] != "":
                                    button_highlighted = False
                                    info_text_1 = sell_return["info 1"]
                                if sell_return["info 2"] != "":
                                    info_text_1 = sell_return["info 2"]

                                try:
                                    if not sell_return["cat_rewarded"]:
                                        cat_rewarded = False
                                except KeyError:
                                    pass

                                # draws sell info box for info and confirmation
                                sell_item = click_handlers.sell_event_item(event, pygame, sfx_button_inventory,
                                                                           SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                           player.quest_complete["can't apothecary it"],
                                                                           player.quest_complete["village repairs"],
                                                                           player.quest_complete["kart troubles"],
                                                                           player.quest_complete["re recycling"])
                                if drawing_functions.sell_info_draw(sell_item, sell_items, yes_button,
                                                                    graphic_dict) is not None:
                                    current_sell_item = drawing_functions.sell_info_draw(sell_item, sell_items,
                                                                                         yes_button, graphic_dict)

                        if player.current_zone == "stardust":
                            if shop_button == "buy":
                                first_shop_cond = False
                                shop_button = ''
                                # if player hasn't bought an item yet, show message that item can be clicked to buy
                                if not item_bought:
                                    info_text_1 = "Select an upgrade."
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                # if user clicks buy button again, set condition to false which will hide buy window
                                if buy_clicked:
                                    buy_clicked = False
                                    # remove buy window from display and clear temporary list used to populate it
                                    if len(stardust_upgrade_elements) > 0:
                                        stardust_upgrade_elements.clear()
                                # user clicked buy button for the first time. show buy window
                                else:
                                    buy_clicked = True
                                    stardust_upgrade_elements.append(upgrade_overlay)
                                    stardust_upgrade_elements.append(offense_select_button)

                        # outside of shop event loop -------------------------------------------------------------------
                        if player.current_zone != "stardust":
                            # if player has just started shop scenario, clear message box
                            if not encounter_started:
                                info_text_1 = "Click an inventory item to sell it."
                                info_text_2 = "Or, click buy button to buy an item."
                                info_text_3 = ""
                                info_text_4 = ""
                                encounter_started = True
                                # reset items bought condition on new shop encounter so that message is shown to player
                                item_bought = False

                            if shop_button == "buy":
                                first_shop_cond = False
                                shop_button = ''
                                # if player hasn't bought an item yet, show message that item can be clicked to buy
                                if not item_bought:
                                    info_text_1 = "Click an item to buy."
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                # if user clicks buy button again, set condition to false which will hide buy window
                                if buy_clicked:
                                    buy_clicked = False
                                    # remove buy window from display and clear temporary list used to populate it
                                    if len(buy_shop_elements) > 0:
                                        buy_shop_elements.pop(0)
                                        shopkeeper_items.clear()
                                # user clicked buy button for the first time. show buy window
                                else:
                                    buy_clicked = True
                                    buy_shop_elements.insert(0, buy_inventory)
                                    if player.current_zone == "seldon":
                                        shop_scenario.shop_keeper_inventory_draw(npc_amuna_shopkeeper, shopkeeper_items,
                                                                                 graphic_dict["basic_armor"],
                                                                                 graphic_dict["forged_armor"],
                                                                                 graphic_dict["mythical_armor"],
                                                                                 graphic_dict["pet_cookie_img"],
                                                                                 graphic_dict["pet_candy_img"],
                                                                                 graphic_dict["pet_tart_img"],
                                                                                 graphic_dict["small_health_pot_img"],
                                                                                 graphic_dict["small_energy_pot_img"],
                                                                                 graphic_dict["seldon_firework"],
                                                                                 graphic_dict["korlok_firework"],
                                                                                 graphic_dict["eldream_firework"],
                                                                                 graphic_dict["seldon_bait"],
                                                                                 graphic_dict["korlok_bait"],
                                                                                 graphic_dict["eldream_bait"],
                                                                                 graphic_dict["nera_trinket"],
                                                                                 graphic_dict["aren_trinket"],
                                                                                 graphic_dict["spirit_trinket"],
                                                                                 graphic_dict["poison_cure"],
                                                                                 graphic_dict["burn_cure"],
                                                                                 graphic_dict["bandage_wrap"],
                                                                                 graphic_dict["brace"])
                                    if player.current_zone == "korlok":
                                        shop_scenario.shop_keeper_inventory_draw(npc_nuldar_shopkeeper,
                                                                                 shopkeeper_items,
                                                                                 graphic_dict["basic_armor"],
                                                                                 graphic_dict["forged_armor"],
                                                                                 graphic_dict["mythical_armor"],
                                                                                 graphic_dict["pet_cookie_img"],
                                                                                 graphic_dict["pet_candy_img"],
                                                                                 graphic_dict["pet_tart_img"],
                                                                                 graphic_dict["small_health_pot_img"],
                                                                                 graphic_dict["small_energy_pot_img"],
                                                                                 graphic_dict["seldon_firework"],
                                                                                 graphic_dict["korlok_firework"],
                                                                                 graphic_dict["eldream_firework"],
                                                                                 graphic_dict["seldon_bait"],
                                                                                 graphic_dict["korlok_bait"],
                                                                                 graphic_dict["eldream_bait"],
                                                                                 graphic_dict["nera_trinket"],
                                                                                 graphic_dict["aren_trinket"],
                                                                                 graphic_dict["spirit_trinket"],
                                                                                 graphic_dict["poison_cure"],
                                                                                 graphic_dict["burn_cure"],
                                                                                 graphic_dict["bandage_wrap"],
                                                                                 graphic_dict["brace"])
                                    if player.current_zone == "ectrenos right":
                                        shop_scenario.shop_keeper_inventory_draw(npc_sorae_shopkeeper,
                                                                                 shopkeeper_items,
                                                                                 graphic_dict["basic_armor"],
                                                                                 graphic_dict["forged_armor"],
                                                                                 graphic_dict["mythical_armor"],
                                                                                 graphic_dict["pet_cookie_img"],
                                                                                 graphic_dict["pet_candy_img"],
                                                                                 graphic_dict["pet_tart_img"],
                                                                                 graphic_dict["small_health_pot_img"],
                                                                                 graphic_dict["small_energy_pot_img"],
                                                                                 graphic_dict["seldon_firework"],
                                                                                 graphic_dict["korlok_firework"],
                                                                                 graphic_dict["eldream_firework"],
                                                                                 graphic_dict["seldon_bait"],
                                                                                 graphic_dict["korlok_bait"],
                                                                                 graphic_dict["eldream_bait"],
                                                                                 graphic_dict["nera_trinket"],
                                                                                 graphic_dict["aren_trinket"],
                                                                                 graphic_dict["spirit_trinket"],
                                                                                 graphic_dict["poison_cure"],
                                                                                 graphic_dict["burn_cure"],
                                                                                 graphic_dict["bandage_wrap"],
                                                                                 graphic_dict["brace"])

                        if shop_button == "leave":
                            if len(buy_shop_elements) > 0:
                                buy_shop_elements.pop(0)
                                shopkeeper_items.clear()
                            if len(drawing_functions.buy_info_window) > 0:
                                drawing_functions.buy_info_window.clear()
                            if len(drawing_functions.sell_info_window) > 0:
                                drawing_functions.sell_info_window.clear()

                            buy_clicked = False
                            movement_able = True
                            interacted = False
                            encounter_started = False
                            in_shop = False
                            in_over_world = True
                            shop_cat_pet = False
                            building_song_set = False

                    # draw objects to screen related to shop scenario --------------------------------------------------
                    if player.current_zone == "seldon" and in_shop and not in_over_world and not in_battle \
                            and not in_inn and not in_academia and not in_npc_interaction:
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(seldon_district_shop, (0, 0))
                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            screen.blit(buy_button.surf, buy_button.rect)
                            screen.blit(leave_button.surf, leave_button.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.sell_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)
                        else:
                            game_window.blit(seldon_district_shop, (0, 0))
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            game_window.blit(buy_button.surf, buy_button.rect)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.sell_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)
                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if player.alive_status:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            cat_pet_button_overlay.update(505, 290, graphic_dict["cat_pet_button_overlay"])
                            if shop_cat_pet:
                                cat_pet_animation_overlay.update(524, 296, graphic_dict["seldon_shop_cat_pet_img"])
                                screen.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                            if buy_clicked:
                                for window in buy_shop_elements:
                                    screen.blit(window.surf, window.rect)
                                for shop_item in shopkeeper_items:
                                    screen.blit(shop_item.surf, shop_item.rect)
                                if len(buy_window) > 0:
                                    for element in buy_window:
                                        screen.blit(element.surf, element.rect)
                            if len(sell_window) > 0:
                                for element in sell_window:
                                    screen.blit(element.surf, element.rect)

                            if first_shop_cond:
                                directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                screen.blit(directional_arrow.surf, directional_arrow.rect)

                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)
                        else:
                            if player.alive_status:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)
                            cat_pet_button_overlay.update(505, 290, graphic_dict["cat_pet_button_overlay"])
                            if shop_cat_pet:
                                cat_pet_animation_overlay.update(524, 296, graphic_dict["seldon_shop_cat_pet_img"])
                                game_window.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                            if buy_clicked:
                                for window in buy_shop_elements:
                                    game_window.blit(window.surf, window.rect)
                                for shop_item in shopkeeper_items:
                                    game_window.blit(shop_item.surf, shop_item.rect)
                                if len(buy_window) > 0:
                                    for element in buy_window:
                                        game_window.blit(element.surf, element.rect)
                            if len(sell_window) > 0:
                                for element in sell_window:
                                    game_window.blit(element.surf, element.rect)

                            if first_shop_cond:
                                directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                game_window.blit(directional_arrow.surf, directional_arrow.rect)

                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)

                    # draw objects to screen related to shop scenario --------------------------------------------------
                    if player.current_zone == "korlok" and in_shop and not in_over_world and not in_battle \
                            and not in_inn and not in_academia and not in_npc_interaction:

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(korlok_district_shop, (0, 0))
                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            screen.blit(buy_button.surf, buy_button.rect)
                            screen.blit(leave_button.surf, leave_button.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.sell_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)
                        else:
                            game_window.blit(korlok_district_shop, (0, 0))
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            game_window.blit(buy_button.surf, buy_button.rect)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.sell_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)
                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if player.alive_status:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            cat_pet_button_overlay.update(505, 235, graphic_dict["cat_pet_button_overlay"])
                            screen.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if shop_cat_pet:
                                cat_pet_animation_overlay.update(465, 407, graphic_dict["korlok_shop_cat_pet_img"])
                                screen.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                            if buy_clicked:
                                for window in buy_shop_elements:
                                    screen.blit(window.surf, window.rect)
                                for shop_item in shopkeeper_items:
                                    screen.blit(shop_item.surf, shop_item.rect)
                                if len(buy_window) > 0:
                                    for element in buy_window:
                                        screen.blit(element.surf, element.rect)
                            if len(sell_window) > 0:
                                for element in sell_window:
                                    screen.blit(element.surf, element.rect)

                            if first_shop_cond:
                                directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                screen.blit(directional_arrow.surf, directional_arrow.rect)

                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)

                        else:
                            if player.alive_status:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)
                            cat_pet_button_overlay.update(505, 235, graphic_dict["cat_pet_button_overlay"])
                            game_window.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if shop_cat_pet:
                                cat_pet_animation_overlay.update(465, 407, graphic_dict["korlok_shop_cat_pet_img"])
                                game_window.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                            if buy_clicked:
                                for window in buy_shop_elements:
                                    game_window.blit(window.surf, window.rect)
                                for shop_item in shopkeeper_items:
                                    game_window.blit(shop_item.surf, shop_item.rect)
                                if len(buy_window) > 0:
                                    for element in buy_window:
                                        game_window.blit(element.surf, element.rect)
                            if len(sell_window) > 0:
                                for element in sell_window:
                                    game_window.blit(element.surf, element.rect)

                            if first_shop_cond:
                                directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                game_window.blit(directional_arrow.surf, directional_arrow.rect)

                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)

                    # draw objects to screen related to shop scenario --------------------------------------------------
                    if player.current_zone == "ectrenos right" and in_shop and not in_over_world and not in_battle \
                            and not in_inn and not in_academia and not in_npc_interaction:
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(eldream_district_shop, (0, 0))
                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            screen.blit(buy_button.surf, buy_button.rect)
                            screen.blit(leave_button.surf, leave_button.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.sell_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)
                        else:
                            game_window.blit(eldream_district_shop, (0, 0))
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            game_window.blit(buy_button.surf, buy_button.rect)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.sell_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)
                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if player.alive_status:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            cat_pet_button_overlay.update(440, 350, graphic_dict["cat_pet_button_overlay"])
                            screen.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if shop_cat_pet:
                                cat_pet_animation_overlay.update(445, 369, graphic_dict["eldream_shop_cat_pet_img"])
                                screen.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                            if buy_clicked:
                                for window in buy_shop_elements:
                                    screen.blit(window.surf, window.rect)
                                for shop_item in shopkeeper_items:
                                    screen.blit(shop_item.surf, shop_item.rect)
                                if len(buy_window) > 0:
                                    for element in buy_window:
                                        screen.blit(element.surf, element.rect)
                            if len(sell_window) > 0:
                                for element in sell_window:
                                    screen.blit(element.surf, element.rect)

                            if first_shop_cond:
                                directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                screen.blit(directional_arrow.surf, directional_arrow.rect)

                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)
                        else:
                            if player.alive_status:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)
                            cat_pet_button_overlay.update(440, 350, graphic_dict["cat_pet_button_overlay"])
                            game_window.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if shop_cat_pet:
                                cat_pet_animation_overlay.update(445, 369, graphic_dict["eldream_shop_cat_pet_img"])
                                game_window.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                            if buy_clicked:
                                for window in buy_shop_elements:
                                    game_window.blit(window.surf, window.rect)
                                for shop_item in shopkeeper_items:
                                    game_window.blit(shop_item.surf, shop_item.rect)
                                if len(buy_window) > 0:
                                    for element in buy_window:
                                        game_window.blit(element.surf, element.rect)
                            if len(sell_window) > 0:
                                for element in sell_window:
                                    game_window.blit(element.surf, element.rect)

                            if first_shop_cond:
                                directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                game_window.blit(directional_arrow.surf, directional_arrow.rect)

                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)
                    # draw objects to screen related to shop scenario --------------------------------------------------
                    if player.current_zone == "stardust" and in_shop and not in_over_world and not in_battle \
                            and not in_inn and not in_academia and not in_npc_interaction:
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(stardust_post_bg, (0, 0))
                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            screen.blit(upgrade_button.surf, upgrade_button.rect)
                            screen.blit(leave_button.surf, leave_button.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.sell_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)
                        else:
                            game_window.blit(stardust_post_bg, (0, 0))
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            game_window.blit(upgrade_button.surf, upgrade_button.rect)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.sell_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)
                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                        if player.alive_status:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            else:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if player.quest_complete["sneaky snakes"]:
                                screen.blit(sneaky_snake_stardust_star.surf, sneaky_snake_stardust_star.rect)
                            if player.quest_complete["village repairs"]:
                                screen.blit(village_repairs_stardust_star.surf, village_repairs_stardust_star.rect)
                            if player.quest_complete["where's nede?"]:
                                screen.blit(where_nede_stardust_star.surf, where_nede_stardust_star.rect)
                            if player.quest_complete["ghouled again"]:
                                screen.blit(ghouled_again_stardust_star.surf, ghouled_again_stardust_star.rect)
                            if player.quest_complete["welcome to consona"]:
                                screen.blit(welcome_to_consona_stardust_star.surf,
                                            welcome_to_consona_stardust_star.rect)
                            if player.quest_complete["band hammer"]:
                                screen.blit(band_hammer_stardust_star.surf, band_hammer_stardust_star.rect)
                            if player.quest_complete["elementary elementals"]:
                                screen.blit(elementary_elementals_stardust_star.surf,
                                            elementary_elementals_stardust_star.rect)
                            if player.quest_complete["it's dangerous to go alone"]:
                                screen.blit(dangerous_alone_stardust_star.surf, dangerous_alone_stardust_star.rect)
                            if player.quest_complete["disenchanted"]:
                                screen.blit(disenchanted_stardust_star.surf, disenchanted_stardust_star.rect)
                            if player.quest_complete["kart troubles"]:
                                screen.blit(kart_troubles_stardust_star.surf, kart_troubles_stardust_star.rect)
                            if player.quest_complete["las escondidas"]:
                                screen.blit(las_escondidas_stardust_star.surf, las_escondidas_stardust_star.rect)
                            if player.quest_complete["shades of fear"]:
                                screen.blit(shades_of_fear_stardust_star.surf, shades_of_fear_stardust_star.rect)
                            if player.quest_complete["madness in marrow"]:
                                screen.blit(madness_marrow_stardust_star.surf, madness_marrow_stardust_star.rect)
                            if npc_maydria.quest_complete:
                                screen.blit(vamos_vanguard_stardust_star.surf, vamos_vanguard_stardust_star.rect)
                            if npc_artherian.quest_complete:
                                screen.blit(legends_stardust_star.surf, legends_stardust_star.rect)
                            if player.quest_complete["re recycling"]:
                                screen.blit(re_recycling_stardust_star.surf, re_recycling_stardust_star.rect)

                            if apothis_gift:
                                screen.blit(apothis_star.surf, apothis_star.rect)
                            if buy_clicked:
                                for element in stardust_upgrade_elements:
                                    screen.blit(element.surf, element.rect)
                            if first_shop_cond:
                                directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                screen.blit(directional_arrow.surf, directional_arrow.rect)
                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)

                        else:
                            if player.quest_complete["sneaky snakes"]:
                                game_window.blit(sneaky_snake_stardust_star.surf, sneaky_snake_stardust_star.rect)
                            if player.quest_complete["village repairs"]:
                                game_window.blit(village_repairs_stardust_star.surf, village_repairs_stardust_star.rect)
                            if player.quest_complete["where's nede?"]:
                                game_window.blit(where_nede_stardust_star.surf, where_nede_stardust_star.rect)
                            if player.quest_complete["ghouled again"]:
                                game_window.blit(ghouled_again_stardust_star.surf, ghouled_again_stardust_star.rect)
                            if player.quest_complete["welcome to consona"]:
                                game_window.blit(welcome_to_consona_stardust_star.surf,
                                                 welcome_to_consona_stardust_star.rect)
                            if player.quest_complete["band hammer"]:
                                game_window.blit(band_hammer_stardust_star.surf, band_hammer_stardust_star.rect)
                            if player.quest_complete["elementary elementals"]:
                                game_window.blit(elementary_elementals_stardust_star.surf,
                                                 elementary_elementals_stardust_star.rect)
                            if player.quest_complete["it's dangerous to go alone"]:
                                game_window.blit(dangerous_alone_stardust_star.surf, dangerous_alone_stardust_star.rect)
                            if player.quest_complete["disenchanted"]:
                                game_window.blit(disenchanted_stardust_star.surf, disenchanted_stardust_star.rect)
                            if player.quest_complete["kart troubles"]:
                                game_window.blit(kart_troubles_stardust_star.surf, kart_troubles_stardust_star.rect)
                            if player.quest_complete["las escondidas"]:
                                game_window.blit(las_escondidas_stardust_star.surf, las_escondidas_stardust_star.rect)
                            if player.quest_complete["shades of fear"]:
                                game_window.blit(shades_of_fear_stardust_star.surf, shades_of_fear_stardust_star.rect)
                            if player.quest_complete["madness in marrow"]:
                                game_window.blit(madness_marrow_stardust_star.surf, madness_marrow_stardust_star.rect)
                            if npc_maydria.quest_complete:
                                game_window.blit(vamos_vanguard_stardust_star.surf, vamos_vanguard_stardust_star.rect)
                            if npc_artherian.quest_complete:
                                game_window.blit(legends_stardust_star.surf, legends_stardust_star.rect)
                            if player.quest_complete["re recycling"]:
                                game_window.blit(re_recycling_stardust_star.surf, re_recycling_stardust_star.rect)

                            if apothis_gift:
                                game_window.blit(apothis_star.surf, apothis_star.rect)
                            if buy_clicked:
                                for element in stardust_upgrade_elements:
                                    game_window.blit(element.surf, element.rect)
                            if first_shop_cond:
                                directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                game_window.blit(directional_arrow.surf, directional_arrow.rect)
                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)

                    if show_trade_deck:
                        render_card_deck()

                    if len(drawing_functions.level_up_window) == 0:
                        if burned:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_burned.surf, overlay_burned.rect)
                            else:
                                game_window.blit(overlay_burned.surf, overlay_burned.rect)
                        if poisoned:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                            else:
                                game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                        if bleeding:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                            else:
                                game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                        if crushed:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                            else:
                                game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player is in inn ----------------------------------------------------------------------------------
                if in_inn and not in_over_world and not in_shop and not in_battle and not in_academia \
                        and not in_npc_interaction:

                    if pygame.mixer.music.get_busy():
                        if player.current_zone == "seldon":
                            if not building_song_set:
                                pygame.mixer.music.fadeout(50)
                                pygame.mixer.music.load(seldon_building_music)
                                pygame.mixer.music.play(loops=-1)
                                building_song_set = True

                        if player.current_zone == "korlok":
                            if not building_song_set:
                                pygame.mixer.music.fadeout(50)
                                pygame.mixer.music.load(korlok_building_music)
                                pygame.mixer.music.play(loops=-1)
                                building_song_set = True

                        if player.current_zone == "ectrenos right":
                            if not building_song_set:
                                pygame.mixer.music.fadeout(50)
                                pygame.mixer.music.load(eldream_building_music)
                                pygame.mixer.music.play(loops=-1)
                                building_song_set = True

                    for event in pygame.event.get():
                        if event.type == KEYDOWN:
                            if event.key == K_ESCAPE:
                                rest_clicked = False
                                movement_able = True
                                interacted = False
                                encounter_started = False
                                in_inn = False
                                in_over_world = True
                                rested = False
                                faded_inn_screen = False
                                building_song_set = False
                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                        # getting mouse position and highlighting buttons if they collide
                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        button_highlighted = button_highlighter(pos)

                        if overlay_burned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if burned:
                                drawing_functions.condition_description_window.append(overlay_burned_desc)
                        elif overlay_poisoned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if poisoned:
                                drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                        elif overlay_bleeding.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if bleeding:
                                drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                        elif overlay_crushed.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if crushed:
                                drawing_functions.condition_description_window.append(overlay_crushed_desc)
                        else:
                            drawing_functions.condition_description_window.clear()

                        if flower_button.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                        else:
                            drawing_functions.flower_pop_up_window.clear()
                            drawing_functions.flower_pop_up_window_text.clear()

                        if fish_button_count.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                        else:
                            drawing_functions.fish_pop_up_window.clear()
                            drawing_functions.fish_pop_up_window_text.clear()

                        if event.type == pygame.MOUSEBUTTONUP:
                            if show_cat_card:
                                show_cat_card = False
                            if trading_deck:
                                if (len(drawing_functions.quest_box) == 0 and
                                        len(drawing_functions.quest_box_trading) == 0 and
                                        len(drawing_functions.quest_box_fishing) == 0):
                                    if card_deck_button.rect.collidepoint(pos):
                                        match show_trade_deck:
                                            case True:
                                                show_trade_deck = False
                                            case False:
                                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                                show_trade_deck = True
                            if npc_garan.gift:
                                gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff, sword, bow,
                                                             pressed_keys, sfx_button_role)

                        # get which button player pressed during inn scenario (rest or leave)
                        inn_button = click_handlers.inn_event_button(event, rest_button, leave_button, pygame,
                                                                     sfx_inn_sleep, SCREEN_WIDTH, SCREEN_HEIGHT)

                        # click handlers
                        info_choice = click_handlers.item_info_button(event, item_info_button, pygame, info_items,
                                                                      SCREEN_WIDTH, SCREEN_HEIGHT)
                        if info_choice == "yes":
                            inventory_event = click_handlers.inventory(pygame, player, current_info_item,
                                                                       sfx_item_potion, sfx_item_equip,
                                                                       sfx_item_whistle, sfx_item_snack, graphic_dict,
                                                                       SCREEN_WIDTH, SCREEN_HEIGHT, sfx_firework,
                                                                       sfx_skill_learn, poisoned, burned, bleeding,
                                                                       crushed, font, sfx_role_level,
                                                                       role_level_up_popup)
                            try:
                                if inventory_event["cat card"]:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    show_cat_card = True
                            except KeyError:
                                pass
                            try:
                                poisoned = inventory_event["poisoned"]
                            except KeyError:
                                pass
                            try:
                                burned = inventory_event["burned"]
                            except KeyError:
                                pass
                            try:
                                bleeding = inventory_event["bleeding"]
                            except KeyError:
                                pass
                            try:
                                crushed = inventory_event["crushed"]
                            except KeyError:
                                pass
                            if inventory_event["item message"] != "":
                                info_text_1 = inventory_event["item message"]
                                info_text_2 = ""
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        if info_choice == "no":
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        inventory_item_clicked = click_handlers.inventory_event_item(event, pygame, SCREEN_WIDTH,
                                                                                     SCREEN_HEIGHT)
                        if inventory_item_clicked["clicked"]:
                            pygame.mixer.find_channel(True).play(sfx_button_inventory)
                            current_info_item = drawing_functions.item_info_draw(inventory_item_clicked["element"],
                                                                                 info_items, item_info_button,
                                                                                 graphic_dict)
                        # function to handle equipment item clicks. apply item message to message box if not empty str.
                        if len(drawing_functions.item_info_window) == 0:
                            equipment_event = click_handlers.equipment(player, event, pygame, basic_armor, forged_armor,
                                                                       mythical_armor, legendary_armor, power_gloves,
                                                                       chroma_boots, sfx_item_equip, SCREEN_WIDTH,
                                                                       SCREEN_HEIGHT, graphic_dict, neras_grace,
                                                                       arens_strength, spirit_of_wisdom)
                            if equipment_event["equipment message"] != "":
                                info_text_1 = equipment_event["equipment message"]
                                info_text_2 = ""

                        if inn_button == "rest":
                            first_inn_cond = False
                            # if player has not yet rested this instance
                            if not rested:
                                pygame.mixer.find_channel(True).play(sfx_inn_sleep)
                                rest_clicked = True
                                info_text_1 = "You feel well rested."
                                info_text_2 = "Your health is restored."
                                info_text_3 = "Your energy is restored."
                                info_text_4 = ""
                            # if player has already rested this instance
                            else:
                                info_text_1 = "You've already rested."
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""

                        if inn_button == "leave":
                            rest_clicked = False
                            movement_able = True
                            interacted = False
                            encounter_started = False
                            in_inn = False
                            in_over_world = True
                            rested = False
                            faded_inn_screen = False
                            building_song_set = False

                    # outside of inn event loop ------------------------------------------------------------------------
                    # if player has just started inn scenario, clear message box
                    if not encounter_started:
                        info_text_1 = "Click rest button to sleep."
                        info_text_2 = "Sleep regains health and energy."
                        info_text_3 = ""
                        info_text_4 = ""
                        encounter_started = True

                    # draw objects to screen related to inn scenario ---------------------------------------------------
                    if in_inn and not in_over_world and not in_shop and not \
                            in_battle and not in_academia and not in_npc_interaction:

                        if player.current_zone == "seldon":
                            # if player has just rested, fade inn screen back in with alpha value loop
                            if time_of_day == 1 or time_of_day == 2:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            seldon_district_inn_morning.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(seldon_district_inn_morning, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(seldon_district_inn_morning, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        seldon_district_inn_morning.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(seldon_district_inn_morning, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(seldon_district_inn_morning, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    seldon_district_inn_morning.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(seldon_district_inn_morning, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(seldon_district_inn_morning, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            if time_of_day == 3 or time_of_day == 4:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            seldon_district_inn_day.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(seldon_district_inn_day, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(seldon_district_inn_day, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        seldon_district_inn_day.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(seldon_district_inn_day, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(seldon_district_inn_day, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    seldon_district_inn_day.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(seldon_district_inn_day, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(seldon_district_inn_day, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            if time_of_day == 5 or time_of_day == 6:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            seldon_district_inn_afternoon.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(seldon_district_inn_afternoon, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(seldon_district_inn_afternoon, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        seldon_district_inn_afternoon.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(seldon_district_inn_afternoon, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(seldon_district_inn_afternoon, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    seldon_district_inn_afternoon.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(seldon_district_inn_afternoon, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(seldon_district_inn_afternoon, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            if time_of_day == 7 or time_of_day == 0:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            seldon_district_inn_night.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(seldon_district_inn_night, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(seldon_district_inn_night, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        seldon_district_inn_night.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(seldon_district_inn_night, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(seldon_district_inn_night, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    seldon_district_inn_night.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(seldon_district_inn_night, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(seldon_district_inn_night, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)

                        if player.current_zone == "korlok":
                            if time_of_day == 1 or time_of_day == 2:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            korlok_district_inn_morning.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(korlok_district_inn_morning, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(korlok_district_inn_morning, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        korlok_district_inn_morning.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(korlok_district_inn_morning, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(korlok_district_inn_morning, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    korlok_district_inn_morning.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(korlok_district_inn_morning, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(korlok_district_inn_morning, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            if time_of_day == 3 or time_of_day == 4:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            korlok_district_inn_day.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(korlok_district_inn_day, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(korlok_district_inn_day, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        korlok_district_inn_day.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(korlok_district_inn_day, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(korlok_district_inn_day, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    korlok_district_inn_day.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(korlok_district_inn_day, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(korlok_district_inn_day, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            if time_of_day == 5 or time_of_day == 6:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            korlok_district_inn_afternoon.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(korlok_district_inn_afternoon, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(korlok_district_inn_afternoon, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        korlok_district_inn_afternoon.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(korlok_district_inn_afternoon, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(korlok_district_inn_afternoon, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    korlok_district_inn_afternoon.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(korlok_district_inn_afternoon, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(korlok_district_inn_afternoon, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            if time_of_day == 7 or time_of_day == 0:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            korlok_district_inn_night.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(korlok_district_inn_night, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(korlok_district_inn_night, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        korlok_district_inn_night.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(korlok_district_inn_night, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(korlok_district_inn_night, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    korlok_district_inn_night.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(korlok_district_inn_night, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(korlok_district_inn_night, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)

                        if player.current_zone == "ectrenos right":
                            if time_of_day == 1 or time_of_day == 2:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            eldream_district_inn_morning.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(eldream_district_inn_morning, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(eldream_district_inn_morning, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        eldream_district_inn_morning.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(eldream_district_inn_morning, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(eldream_district_inn_morning, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    eldream_district_inn_morning.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(eldream_district_inn_morning, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(eldream_district_inn_morning, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            if time_of_day == 3 or time_of_day == 4:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            eldream_district_inn_day.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(eldream_district_inn_day, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(eldream_district_inn_day, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        eldream_district_inn_day.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(eldream_district_inn_day, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(eldream_district_inn_day, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    eldream_district_inn_day.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(eldream_district_inn_day, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(eldream_district_inn_day, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            if time_of_day == 5 or time_of_day == 6:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            eldream_district_inn_afternoon.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(eldream_district_inn_afternoon, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(eldream_district_inn_afternoon, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        eldream_district_inn_afternoon.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(eldream_district_inn_afternoon, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(eldream_district_inn_afternoon, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    eldream_district_inn_afternoon.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(eldream_district_inn_afternoon, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(eldream_district_inn_afternoon, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            if time_of_day == 7 or time_of_day == 0:
                                if rested:
                                    if not faded_inn_screen:
                                        for alpha in range(0, 50):
                                            eldream_district_inn_night.set_alpha(alpha)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                screen.blit(eldream_district_inn_night, (0, 0))
                                                screen.blit(equipment_screen.surf, equipment_screen.rect)
                                            else:
                                                game_window.blit(eldream_district_inn_night, (0, 0))
                                                game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                                frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH,
                                                                                              SCREEN_HEIGHT))
                                                game_window.blit(frame, frame.get_rect())
                                                pygame.display.flip()
                                            else:
                                                pygame.display.flip()
                                        faded_inn_screen = True
                                    else:
                                        eldream_district_inn_night.set_alpha(255)
                                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                            screen.blit(eldream_district_inn_night, (0, 0))
                                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                                        else:
                                            game_window.blit(eldream_district_inn_night, (0, 0))
                                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                                if not rested:
                                    eldream_district_inn_night.set_alpha(255)
                                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                        screen.blit(eldream_district_inn_night, (0, 0))
                                        screen.blit(equipment_screen.surf, equipment_screen.rect)
                                    else:
                                        game_window.blit(eldream_district_inn_night, (0, 0))
                                        game_window.blit(equipment_screen.surf, equipment_screen.rect)

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        screen.blit(offense_meter.surf, offense_meter.rect)
                        screen.blit(defense_meter.surf, defense_meter.rect)
                        drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan, weapon_select,
                                                      apothis_upgrade)
                        screen.blit(rest_button.surf, rest_button.rect)
                        screen.blit(leave_button.surf, leave_button.rect)
                        if len(drawing_functions.item_info_window) == 0:
                            screen.blit(star_power_meter.surf, star_power_meter.rect)
                        screen.blit(message_box.surf, message_box.rect)
                    else:
                        game_window.blit(offense_meter.surf, offense_meter.rect)
                        game_window.blit(defense_meter.surf, defense_meter.rect)
                        drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan, weapon_select,
                                                      apothis_upgrade)
                        game_window.blit(rest_button.surf, rest_button.rect)
                        game_window.blit(leave_button.surf, leave_button.rect)
                        if len(drawing_functions.item_info_window) == 0:
                            game_window.blit(star_power_meter.surf, star_power_meter.rect)
                        game_window.blit(message_box.surf, message_box.rect)
                    # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                         info_text_3, info_text_4, in_over_world,
                                                         basic_fish_counter, better_fish_counter,
                                                         even_better_fish_counter, best_fish_counter)
                        drawing_functions.draw_it(screen, in_battle)
                    else:
                        drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                         info_text_3, info_text_4, in_over_world,
                                                         basic_fish_counter, better_fish_counter,
                                                         even_better_fish_counter, best_fish_counter)
                        drawing_functions.draw_it(game_window, in_battle)

                    if player.alive_status:
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)
                            screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                            screen.blit(hp_bar.surf, hp_bar.rect)
                            screen.blit(en_bar.surf, en_bar.rect)
                            screen.blit(xp_bar.surf, xp_bar.rect)
                        else:
                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)
                            game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                            game_window.blit(hp_bar.surf, hp_bar.rect)
                            game_window.blit(en_bar.surf, en_bar.rect)
                            game_window.blit(xp_bar.surf, xp_bar.rect)

                    if show_cat_card:
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(cat_card_portrait, (60, 105))
                        else:
                            game_window.blit(cat_card_portrait, (60, 105))
                    if show_trade_deck:
                        render_card_deck()

                    if len(drawing_functions.level_up_window) == 0:
                        if burned:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_burned.surf, overlay_burned.rect)
                            else:
                                game_window.blit(overlay_burned.surf, overlay_burned.rect)
                        if poisoned:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                            else:
                                game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                        if bleeding:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                            else:
                                game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                        if crushed:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                            else:
                                game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                    if rest_clicked:
                        if not rested:
                            # set sleep screen to fade in with alpha value loop. flip each iteration to show
                            for alpha in range(0, 255):
                                nera_sleep_screen.set_alpha(alpha)
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(nera_sleep_screen, (0, 0))
                                    frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH, SCREEN_HEIGHT))
                                    game_window.blit(frame, frame.get_rect())
                                    pygame.display.flip()
                                else:
                                    game_window.blit(nera_sleep_screen, (0, 0))
                                    pygame.display.flip()
                            player.health = 100
                            player.energy = 100
                            rested = True
                            time_of_day += 4
                            if time_of_day > 7:
                                time_of_day -= 8

                            # update message box indicator and enemy sprites depending on time of day after resting
                            if time_of_day == 0:
                                message_box.update(173, 650, graphic_dict["message_box_night"])
                                if player.current_zone == "seldon":
                                    for snake in snakes:
                                        if (player.quest_status["sneaky snakes"]
                                                and not player.quest_complete["sneaky snakes"]):
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake_high_night"])
                                        else:
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake_night"])
                                    if player.quest_progress["where's nede?"] == 1:
                                        nede.update(809, 390, graphic_dict["nede_sleep"])
                                if player.current_zone == "korlok":
                                    for magmon in magmons:
                                        if (player.quest_status["elementary elementals"]
                                                and not player.quest_complete["elementary elementals"]):
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon_high_night"])
                                        else:
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon_night"])
                            elif time_of_day == 1:
                                over_world_song_set = False
                                message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                pygame.mixer.find_channel(True).play(sfx_chirp)
                                if player.current_zone == "seldon":
                                    for snake in snakes:
                                        if (player.quest_status["sneaky snakes"]
                                                and not player.quest_complete["sneaky snakes"]):
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake_high"])
                                        else:
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake"])
                                    if player.quest_progress["where's nede?"] == 1:
                                        nede.update(809, 390, graphic_dict["nede_left"])
                                if player.current_zone == "korlok":
                                    for magmon in magmons:
                                        if (player.quest_status["elementary elementals"]
                                                and not player.quest_complete["elementary elementals"]):
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon_high"])
                                        else:
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon"])
                            elif time_of_day == 2:
                                message_box.update(173, 650, graphic_dict["message_box_dawn"])
                                if player.current_zone == "seldon":
                                    for snake in snakes:
                                        if (player.quest_status["sneaky snakes"]
                                                and not player.quest_complete["sneaky snakes"]):
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake_high"])
                                        else:
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake"])
                                    if player.quest_progress["where's nede?"] == 1:
                                        nede.update(809, 390, graphic_dict["nede_left"])
                                if player.current_zone == "korlok":
                                    for magmon in magmons:
                                        if (player.quest_status["elementary elementals"]
                                                and not player.quest_complete["elementary elementals"]):
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon_high"])
                                        else:
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon"])
                            elif time_of_day == 3 or time_of_day == 4:
                                message_box.update(173, 650, graphic_dict["message_box_day"])
                                if player.current_zone == "seldon":
                                    for snake in snakes:
                                        if (player.quest_status["sneaky snakes"]
                                                and not player.quest_complete["sneaky snakes"]):
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake_high"])
                                        else:
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake"])
                                    if player.quest_progress["where's nede?"] == 1:
                                        nede.update(809, 390, graphic_dict["nede_left"])
                                if player.current_zone == "korlok":
                                    for magmon in magmons:
                                        if (player.quest_status["elementary elementals"]
                                                and not player.quest_complete["elementary elementals"]):
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon_high"])
                                        else:
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon"])
                            elif time_of_day == 5 or time_of_day == 6:
                                message_box.update(173, 650, graphic_dict["message_box_dusk"])
                            elif time_of_day == 7:
                                over_world_song_set = False
                                message_box.update(173, 650, graphic_dict["message_box_night"])
                                pygame.mixer.find_channel(True).play(sfx_howl)
                                if player.current_zone == "seldon":
                                    for snake in snakes:
                                        if (player.quest_status["sneaky snakes"]
                                                and not player.quest_complete["sneaky snakes"]):
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake_high_night"])
                                        else:
                                            snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                               graphic_dict["snake_night"])
                                    if player.quest_progress["where's nede?"] == 1:
                                        nede.update(809, 390, graphic_dict["nede_sleep"])
                                if player.current_zone == "korlok":
                                    for magmon in magmons:
                                        if (player.quest_status["elementary elementals"]
                                                and not player.quest_complete["elementary elementals"]):
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon_high_night"])
                                        else:
                                            magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                                graphic_dict["magmon_night"])

                    if first_inn_cond:
                        directional_arrow.update(855, 620, graphic_dict["arrow_down"])

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(directional_arrow.surf, directional_arrow.rect)
                        else:
                            game_window.blit(directional_arrow.surf, directional_arrow.rect)

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player is in academia -----------------------------------------------------------------------------
                if in_academia and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                        and not in_battle:

                    if not building_song_set:
                        if pygame.mixer.music.get_busy():
                            pygame.mixer.music.fadeout(50)
                            pygame.mixer.music.load(seldon_building_music)
                            pygame.mixer.music.play(loops=-1)
                            building_song_set = True

                    for event in pygame.event.get():
                        if event.type == KEYDOWN:
                            if event.key == K_ESCAPE:
                                book_appended = False
                                movement_able = True
                                interacted = False
                                encounter_started = False
                                in_academia = False
                                in_over_world = True
                                mage_learn_clicked = False
                                fighter_learn_clicked = False
                                scout_learn_clicked = False
                                academia_cat_pet = False
                                building_song_set = False
                                books.clear()
                                skill_learn_items.clear()
                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                        # getting mouse position and highlighting buttons if they collide
                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        button_highlighted = button_highlighter(pos)

                        if overlay_burned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if burned:
                                drawing_functions.condition_description_window.append(overlay_burned_desc)
                        elif overlay_poisoned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if poisoned:
                                drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                        elif overlay_bleeding.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if bleeding:
                                drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                        elif overlay_crushed.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if crushed:
                                drawing_functions.condition_description_window.append(overlay_crushed_desc)
                        else:
                            drawing_functions.condition_description_window.clear()

                        if flower_button.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                        else:
                            drawing_functions.flower_pop_up_window.clear()
                            drawing_functions.flower_pop_up_window_text.clear()

                        if fish_button_count.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                        else:
                            drawing_functions.fish_pop_up_window.clear()
                            drawing_functions.fish_pop_up_window_text.clear()

                        if event.type == pygame.MOUSEBUTTONUP:
                            if show_cat_card:
                                show_cat_card = False
                            if trading_deck:
                                if (len(drawing_functions.quest_box) == 0 and
                                        len(drawing_functions.quest_box_trading) == 0 and
                                        len(drawing_functions.quest_box_fishing) == 0):
                                    if card_deck_button.rect.collidepoint(pos):
                                        match show_trade_deck:
                                            case True:
                                                show_trade_deck = False
                                            case False:
                                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                                show_trade_deck = True
                            if npc_garan.gift:
                                gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff, sword, bow,
                                                             pressed_keys, sfx_button_role)
                            if cat_pet_button_overlay.rect.collidepoint(pos):
                                pygame.mixer.find_channel(True).play(sfx_cat_meow)
                                academia_cat_pet = True
                                cats_pet["seldon_academia"] = True
                                cat_count = 0
                                for cat in cats_pet.values():
                                    if not cat:
                                        break
                                    cat_count += 1
                                    if cat_count == 7 and not cat_rewarded:
                                        if len(player.items) < 16:
                                            cat_rewarded = True
                                            player.items.append(
                                                Item("cat card", "card", 200, 200, graphic_dict["cat_card"], 0))
                                        else:
                                            info_text_1 = "Cats Reward but inventory is full."
                                            info_text_2 = "Try freeing space and interact again."
                        # get which button player pressed during academia scenario (learn or leave)
                        academia_button = click_handlers.academia_event_button(event, mage_learn_button,
                                                                               fighter_learn_button, scout_learn_button,
                                                                               leave_button, pygame, sfx_sheet_paper,
                                                                               SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                               character_button)
                        # click handlers
                        info_choice = click_handlers.item_info_button(event, item_info_button, pygame, info_items,
                                                                      SCREEN_WIDTH, SCREEN_HEIGHT)
                        if info_choice == "yes":
                            inventory_event = click_handlers.inventory(pygame, player, current_info_item,
                                                                       sfx_item_potion, sfx_item_equip,
                                                                       sfx_item_whistle, sfx_item_snack, graphic_dict,
                                                                       SCREEN_WIDTH, SCREEN_HEIGHT, sfx_firework,
                                                                       sfx_skill_learn, poisoned, burned, bleeding,
                                                                       crushed, font, sfx_role_level,
                                                                       role_level_up_popup)
                            try:
                                if inventory_event["cat card"]:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    show_cat_card = True
                            except KeyError:
                                pass
                            try:
                                poisoned = inventory_event["poisoned"]
                            except KeyError:
                                pass
                            try:
                                burned = inventory_event["burned"]
                            except KeyError:
                                pass
                            try:
                                bleeding = inventory_event["bleeding"]
                            except KeyError:
                                pass
                            try:
                                crushed = inventory_event["crushed"]
                            except KeyError:
                                pass
                            if inventory_event["item message"] != "":
                                info_text_1 = inventory_event["item message"]
                                info_text_2 = ""
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        if info_choice == "no":
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        inventory_item_clicked = click_handlers.inventory_event_item(event, pygame,
                                                                                     SCREEN_WIDTH, SCREEN_HEIGHT)
                        if inventory_item_clicked["clicked"]:
                            pygame.mixer.find_channel(True).play(sfx_button_inventory)
                            current_info_item = drawing_functions.item_info_draw(inventory_item_clicked["element"],
                                                                                 info_items, item_info_button,
                                                                                 graphic_dict)
                        # function to handle equipment item clicks. apply item message to message box if not empty str.
                        if len(drawing_functions.item_info_window) == 0:
                            equipment_event = click_handlers.equipment(player, event, pygame, basic_armor, forged_armor,
                                                                       mythical_armor, legendary_armor, power_gloves,
                                                                       chroma_boots, sfx_item_equip,
                                                                       SCREEN_WIDTH, SCREEN_HEIGHT, graphic_dict,
                                                                       neras_grace, arens_strength, spirit_of_wisdom)
                            if equipment_event["equipment message"] != "":
                                info_text_1 = equipment_event["equipment message"]
                                info_text_2 = ""

                        # get which button player pressed during book skill open (skill or close)
                        book_button = click_handlers.skill_learn_event_item(event, skill_learn_items, pygame,
                                                                            SCREEN_WIDTH, SCREEN_HEIGHT)
                        if mage_learn_clicked:
                            try:
                                if book_button.name == "barrier learn button":
                                    if not barrier_learned:
                                        if player.mage_level >= 1:
                                            pygame.mixer.find_channel(True).play(sfx_skill_learn)
                                            player.skills_mage["skill 2"] = "barrier"
                                            info_text_1 = "'Barrier' skill learned!"
                                            info_text_2 = ""
                                            barrier_learned = True
                                            button_highlighted = False
                                            mage_learn_clicked = False
                                            book_appended = False
                                            books.clear()
                                            skill_learn_items.clear()
                                        else:
                                            info_text_1 = "Mage level 1 required to learn."
                                            info_text_2 = ""
                                    else:
                                        info_text_1 = "You've already learned 'Barrier'."
                                        info_text_2 = ""
                                if player.mage_level >= 3:
                                    if book_button.name == "mirror learn button":
                                        if not mirror_learned:
                                            if player.mage_level >= 3:
                                                pygame.mixer.find_channel(True).play(sfx_skill_learn)
                                                player.skills_mage["skill 3"] = "transposition"
                                                info_text_1 = "'Transposition' skill learned!"
                                                info_text_2 = ""
                                                mirror_learned = True
                                                button_highlighted = False
                                                mage_learn_clicked = False
                                                book_appended = False
                                                books.clear()
                                                skill_learn_items.clear()
                                            else:
                                                info_text_1 = "Mage level 3 required to learn."
                                                info_text_2 = ""
                                        else:
                                            info_text_1 = "You've already learned 'Transposition'."
                                            info_text_2 = ""

                                if player.mage_level >= 5:
                                    if book_button.name == "fire learn button":
                                        if not fire_learned:
                                            if player.mage_level >= 5:
                                                pygame.mixer.find_channel(True).play(sfx_skill_learn)
                                                player.skills_mage["skill 4"] = "millennium fire"
                                                info_text_1 = "'Millennium Fire' skill learned!"
                                                info_text_2 = ""
                                                fire_learned = True
                                                button_highlighted = False
                                                mage_learn_clicked = False
                                                book_appended = False
                                                books.clear()
                                                skill_learn_items.clear()
                                            else:
                                                info_text_1 = "Mage level 5 required to learn."
                                                info_text_2 = ""
                                        else:
                                            info_text_1 = "You've already learned 'Millennium Fire'."
                                            info_text_2 = ""

                                if book_button.name == "close button":
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    mage_learn_clicked = False
                                    book_appended = False
                                    button_highlighted = False
                                    books.clear()
                                    skill_learn_items.clear()
                            except AttributeError:
                                pass
                        if fighter_learn_clicked:
                            try:
                                if book_button.name == "hard strike learn button":
                                    if not hard_strike_learned:
                                        if player.fighter_level >= 1:
                                            pygame.mixer.find_channel(True).play(sfx_skill_learn)
                                            player.skills_fighter["skill 2"] = "hard strike"
                                            info_text_1 = "'Hard Strike' skill learned!"
                                            info_text_2 = ""
                                            hard_strike_learned = True
                                            fighter_learn_clicked = False
                                            book_appended = False
                                            button_highlighted = False
                                            books.clear()
                                            skill_learn_items.clear()
                                        else:
                                            info_text_1 = "Fighter level 1 required to learn."
                                            info_text_2 = ""
                                    else:
                                        info_text_1 = "You've already learned 'Hard Strike'."
                                        info_text_2 = ""
                                if player.fighter_level >= 3:
                                    if book_button.name == "stun learn button":
                                        if not stun_learned:
                                            if player.fighter_level >= 3:
                                                pygame.mixer.find_channel(True).play(sfx_skill_learn)
                                                player.skills_fighter["skill 3"] = "stunning swing"
                                                info_text_1 = "'Stunning Swing' skill learned!"
                                                info_text_2 = ""
                                                stun_learned = True
                                                fighter_learn_clicked = False
                                                book_appended = False
                                                button_highlighted = False
                                                books.clear()
                                                skill_learn_items.clear()
                                            else:
                                                info_text_1 = "Fighter level 3 required to learn."
                                        else:
                                            info_text_1 = "You've already learned 'Stunning Swing'."
                                            info_text_2 = ""

                                if player.fighter_level >= 5:
                                    if book_button.name == "edge learn button":
                                        if not edge_learned:
                                            if player.fighter_level >= 5:
                                                pygame.mixer.find_channel(True).play(sfx_skill_learn)
                                                player.skills_fighter["skill 4"] = "epsilon's edge"
                                                info_text_1 = "'Epsilon's Edge' skill learned!"
                                                info_text_2 = ""
                                                edge_learned = True
                                                fighter_learn_clicked = False
                                                book_appended = False
                                                button_highlighted = False
                                                books.clear()
                                                skill_learn_items.clear()
                                            else:
                                                info_text_1 = "Fighter level 5 required to learn."
                                                info_text_2 = ""
                                        else:
                                            info_text_1 = "You've already learned 'Epsilon's Edge'."
                                            info_text_2 = ""

                                if book_button.name == "close button":
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    fighter_learn_clicked = False
                                    book_appended = False
                                    button_highlighted = False
                                    books.clear()
                                    skill_learn_items.clear()
                            except AttributeError:
                                pass
                        if scout_learn_clicked:
                            try:
                                if book_button.name == "sharp sense learn button":
                                    if not sharp_sense_learned:
                                        if player.scout_level >= 1:
                                            pygame.mixer.find_channel(True).play(sfx_skill_learn)
                                            player.skills_scout["skill 2"] = "sharp sense"
                                            info_text_1 = "'Sharp Sense' skill learned!"
                                            info_text_2 = ""
                                            sharp_sense_learned = True
                                            button_highlighted = False
                                            scout_learn_clicked = False
                                            book_appended = False
                                            books.clear()
                                            skill_learn_items.clear()
                                        else:
                                            info_text_1 = "Scout level 1 required to learn."
                                            info_text_2 = ""
                                    else:
                                        info_text_1 = "You've already learned 'Sharp Sense'."
                                        info_text_2 = ""
                                if player.scout_level >= 3:
                                    if book_button.name == "vanish learn button":
                                        if not vanish_learned:
                                            if player.scout_level >= 3:
                                                pygame.mixer.find_channel(True).play(sfx_skill_learn)
                                                player.skills_scout["skill 3"] = "vanishing shroud"
                                                info_text_1 = "'Vanishing Shroud' skill learned!"
                                                info_text_2 = ""
                                                vanish_learned = True
                                                button_highlighted = False
                                                scout_learn_clicked = False
                                                book_appended = False
                                                books.clear()
                                                skill_learn_items.clear()
                                            else:
                                                info_text_1 = "Scout level 3 required to learn."
                                                info_text_2 = ""
                                        else:
                                            info_text_1 = "You've already learned this."
                                            info_text_2 = ""
                                if player.scout_level >= 5:
                                    if book_button.name == "arrow learn button":
                                        if not arrow_learned:
                                            if player.scout_level >= 5:
                                                pygame.mixer.find_channel(True).play(sfx_skill_learn)
                                                player.skills_scout["skill 4"] = "poison arrow"
                                                info_text_1 = "'Poison Arrow' skill learned!"
                                                info_text_2 = ""
                                                arrow_learned = True
                                                button_highlighted = False
                                                scout_learn_clicked = False
                                                book_appended = False
                                                books.clear()
                                                skill_learn_items.clear()
                                            else:
                                                info_text_1 = "Scout level 5 required to learn."
                                                info_text_2 = ""
                                        else:
                                            info_text_1 = "You've already learned this."
                                            info_text_2 = ""
                                if book_button.name == "close button":
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    scout_learn_clicked = False
                                    book_appended = False
                                    button_highlighted = False
                                    books.clear()
                                    skill_learn_items.clear()
                            except AttributeError:
                                pass

                        if len(skill_learn_items) == 0 and len(books) == 0:
                            if academia_button == "mage learn":
                                mage_learn_clicked = True
                                button_highlighted = False
                                first_academy_cond = False
                            if academia_button == "fighter learn":
                                fighter_learn_clicked = True
                                button_highlighted = False
                                first_academy_cond = False
                            if academia_button == "scout learn":
                                scout_learn_clicked = True
                                button_highlighted = False
                                first_academy_cond = False

                        if academia_button == "character":
                            button_highlighted = False
                            if character_button_clicked:
                                drawing_functions.character_sheet_info_draw(character_sheet, player, font, False)
                                character_button_clicked = False
                            else:
                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                drawing_functions.character_sheet_info_draw(character_sheet, player, font, True)
                                character_button_clicked = True

                        if academia_button == "leave":
                            drawing_functions.character_sheet_info_draw(character_sheet, player, font, False)
                            character_button_clicked = False
                            book_appended = False
                            movement_able = True
                            interacted = False
                            encounter_started = False
                            in_academia = False
                            in_over_world = True
                            mage_learn_clicked = False
                            fighter_learn_clicked = False
                            scout_learn_clicked = False
                            academia_cat_pet = False
                            building_song_set = False
                            books.clear()
                            skill_learn_items.clear()

                    # outside of inn event loop ------------------------------------------------------------------------
                    if not encounter_started:
                        info_text_1 = "Click a book to view skills."
                        info_text_2 = "Then, click a skill to learn it."
                        info_text_3 = ""
                        info_text_4 = ""
                        encounter_started = True

                    # draw objects to screen related to academia scenario ----------------------------------------------
                    if in_academia and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                            and not in_battle:

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(seldon_district_academia, (0, 0))
                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            screen.blit(mage_learn_button.surf, mage_learn_button.rect)
                            screen.blit(fighter_learn_button.surf, fighter_learn_button.rect)
                            screen.blit(scout_learn_button.surf, scout_learn_button.rect)
                            screen.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(character_button.surf, character_button.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)
                            cat_pet_button_overlay.update(125, 500, graphic_dict["cat_pet_button_overlay"])
                            screen.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if academia_cat_pet:
                                cat_pet_animation_overlay.update(153, 501, graphic_dict["academia_cat_pet_img"])
                                screen.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                        else:
                            game_window.blit(seldon_district_academia, (0, 0))
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            game_window.blit(mage_learn_button.surf, mage_learn_button.rect)
                            game_window.blit(fighter_learn_button.surf, fighter_learn_button.rect)
                            game_window.blit(scout_learn_button.surf, scout_learn_button.rect)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(character_button.surf, character_button.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)
                            cat_pet_button_overlay.update(125, 500, graphic_dict["cat_pet_button_overlay"])
                            game_window.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if academia_cat_pet:
                                cat_pet_animation_overlay.update(153, 501, graphic_dict["academia_cat_pet_img"])
                                game_window.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if len(books) > 0:
                                for book in books:
                                    screen.blit(book.surf, book.rect)
                            if len(skill_learn_items) > 0:
                                for skill_item in skill_learn_items:
                                    screen.blit(skill_item.surf, skill_item.rect)
                        else:
                            if len(books) > 0:
                                for book in books:
                                    game_window.blit(book.surf, book.rect)
                            if len(skill_learn_items) > 0:
                                for skill_item in skill_learn_items:
                                    game_window.blit(skill_item.surf, skill_item.rect)

                        if not book_appended:
                            if mage_learn_clicked and fighter_learn_clicked is False and scout_learn_clicked is False:
                                if player.mage_level >= 3:
                                    mage_book.update(670, 380, graphic_dict["mage_book_img_10"])
                                if player.mage_level >= 5:
                                    mage_book.update(670, 380, graphic_dict["mage_book_img_20"])
                                books.append(mage_book)
                                skill_learn_items.append(barrier_learn_button)
                                skill_learn_items.append(mirror_learn_button)
                                skill_learn_items.append(fire_learn_button)
                                close_button.update(975, 140, graphic_dict["close_button"])
                                skill_learn_items.append(close_button)
                                book_appended = True
                            if fighter_learn_clicked and mage_learn_clicked is False and scout_learn_clicked is False:
                                if player.fighter_level >= 3:
                                    fighter_book.update(670, 380, graphic_dict["fighter_book_img_10"])
                                if player.fighter_level >= 5:
                                    fighter_book.update(670, 380, graphic_dict["fighter_book_img_20"])
                                books.append(fighter_book)
                                skill_learn_items.append(hard_strike_learn_button)
                                skill_learn_items.append(stun_learn_button)
                                skill_learn_items.append(edge_learn_button)
                                close_button.update(975, 140, graphic_dict["close_button"])
                                skill_learn_items.append(close_button)
                                book_appended = True
                            if scout_learn_clicked and fighter_learn_clicked is False and mage_learn_clicked is False:
                                if player.scout_level >= 3:
                                    scout_book.update(670, 380, graphic_dict["scout_book_img_10"])
                                if player.scout_level >= 5:
                                    scout_book.update(670, 380, graphic_dict["scout_book_img_20"])
                                books.append(scout_book)
                                skill_learn_items.append(sharp_sense_learn_button)
                                skill_learn_items.append(vanish_learn_button)
                                skill_learn_items.append(arrow_learn_button)
                                close_button.update(975, 140, graphic_dict["close_button"])
                                skill_learn_items.append(close_button)
                                book_appended = True

                        # the first time player enters academy, show an arrow pointing to their book button
                        if first_academy_cond:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                if player.role == "mage":
                                    directional_arrow.update(753, 195, graphic_dict["arrow_down"])
                                    screen.blit(directional_arrow.surf, directional_arrow.rect)
                                if player.role == "fighter":
                                    directional_arrow.update(298, 280, graphic_dict["arrow_down"])
                                    screen.blit(directional_arrow.surf, directional_arrow.rect)
                                if player.role == "scout":
                                    directional_arrow.update(555, 360, graphic_dict["arrow_down"])
                                    screen.blit(directional_arrow.surf, directional_arrow.rect)
                            else:
                                if player.role == "mage":
                                    directional_arrow.update(753, 195, graphic_dict["arrow_down"])
                                    game_window.blit(directional_arrow.surf, directional_arrow.rect)
                                if player.role == "fighter":
                                    directional_arrow.update(298, 280, graphic_dict["arrow_down"])
                                    game_window.blit(directional_arrow.surf, directional_arrow.rect)
                                if player.role == "scout":
                                    directional_arrow.update(555, 360, graphic_dict["arrow_down"])
                                    game_window.blit(directional_arrow.surf, directional_arrow.rect)

                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1,
                                                             info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)
                        else:
                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)

                        if show_cat_card:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(cat_card_portrait, (60, 105))
                            else:
                                game_window.blit(cat_card_portrait, (60, 105))

                        if show_trade_deck:
                            render_card_deck()

                        if len(drawing_functions.level_up_window) == 0:
                            if burned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_burned.surf, overlay_burned.rect)
                                else:
                                    game_window.blit(overlay_burned.surf, overlay_burned.rect)
                            if poisoned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                else:
                                    game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                            if bleeding:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                else:
                                    game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                            if crushed:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                                else:
                                    game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player is in apothecary ---------------------------------------------------------------------------
                if in_apothecary and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                        and not in_battle:

                    if not npc_text_reset:
                        if not apothecary_window_open:
                            info_text_1 = "Press the 'Talk' button to interact"
                            info_text_2 = "with the NPC. "
                            info_text_3 = ""
                            info_text_4 = ""

                    if not building_song_set:
                        if pygame.mixer.music.get_busy():
                            pygame.mixer.music.fadeout(50)
                            pygame.mixer.music.load(korlok_building_music)
                            pygame.mixer.music.play(loops=-1)
                            building_song_set = True

                    for event in pygame.event.get():
                        if event.type == KEYDOWN:
                            if event.key == K_ESCAPE:
                                movement_able = True
                                interacted = False
                                encounter_started = False
                                in_apothecary = False
                                in_over_world = True
                                building_song_set = False
                                quest_clicked = False
                                npc_text_reset = False
                                drawing_functions.quest_complete_box.clear()
                                drawing_functions.quest_box.clear()
                                drawing_functions.potion_window_container.clear()
                                drawing_functions.quest_accept_box.clear()
                                apothecary_window_open = False
                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        button_highlighted = button_highlighter(pos)

                        if overlay_burned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if burned:
                                drawing_functions.condition_description_window.append(overlay_burned_desc)
                        elif overlay_poisoned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if poisoned:
                                drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                        elif overlay_bleeding.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if bleeding:
                                drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                        elif overlay_crushed.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if crushed:
                                drawing_functions.condition_description_window.append(overlay_crushed_desc)
                        else:
                            drawing_functions.condition_description_window.clear()

                        if flower_button.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                        else:
                            drawing_functions.flower_pop_up_window.clear()
                            drawing_functions.flower_pop_up_window_text.clear()

                        if fish_button_count.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                        else:
                            drawing_functions.fish_pop_up_window.clear()
                            drawing_functions.fish_pop_up_window_text.clear()

                        if close_button.rect.collidepoint(pos) and apothecary_window_open:
                            button_highlight.update(close_button.x_coordinate - 3, close_button.y_coordinate + 3,
                                                    graphic_dict["close high"])
                            button_highlighted = True

                        if event.type == pygame.MOUSEBUTTONUP:
                            if show_cat_card:
                                show_cat_card = False
                            if trading_deck:
                                if (len(drawing_functions.quest_box) == 0 and
                                        len(drawing_functions.quest_box_trading) == 0 and
                                        len(drawing_functions.quest_box_fishing) == 0):
                                    if card_deck_button.rect.collidepoint(pos):
                                        match show_trade_deck:
                                            case True:
                                                show_trade_deck = False
                                            case False:
                                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                                show_trade_deck = True
                            if npc_garan.gift:
                                gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff, sword, bow,
                                                             pressed_keys, sfx_button_role)
                            drawing_functions.quest_complete_box.clear()
                            if cat_pet_button_overlay.rect.collidepoint(pos):
                                pygame.mixer.find_channel(True).play(sfx_cat_meow)
                                apothecary_cat_pet = True
                                cats_pet["korlok_apothecary"] = True
                                cat_count = 0
                                for cat in cats_pet.values():
                                    if not cat:
                                        break
                                    cat_count += 1
                                    if cat_count == 7 and not cat_rewarded:
                                        if len(player.items) < 16:
                                            cat_rewarded = True
                                            player.items.append(
                                                Item("cat card", "card", 200, 200, graphic_dict["cat_card"], 0))
                                        else:
                                            info_text_1 = "Cats Reward but inventory is full."
                                            info_text_2 = "Try freeing space and interact again."
                            if quest_accepted.rect.collidepoint(pos):
                                drawing_functions.quest_accept_box.clear()
                            if potions_button.rect.collidepoint(pos) and apothecary_access:
                                if not apothecary_window_open:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    apothecary_window_open = True
                                    drawing_functions.potion_window_container.append(apothecary_window)
                                    drawing_functions.potion_window_container.append(create_potion_button)

                                else:
                                    drawing_functions.potion_window_container.clear()
                                    apothecary_window_open = False

                            if close_button.rect.collidepoint(pos) and apothecary_window_open:
                                pygame.mixer.find_channel(True).play(sfx_button_click)
                                drawing_functions.potion_window_container.clear()
                                apothecary_window_open = False
                                button_highlighted = False

                            if seldon_flower_more_button.collidepoint(pos):
                                if apothecary_window_open:
                                    if seldon_flower_counter < 2:
                                        pygame.mixer.find_channel(True).play(sfx_item_flower)
                                        seldon_flower_counter += 1
                            if seldon_flower_less_button.collidepoint(pos):
                                if apothecary_window_open:
                                    if seldon_flower_counter > 0:
                                        pygame.mixer.find_channel(True).play(sfx_item_flower)
                                        seldon_flower_counter -= 1
                            if eldream_flower_more_button.collidepoint(pos):
                                if apothecary_window_open:
                                    if eldream_flower_counter < 2:
                                        pygame.mixer.find_channel(True).play(sfx_item_flower)
                                        eldream_flower_counter += 1
                            if eldream_flower_less_button.collidepoint(pos):
                                if apothecary_window_open:
                                    if eldream_flower_counter > 0:
                                        pygame.mixer.find_channel(True).play(sfx_item_flower)
                                        eldream_flower_counter -= 1

                            if create_potion_button.rect.collidepoint(pos):
                                if seldon_flower_counter == 2 and eldream_flower_counter == 0:
                                    if player.flowers_amuna >= 2:
                                        if len(player.items) < 16:
                                            pygame.mixer.find_channel(True).play(sfx_item_potion)
                                            player.flowers_amuna -= 2
                                            player.items.append(Item("big health potion", "potion", 200, 200,
                                                                     graphic_dict["health_pot_img"], 0))
                                        else:
                                            info_text_1 = "Your inventory is full."
                                            info_text_2 = ""
                                    else:
                                        info_text_1 = "You need 2 seldon flowers."
                                        info_text_2 = ""
                                elif seldon_flower_counter == 0 and eldream_flower_counter == 2:
                                    if player.flowers_sorae >= 2:
                                        if len(player.items) < 16:
                                            pygame.mixer.find_channel(True).play(sfx_item_potion)
                                            player.flowers_sorae -= 2
                                            player.items.append(Item("big energy potion", "potion", 200, 200,
                                                                     graphic_dict["energy_pot_img"], 0))
                                        else:
                                            info_text_1 = "Your inventory is full."
                                            info_text_2 = ""
                                    else:
                                        info_text_1 = "You need 2 eldream flowers."
                                        info_text_2 = ""
                                elif seldon_flower_counter == 2 == eldream_flower_counter:
                                    if player.flowers_amuna >= 2 and player.flowers_sorae >= 2:
                                        if len(player.items) < 16:
                                            pygame.mixer.find_channel(True).play(sfx_item_potion)
                                            player.flowers_amuna -= 2
                                            player.flowers_sorae -= 2
                                            player.items.append(Item("super potion", "potion", 200, 200,
                                                                     graphic_dict["super_pot_img"], 0))
                                        else:
                                            info_text_1 = "Your inventory is full."
                                            info_text_2 = ""
                                    else:
                                        info_text_1 = "You need 2 seldon + 2 eldream flowers."
                                        info_text_2 = ""
                                elif seldon_flower_counter == 1 and eldream_flower_counter == 2:
                                    if player.flowers_amuna >= 1 and player.flowers_sorae >= 2:
                                        if len(player.items) < 16:
                                            pygame.mixer.find_channel(True).play(sfx_item_potion)
                                            player.flowers_amuna -= 1
                                            player.flowers_sorae -= 2
                                            player.items.append(Item("big cure potion", "potion", 200, 200,
                                                                     graphic_dict["big_cure_potion"], 0))
                                        else:
                                            info_text_1 = "Your inventory is full."
                                            info_text_2 = ""
                                    else:
                                        info_text_1 = "You need 1 seldon + 2 eldream flowers."
                                        info_text_2 = ""
                                elif seldon_flower_counter == 2 and eldream_flower_counter == 1:
                                    if player.flowers_amuna >= 2 and player.flowers_sorae >= 1:
                                        if len(player.items) < 16:
                                            pygame.mixer.find_channel(True).play(sfx_item_potion)
                                            player.flowers_amuna -= 2
                                            player.flowers_sorae -= 1
                                            player.items.append(Item("big mend potion", "potion", 200, 200,
                                                                     graphic_dict["big_mend_potion"], 0))
                                        else:
                                            info_text_1 = "Your inventory is full."
                                            info_text_2 = ""
                                    else:
                                        info_text_1 = "You need 2 seldon + 1 eldream flowers."
                                        info_text_2 = ""
                                else:
                                    info_text_1 = "Add some flowers to the potion."
                                    info_text_2 = ""

                        # npc was interacted with, if quest button clicked get npc name and check quest progress
                        npc_button = click_handlers.npc_event_button(event, quest_button, leave_button, pygame,
                                                                     sfx_sheet_paper, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                     player.quest_complete["can't apothecary it"])
                        # in quest window pop-up, if accept or decline buttons are clicked
                        quest_buttons = click_handlers.quest_event_button(event, accept_button, decline_button, pygame,
                                                                          SCREEN_WIDTH, SCREEN_HEIGHT)

                        # click handlers
                        info_choice = click_handlers.item_info_button(event, item_info_button, pygame, info_items,
                                                                      SCREEN_WIDTH, SCREEN_HEIGHT)
                        if info_choice == "yes":
                            inventory_event = click_handlers.inventory(pygame, player, current_info_item,
                                                                       sfx_item_potion, sfx_item_equip,
                                                                       sfx_item_whistle, sfx_item_snack, graphic_dict,
                                                                       SCREEN_WIDTH, SCREEN_HEIGHT, sfx_firework,
                                                                       sfx_skill_learn, poisoned, burned, bleeding,
                                                                       crushed, font, sfx_role_level,
                                                                       role_level_up_popup)
                            try:
                                if inventory_event["cat card"]:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    show_cat_card = True
                            except KeyError:
                                pass
                            try:
                                poisoned = inventory_event["poisoned"]
                            except KeyError:
                                pass
                            try:
                                burned = inventory_event["burned"]
                            except KeyError:
                                pass
                            try:
                                bleeding = inventory_event["bleeding"]
                            except KeyError:
                                pass
                            try:
                                crushed = inventory_event["crushed"]
                            except KeyError:
                                pass
                            if inventory_event["item message"] != "":
                                info_text_1 = inventory_event["item message"]
                                info_text_2 = ""
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        if info_choice == "no":
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        inventory_item_clicked = click_handlers.inventory_event_item(event, pygame, SCREEN_WIDTH,
                                                                                     SCREEN_HEIGHT)
                        if inventory_item_clicked["clicked"]:
                            pygame.mixer.find_channel(True).play(sfx_button_inventory)
                            current_info_item = drawing_functions.item_info_draw(inventory_item_clicked["element"],
                                                                                 info_items, item_info_button,
                                                                                 graphic_dict)
                        # function to handle equipment item clicks. apply item message to message box if not empty str.
                        if len(drawing_functions.item_info_window) == 0:
                            equipment_event = click_handlers.equipment(player, event, pygame, basic_armor, forged_armor,
                                                                       mythical_armor, legendary_armor, power_gloves,
                                                                       chroma_boots, sfx_item_equip, SCREEN_WIDTH,
                                                                       SCREEN_HEIGHT, graphic_dict, neras_grace,
                                                                       arens_strength, spirit_of_wisdom)
                            if equipment_event["equipment message"] != "":
                                info_text_1 = equipment_event["equipment message"]
                                info_text_2 = ""

                        if npc_button == "quest" and not player.quest_complete["can't apothecary it"]:
                            npc_text_reset = True
                            if player.quest_progress["can't apothecary it"] == 4:
                                pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                player.quest_complete["can't apothecary it"] = True
                                player.current_quests["can't apothecary it"] = "You completed this quest!"
                                info_text_1 = "You've completed Kirean's task!"
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""
                                player.experience += 50
                                apothecary_access = True
                                if player.experience >= 100:
                                    gameplay_functions.level_up(player, level_up_win, level_up_font)
                                    leveled = True
                                    level_visual = True
                                    loot_level_tic = time.perf_counter()
                                    level_visual_tic = time.perf_counter()
                                    loot_timer_reset = False
                                player.reputation["sorae"] += 10
                                for item_1 in player.items:
                                    if item_1.name == "korlok ore":
                                        player.items.remove(item_1)
                                for item_2 in player.items:
                                    if item_2.name == "korlok ore":
                                        player.items.remove(item_2)
                                for item_3 in player.items:
                                    if item_3.name == "korlok ore":
                                        player.items.remove(item_3)

                            if not quest_clicked:
                                if not player.quest_complete["can't apothecary it"]:
                                    drawing_functions.quest_box_draw("Kirean", True, garan_quest_window,
                                                                     maurelle_quest_window, celeste_quest_window,
                                                                     torune_quest_window, voruke_quest_window,
                                                                     zerah_quest_window, kirean_quest_window,
                                                                     dionte_quest_window, accept_button, decline_button,
                                                                     omoku_quest_window, leyre_quest_window,
                                                                     aitor_quest_window, everett_quest_window,
                                                                     artherian_task_window, artherian_task_window_2,
                                                                     artherian_1, artherian_task_window,
                                                                     kuba_quest_window, nahun_quest_window,
                                                                     illisare_quest_window, illisare_quest_window)
                                    quest_clicked = True
                                else:  # quest complete popup
                                    if not kirean_complete_shown:
                                        drawing_functions.quest_complete_draw("Kirean", True,
                                                                              garan_complete_quest_window,
                                                                              maurelle_complete_quest_window,
                                                                              celeste_complete_quest_window,
                                                                              torune_complete_quest_window,
                                                                              voruke_complete_quest_window,
                                                                              zerah_complete_quest_window,
                                                                              kirean_complete_quest_window,
                                                                              dionte_complete_quest_window,
                                                                              omoku_complete_quest_window,
                                                                              leyre_complete_quest_window,
                                                                              aitor_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window)
                                        kirean_complete_shown = True
                                        quest_clicked = True
                            else:
                                drawing_functions.quest_box.clear()
                                quest_clicked = False

                        # options once quest window is open ------------------------------------------------------------
                        if len(drawing_functions.quest_box) > 1:
                            if quest_buttons == "accept":
                                drawing_functions.quest_accept_box.append(task_accepted)
                                pygame.mixer.find_channel(True).play(sfx_quest_start)
                                info_text_1 = "You've accepted the task!"
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""
                                button_highlighted = False
                                player.quest_status["can't apothecary it"] = True
                                player.current_quests["can't apothecary it"] = "Kirean asked you to gather ore."
                                quest_clicked = False
                                drawing_functions.quest_box.clear()

                            # if player chooses to decline, just close the quest window
                            if quest_buttons == "decline":
                                info_text_1 = ""
                                quest_clicked = False
                                button_highlighted = False
                                drawing_functions.quest_box.clear()
                        if npc_button == "leave":
                            movement_able = True
                            interacted = False
                            encounter_started = False
                            in_apothecary = False
                            in_over_world = True
                            building_song_set = False
                            apothecary_window_open = False
                            apothecary_cat_pet = False
                            npc_text_reset = False
                            quest_clicked = False
                            drawing_functions.potion_window_container.clear()
                            drawing_functions.quest_complete_box.clear()
                            drawing_functions.quest_accept_box.clear()
                            drawing_functions.quest_box.clear()

                    # outside of inn event loop ------------------------------------------------------------------------
                    if not encounter_started:
                        info_text_1 = ""
                        info_text_2 = ""
                        info_text_3 = ""
                        info_text_4 = ""
                        encounter_started = True

                    # draw objects to screen related to academia scenario ----------------------------------------------
                    if in_apothecary and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                            and not in_battle:

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(korlok_district_apothecary, (0, 0))
                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            screen.blit(leave_button.surf, leave_button.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            screen.blit(quest_button.surf, quest_button.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)
                            cat_pet_button_overlay.update(630, 65, graphic_dict["cat_pet_button_overlay"])
                            screen.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if apothecary_cat_pet:
                                cat_pet_animation_overlay.update(634, 63, graphic_dict["apothecary_cat_pet_img"])
                                screen.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)
                            if player.quest_complete["can't apothecary it"]:
                                quest_visual.update(115, 380, graphic_dict["ore_big_pile_img"])
                                screen.blit(quest_visual.surf, quest_visual.rect)
                            else:
                                quest_visual.update(115, 380, graphic_dict["ore_big_img"])
                                screen.blit(quest_visual.surf, quest_visual.rect)
                        else:
                            game_window.blit(korlok_district_apothecary, (0, 0))
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)
                            if not player.quest_complete["can't apothecary it"]:
                                game_window.blit(quest_button.surf, quest_button.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)
                            cat_pet_button_overlay.update(630, 65, graphic_dict["cat_pet_button_overlay"])
                            game_window.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if apothecary_cat_pet:
                                cat_pet_animation_overlay.update(634, 63, graphic_dict["apothecary_cat_pet_img"])
                                game_window.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)
                            if player.quest_complete["can't apothecary it"]:
                                quest_visual.update(115, 380, graphic_dict["ore_big_pile_img"])
                                game_window.blit(quest_visual.surf, quest_visual.rect)
                            else:
                                quest_visual.update(115, 380, graphic_dict["ore_big_img"])
                                game_window.blit(quest_visual.surf, quest_visual.rect)

                        # condition overlays
                        if len(drawing_functions.level_up_window) == 0:
                            if burned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_burned.surf, overlay_burned.rect)
                                else:
                                    game_window.blit(overlay_burned.surf, overlay_burned.rect)
                            if poisoned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                else:
                                    game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                            if bleeding:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                else:
                                    game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                            if crushed:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                                else:
                                    game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                        # if player has access to apothecary functions by completing quest and window is open
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if apothecary_access:
                                screen.blit(potions_button.surf, potions_button.rect)
                                if apothecary_window_open:
                                    seldon_flowers_surf = level_up_font.render(str(seldon_flower_counter),
                                                                               True, "black", "light yellow")
                                    seldon_flowers_surf_rect = seldon_flowers_surf.get_rect()
                                    seldon_flowers_surf_rect.midleft = (223, 280)
                                    screen.blit(seldon_flowers_surf, seldon_flowers_surf_rect)

                                    eldream_flowers_surf = level_up_font.render(str(eldream_flower_counter),
                                                                                True, "black", "light yellow")
                                    eldream_flowers_surf_rect = eldream_flowers_surf.get_rect()
                                    eldream_flowers_surf_rect.midleft = (440, 280)
                                    screen.blit(eldream_flowers_surf, eldream_flowers_surf_rect)

                                    if seldon_flower_counter == 2 and eldream_flower_counter == 0:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_health_potion"])
                                    elif seldon_flower_counter == 0 and eldream_flower_counter == 2:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_energy_potion"])
                                    elif seldon_flower_counter == 2 and eldream_flower_counter == 2:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_rejuv_potion"])
                                    elif seldon_flower_counter == 1 and eldream_flower_counter == 2:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_cure_potion"])
                                    elif seldon_flower_counter == 2 and eldream_flower_counter == 1:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_mend_potion"])
                                    else:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_empty_potion"])

                                    screen.blit(potion_mix_overlay.surf, potion_mix_overlay.rect)
                                    close_button.update(560, 110, graphic_dict["close_button"])
                                    screen.blit(close_button.surf, close_button.rect)

                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)
                        else:
                            if apothecary_access:
                                game_window.blit(potions_button.surf, potions_button.rect)
                                if apothecary_window_open:
                                    seldon_flowers_surf = level_up_font.render(str(seldon_flower_counter),
                                                                               True, "black", "light yellow")
                                    seldon_flowers_surf_rect = seldon_flowers_surf.get_rect()
                                    seldon_flowers_surf_rect.midleft = (223, 280)
                                    game_window.blit(seldon_flowers_surf, seldon_flowers_surf_rect)

                                    eldream_flowers_surf = level_up_font.render(str(eldream_flower_counter),
                                                                                True, "black", "light yellow")
                                    eldream_flowers_surf_rect = eldream_flowers_surf.get_rect()
                                    eldream_flowers_surf_rect.midleft = (440, 280)
                                    game_window.blit(eldream_flowers_surf, eldream_flowers_surf_rect)

                                    if seldon_flower_counter == 2 and eldream_flower_counter == 0:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_health_potion"])
                                    elif seldon_flower_counter == 0 and eldream_flower_counter == 2:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_energy_potion"])
                                    elif seldon_flower_counter == 2 and eldream_flower_counter == 2:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_rejuv_potion"])
                                    elif seldon_flower_counter == 1 and eldream_flower_counter == 2:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_cure_potion"])
                                    elif seldon_flower_counter == 2 and eldream_flower_counter == 1:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_mend_potion"])
                                    else:
                                        potion_mix_overlay.update(150, 475, graphic_dict["apothecary_empty_potion"])

                                    game_window.blit(potion_mix_overlay.surf, potion_mix_overlay.rect)
                                    close_button.update(560, 110, graphic_dict["close_button"])
                                    game_window.blit(close_button.surf, close_button.rect)

                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)

                        if show_cat_card:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(cat_card_portrait, (60, 105))
                            else:
                                game_window.blit(cat_card_portrait, (60, 105))

                        if show_trade_deck:
                            render_card_deck()

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player is in menagerie ----------------------------------------------------------------------------
                if in_menagerie and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                        and not in_battle:

                    if not npc_text_reset:
                        info_text_1 = "Press the 'Talk' button to interact"
                        info_text_2 = "with the NPC. "
                        info_text_3 = ""
                        info_text_4 = ""

                    if not building_song_set:
                        if pygame.mixer.music.get_busy():
                            pygame.mixer.music.fadeout(50)
                            pygame.mixer.music.load(eldream_building_music)
                            pygame.mixer.music.play(loops=-1)
                            building_song_set = True

                    for event in pygame.event.get():
                        if event.type == KEYDOWN:
                            if event.key == K_ESCAPE:
                                movement_able = True
                                interacted = False
                                encounter_started = False
                                in_menagerie = False
                                in_over_world = True
                                building_song_set = False
                                quest_clicked = False
                                hatch_sound = False
                                npc_text_reset = False
                                drawing_functions.quest_complete_box.clear()
                                drawing_functions.pets_window_container.clear()
                                drawing_functions.quest_accept_box.clear()

                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                        if hatch_ready:
                            if not hatched:
                                if not hatch_sound:
                                    pygame.mixer.find_channel(True).play(sfx_hatch)
                                    hatch_sound = True

                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        button_highlighted = button_highlighter(pos)

                        if overlay_burned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if burned:
                                drawing_functions.condition_description_window.append(overlay_burned_desc)
                        elif overlay_poisoned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if poisoned:
                                drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                        elif overlay_bleeding.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if bleeding:
                                drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                        elif overlay_crushed.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if crushed:
                                drawing_functions.condition_description_window.append(overlay_crushed_desc)
                        else:
                            drawing_functions.condition_description_window.clear()

                        if flower_button.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                        else:
                            drawing_functions.flower_pop_up_window.clear()
                            drawing_functions.flower_pop_up_window_text.clear()

                        if fish_button_count.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                        else:
                            drawing_functions.fish_pop_up_window.clear()
                            drawing_functions.fish_pop_up_window_text.clear()

                        if close_button.rect.collidepoint(pos) and menagerie_window_open:
                            button_highlight.update(close_button.x_coordinate - 3, close_button.y_coordinate + 3,
                                                    graphic_dict["close high"])
                            button_highlighted = True

                        if event.type == pygame.MOUSEBUTTONUP:
                            if show_pet_advancement:
                                if pet_advance_popup.rect.collidepoint(pos):
                                    show_pet_advancement = False
                            if show_cat_card:
                                show_cat_card = False
                            if trading_deck:
                                if (len(drawing_functions.quest_box) == 0 and
                                        len(drawing_functions.quest_box_trading) == 0 and
                                        len(drawing_functions.quest_box_fishing) == 0):
                                    if card_deck_button.rect.collidepoint(pos):
                                        match show_trade_deck:
                                            case True:
                                                show_trade_deck = False
                                            case False:
                                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                                show_trade_deck = True
                            if npc_garan.gift:
                                gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff,
                                                             sword, bow, pressed_keys, sfx_button_role)
                            drawing_functions.quest_complete_box.clear()
                            if cat_pet_button_overlay.rect.collidepoint(pos):
                                pygame.mixer.find_channel(True).play(sfx_cat_meow)
                                menagerie_cat_pet = True
                                cats_pet["eldream_menagerie"] = True
                                cat_count = 0
                                for cat in cats_pet.values():
                                    if not cat:
                                        break
                                    cat_count += 1
                                    if cat_count == 7 and not cat_rewarded:
                                        if len(player.items) < 16:
                                            cat_rewarded = True
                                            player.items.append(
                                                Item("cat card", "card", 200, 200, graphic_dict["cat_card"], 0))
                                        else:
                                            info_text_1 = "Cats Reward but inventory is full."
                                            info_text_2 = "Try freeing space and interact again."
                            if quest_accepted.rect.collidepoint(pos):
                                drawing_functions.quest_accept_box.clear()
                            if pets_button.rect.collidepoint(pos) and menagerie_access:
                                npc_text_reset = True
                                if not menagerie_window_open:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    menagerie_window_open = True

                                    for pet in player.pet:
                                        if pet.name == "kasper":
                                            kasper_manage_button.update(145, 460, graphic_dict["activate_button"])
                                            if pet.stage == 1:
                                                kasper_stage_overlay.update(149, 282, graphic_dict["pet_kasper_1"])
                                            if pet.stage == 2:
                                                kasper_stage_overlay.update(149, 282, graphic_dict["pet_kasper_2"])
                                            if pet.stage == 3:
                                                kasper_stage_overlay.update(149, 282, graphic_dict["pet_kasper_3"])
                                        if pet.name == "torok":
                                            torok_manage_button.update(415, 460, graphic_dict["activate_button"])
                                            if pet.stage == 1:
                                                torok_stage_overlay.update(419, 282, graphic_dict["pet_torok_1"])
                                            if pet.stage == 2:
                                                torok_stage_overlay.update(419, 282, graphic_dict["pet_torok_2"])
                                            if pet.stage == 3:
                                                torok_stage_overlay.update(419, 282, graphic_dict["pet_torok_3"])
                                        if pet.name == "iriana":
                                            iriana_manage_button.update(685, 460, graphic_dict["activate_button"])
                                            if pet.stage == 1:
                                                iriana_stage_overlay.update(689, 282, graphic_dict["pet_iriana_1"])
                                            if pet.stage == 2:
                                                iriana_stage_overlay.update(689, 282, graphic_dict["pet_iriana_2"])
                                            if pet.stage == 3:
                                                iriana_stage_overlay.update(689, 282, graphic_dict["pet_iriana_3"])

                                    drawing_functions.pets_window_container.append(menagerie_window)
                                    drawing_functions.pets_window_container.append(kasper_manage_button)
                                    drawing_functions.pets_window_container.append(torok_manage_button)
                                    drawing_functions.pets_window_container.append(iriana_manage_button)

                                else:
                                    drawing_functions.pets_window_container.clear()
                                    menagerie_window_open = False

                            # buttons for pet management window. If pet is unlocked, can evolve. if not, give seed.
                            if menagerie_window_open:
                                if close_button.rect.collidepoint(pos):
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    drawing_functions.pets_window_container.clear()
                                    menagerie_window_open = False
                                    button_highlighted = False

                                if kasper_manage_button.rect.collidepoint(pos):
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    if not kasper_unlocked:
                                        if not seed_given:
                                            hatch_ready = False
                                            pet_hatch_window.update(pet_hatch_window.x_coordinate,
                                                                    pet_hatch_window.y_coordinate,
                                                                    graphic_dict["seed_hatching"])
                                            player.items.append(Item("pet seed", "seed", 1078, 197,
                                                                     graphic_dict["seed_img"], 1))
                                            seed_given = True
                                            hatched = False
                                            hatch_show = True
                                            drawing_functions.pets_window_container.clear()
                                            # noinspection PyRedeclaration
                                            button_highlighted = False
                                            # noinspection PyRedeclaration
                                            menagerie_window_open = False
                                    else:
                                        for pet in player.pet:
                                            if pet.name == "kasper":
                                                if pet.experience == 100:
                                                    if pet.stage < 3:
                                                        pet.stage += 1
                                                        pet.experience = 0
                                                        show_pet_advancement = True
                                                        if pet.stage == 2:
                                                            pet_advance_popup.update(510, 365,
                                                                                     graphic_dict["kasper_advance_2"])
                                                        if pet.stage == 3:
                                                            pet_advance_popup.update(510, 365,
                                                                                     graphic_dict["kasper_advance_3"])
                                                        pygame.mixer.find_channel(True).play(sfx_pet_reward)
                                                        drawing_functions.pets_window_container.clear()
                                                        # noinspection PyRedeclaration
                                                        button_highlighted = False
                                                        # noinspection PyRedeclaration
                                                        menagerie_window_open = False
                                                    else:
                                                        info_text_1 = "Kasper is fully Advanced."
                                                        info_text_2 = ""
                                                        info_text_3 = ""
                                                        info_text_4 = ""
                                                else:
                                                    info_text_1 = "Kasper needs 100 XP to Advance."
                                                    info_text_2 = ""
                                                    info_text_3 = ""
                                                    info_text_4 = ""
                                if torok_manage_button.rect.collidepoint(pos):
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    if not torok_unlocked:
                                        if not seed_given:
                                            hatch_ready = False
                                            pet_hatch_window.update(pet_hatch_window.x_coordinate,
                                                                    pet_hatch_window.y_coordinate,
                                                                    graphic_dict["seed_hatching"])
                                            player.items.append(Item("pet seed", "seed", 1078, 197,
                                                                     graphic_dict["seed_img"], 1))
                                            seed_given = True
                                            hatched = False
                                            hatch_show = True
                                    else:
                                        for pet in player.pet:
                                            if pet.name == "torok":
                                                if pet.experience == 100:
                                                    if pet.stage < 3:
                                                        pet.stage += 1
                                                        pet.experience = 0
                                                        show_pet_advancement = True
                                                        if pet.stage == 2:
                                                            pet_advance_popup.update(510, 365,
                                                                                     graphic_dict["torok_advance_2"])
                                                        if pet.stage == 3:
                                                            pet_advance_popup.update(510, 365,
                                                                                     graphic_dict["torok_advance_3"])
                                                        pygame.mixer.find_channel(True).play(sfx_pet_reward)
                                                        drawing_functions.pets_window_container.clear()
                                                        # noinspection PyRedeclaration
                                                        button_highlighted = False
                                                        # noinspection PyRedeclaration
                                                        menagerie_window_open = False
                                                    else:
                                                        info_text_1 = "Torok is fully Advanced."
                                                        info_text_2 = ""
                                                        info_text_3 = ""
                                                        info_text_4 = ""
                                                else:
                                                    info_text_1 = "Torok needs 100 XP to Advance."
                                                    info_text_2 = ""
                                                    info_text_3 = ""
                                                    info_text_4 = ""

                                if iriana_manage_button.rect.collidepoint(pos):
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    if not iriana_unlocked:
                                        if not seed_given:
                                            hatch_ready = False
                                            pet_hatch_window.update(pet_hatch_window.x_coordinate,
                                                                    pet_hatch_window.y_coordinate,
                                                                    graphic_dict["seed_hatching"])
                                            player.items.append(Item("pet seed", "seed", 1078, 197,
                                                                     graphic_dict["seed_img"], 1))
                                            seed_given = True
                                            hatched = False
                                            hatch_show = True
                                    else:
                                        for pet in player.pet:
                                            if pet.name == "iriana":
                                                if pet.experience == 100:
                                                    if pet.stage < 3:
                                                        pet.stage += 1
                                                        pet.experience = 0
                                                        show_pet_advancement = True
                                                        if pet.stage == 2:
                                                            pet_advance_popup.update(510, 365,
                                                                                     graphic_dict["iriana_advance_2"])
                                                        if pet.stage == 3:
                                                            pet_advance_popup.update(510, 365,
                                                                                     graphic_dict["iriana_advance_3"])
                                                        pygame.mixer.find_channel(True).play(sfx_pet_reward)
                                                        drawing_functions.pets_window_container.clear()
                                                        # noinspection PyRedeclaration
                                                        button_highlighted = False
                                                        # noinspection PyRedeclaration
                                                        menagerie_window_open = False
                                                    else:
                                                        info_text_1 = "Iriana is fully Advanced."
                                                        info_text_2 = ""
                                                        info_text_3 = ""
                                                        info_text_4 = ""
                                                else:
                                                    info_text_1 = "Iriana needs 100 XP to Advance."
                                                    info_text_2 = ""
                                                    info_text_3 = ""

                            # if seed is ready to hatch, give player whistle and unlock that pet. reset counts.
                            if hatch_ready:
                                if ok_button.rect.collidepoint(pos):
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    if not hatched:
                                        pygame.mixer.find_channel(True).play(sfx_pet_reward)
                                        if seed_scout_count >= 4:
                                            pet_hatch_window.update(pet_hatch_window.x_coordinate,
                                                                    pet_hatch_window.y_coordinate,
                                                                    graphic_dict["kasper_hatching"])
                                            hatched = True
                                            if not kasper_unlocked:
                                                kasper_unlocked = True
                                                player.pet.append(pet_kasper)
                                                drawing_functions.pet_button_draw(kasper_unlocked,
                                                                                  kasper_whistle_button,
                                                                                  torok_unlocked,
                                                                                  torok_whistle_button,
                                                                                  iriana_unlocked,
                                                                                  iriana_whistle_button)
                                            else:
                                                if len(player.items) < 16:
                                                    info_text_1 = "You've already hatched a Kasper!"
                                                    info_text_2 = "You got a Blueberry Cookie. "
                                                    player.items.append(Item("pet cookie", "cookie", 1078, 197,
                                                                             graphic_dict["pet_cookie_img"], 1))
                                                else:
                                                    info_text_1 = "You've already hatched a Kasper!"
                                                    info_text_2 = "And your inventory is full. "
                                            seed_given = False
                                            for item in player.items:
                                                if item.name == "pet seed":
                                                    player.items.remove(item)
                                            seed_scout_count = 0
                                            seed_fighter_count = 0
                                            seed_mage_count = 0

                                        if seed_fighter_count >= 4:
                                            pet_hatch_window.update(pet_hatch_window.x_coordinate,
                                                                    pet_hatch_window.y_coordinate,
                                                                    graphic_dict["torok_hatching"])
                                            hatched = True
                                            if not torok_unlocked:
                                                torok_unlocked = True
                                                player.pet.append(pet_torok)
                                                drawing_functions.pet_button_draw(kasper_unlocked,
                                                                                  kasper_whistle_button,
                                                                                  torok_unlocked,
                                                                                  torok_whistle_button,
                                                                                  iriana_unlocked,
                                                                                  iriana_whistle_button)
                                            else:
                                                if len(player.items) < 16:
                                                    info_text_1 = "You've already hatched a Torok!"
                                                    info_text_2 = "You got a Rock Candy. "
                                                    player.items.append(Item("pet candy", "candy", 1078, 197,
                                                                             graphic_dict["pet_candy_img"], 1))
                                                else:
                                                    info_text_1 = "You've already hatched a Torok!"
                                                    info_text_2 = "And your inventory is full. "
                                            seed_given = False
                                            for item in player.items:
                                                if item.name == "pet seed":
                                                    player.items.remove(item)
                                            seed_scout_count = 0
                                            seed_fighter_count = 0
                                            seed_mage_count = 0

                                        if seed_mage_count >= 4:
                                            pet_hatch_window.update(pet_hatch_window.x_coordinate,
                                                                    pet_hatch_window.y_coordinate,
                                                                    graphic_dict["iriana_hatching"])
                                            hatched = True
                                            if not iriana_unlocked:
                                                iriana_unlocked = True
                                                player.pet.append(pet_iriana)
                                                drawing_functions.pet_button_draw(kasper_unlocked,
                                                                                  kasper_whistle_button,
                                                                                  torok_unlocked,
                                                                                  torok_whistle_button,
                                                                                  iriana_unlocked,
                                                                                  iriana_whistle_button)
                                            else:
                                                if len(player.items) < 16:
                                                    info_text_1 = "You've already hatched an Iriana!"
                                                    info_text_2 = "You got a Peach Tart. "
                                                    player.items.append(Item("pet tart", "tart", 1078, 197,
                                                                             graphic_dict["pet_tart_img"], 1))
                                                else:
                                                    info_text_1 = "You've already hatched an Iriana!"
                                                    info_text_2 = "And your inventory is full. "
                                            seed_given = False
                                            for item in player.items:
                                                if item.name == "pet seed":
                                                    player.items.remove(item)
                                            seed_scout_count = 0
                                            seed_fighter_count = 0
                                            seed_mage_count = 0
                                    else:
                                        hatch_show = False
                                        hatch_ready = False
                                        button_highlighted = False

                        # npc was interacted with, if quest button clicked get npc name and check quest progress
                        npc_button = click_handlers.npc_event_button(event, quest_button, leave_button, pygame,
                                                                     sfx_sheet_paper, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                     player.quest_complete["hatch 'em all"])
                        # in quest window pop-up, if accept or decline buttons are clicked
                        quest_buttons = click_handlers.quest_event_button(event, accept_button, decline_button, pygame,
                                                                          SCREEN_WIDTH, SCREEN_HEIGHT)
                        # click handlers
                        info_choice = click_handlers.item_info_button(event, item_info_button, pygame, info_items,
                                                                      SCREEN_WIDTH, SCREEN_HEIGHT)
                        if info_choice == "yes":
                            inventory_event = click_handlers.inventory(pygame, player, current_info_item,
                                                                       sfx_item_potion, sfx_item_equip,
                                                                       sfx_item_whistle, sfx_item_snack, graphic_dict,
                                                                       SCREEN_WIDTH, SCREEN_HEIGHT, sfx_firework,
                                                                       sfx_skill_learn, poisoned, burned, bleeding,
                                                                       crushed, font, sfx_role_level,
                                                                       role_level_up_popup)
                            try:
                                if inventory_event["cat card"]:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    show_cat_card = True
                            except KeyError:
                                pass
                            try:
                                poisoned = inventory_event["poisoned"]
                            except KeyError:
                                pass
                            try:
                                burned = inventory_event["burned"]
                            except KeyError:
                                pass
                            try:
                                bleeding = inventory_event["bleeding"]
                            except KeyError:
                                pass
                            try:
                                crushed = inventory_event["crushed"]
                            except KeyError:
                                pass
                            if inventory_event["item message"] != "":
                                info_text_1 = inventory_event["item message"]
                                info_text_2 = ""
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False
                        if info_choice == "no":
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        inventory_item_clicked = click_handlers.inventory_event_item(event, pygame, SCREEN_WIDTH,
                                                                                     SCREEN_HEIGHT)
                        if inventory_item_clicked["clicked"]:
                            pygame.mixer.find_channel(True).play(sfx_button_inventory)
                            current_info_item = drawing_functions.item_info_draw(inventory_item_clicked["element"],
                                                                                 info_items, item_info_button,
                                                                                 graphic_dict)
                        # function to handle equipment item clicks. apply item message to message box if not empty str.
                        if len(drawing_functions.item_info_window) == 0:
                            equipment_event = click_handlers.equipment(player, event, pygame, basic_armor, forged_armor,
                                                                       mythical_armor, legendary_armor, power_gloves,
                                                                       chroma_boots, sfx_item_equip, SCREEN_WIDTH,
                                                                       SCREEN_HEIGHT, graphic_dict, neras_grace,
                                                                       arens_strength, spirit_of_wisdom)
                            if equipment_event["equipment message"] != "":
                                info_text_1 = equipment_event["equipment message"]
                                info_text_2 = ""

                        if npc_button == "quest" and not player.quest_complete["hatch 'em all"]:
                            npc_text_reset = True
                            if player.quest_progress["hatch 'em all"] == 1 and not \
                                    player.quest_complete["hatch 'em all"]:
                                if len(player.items) < 16:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["hatch 'em all"] = True
                                    player.current_quests["hatch 'em all"] = "You completed this task!"
                                    info_text_1 = "You've completed Aitor's task!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.experience += 50
                                    menagerie_access = True
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["sorae"] += 10

                            if not quest_clicked:
                                if not player.quest_complete["hatch 'em all"]:
                                    drawing_functions.quest_box_draw("Aitor", True, garan_quest_window,
                                                                     maurelle_quest_window, celeste_quest_window,
                                                                     torune_quest_window, voruke_quest_window,
                                                                     zerah_quest_window, kirean_quest_window,
                                                                     dionte_quest_window, accept_button, decline_button,
                                                                     omoku_quest_window, leyre_quest_window,
                                                                     aitor_quest_window, everett_quest_window,
                                                                     artherian_task_window, artherian_task_window_2,
                                                                     artherian_1, artherian_task_window,
                                                                     artherian_task_window, artherian_task_window,
                                                                     artherian_task_window, artherian_task_window)
                                    quest_clicked = True
                                else:  # quest complete popup
                                    if not aitor_complete_shown:
                                        drawing_functions.quest_complete_draw("Aitor", True,
                                                                              garan_complete_quest_window,
                                                                              maurelle_complete_quest_window,
                                                                              celeste_complete_quest_window,
                                                                              torune_complete_quest_window,
                                                                              voruke_complete_quest_window,
                                                                              zerah_complete_quest_window,
                                                                              kirean_complete_quest_window,
                                                                              dionte_complete_quest_window,
                                                                              omoku_complete_quest_window,
                                                                              leyre_complete_quest_window,
                                                                              aitor_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window)
                                        aitor_complete_shown = True
                                        quest_clicked = True
                            else:
                                drawing_functions.quest_box.clear()
                                quest_clicked = False

                        # options once quest window is open ------------------------------------------------------------
                        if len(drawing_functions.quest_box) > 1:
                            if quest_buttons == "accept":
                                drawing_functions.quest_accept_box.append(task_accepted)
                                pygame.mixer.find_channel(True).play(sfx_quest_start)
                                info_text_1 = "You've accepted the task!"
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""
                                button_highlighted = False
                                player.quest_status["hatch 'em all"] = True
                                player.current_quests["hatch 'em all"] = "Defeat enemies to hatch your creature."
                                if not seed_given:
                                    player.items.append(pet_seed)
                                    seed_given = True
                                quest_clicked = False
                                drawing_functions.quest_box.clear()

                            # if player chooses to decline, just close the quest window
                            if quest_buttons == "decline":
                                info_text_1 = ""
                                quest_clicked = False
                                button_highlighted = False
                                drawing_functions.quest_box.clear()

                        if npc_button == "leave":
                            movement_able = True
                            interacted = False
                            encounter_started = False
                            in_menagerie = False
                            in_over_world = True
                            building_song_set = False
                            menagerie_window_open = False
                            menagerie_cat_pet = False
                            hatch_sound = False
                            npc_text_reset = False
                            quest_clicked = False
                            drawing_functions.quest_complete_box.clear()
                            drawing_functions.pets_window_container.clear()
                            drawing_functions.quest_accept_box.clear()
                            drawing_functions.quest_box.clear()

                    # outside of inn event loop ------------------------------------------------------------------------
                    if not encounter_started:
                        info_text_1 = ""
                        info_text_2 = ""
                        info_text_3 = ""
                        info_text_4 = ""
                        encounter_started = True

                    # draw objects to screen related to academia scenario ----------------------------------------------
                    if in_menagerie and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                            and not in_battle:

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(eldream_district_menagerie, (0, 0))
                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            screen.blit(leave_button.surf, leave_button.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            screen.blit(quest_button.surf, quest_button.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)
                            cat_pet_button_overlay.update(950, 130, graphic_dict["cat_pet_button_overlay"])
                            screen.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if menagerie_cat_pet:
                                cat_pet_animation_overlay.update(953, 131, graphic_dict["menagerie_cat_pet_img"])
                                screen.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                        else:
                            game_window.blit(eldream_district_menagerie, (0, 0))
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)
                            game_window.blit(quest_button.surf, quest_button.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)
                            cat_pet_button_overlay.update(950, 130, graphic_dict["cat_pet_button_overlay"])
                            game_window.blit(cat_pet_button_overlay.surf, cat_pet_button_overlay.rect)
                            if menagerie_cat_pet:
                                cat_pet_animation_overlay.update(953, 131, graphic_dict["menagerie_cat_pet_img"])
                                game_window.blit(cat_pet_animation_overlay.surf, cat_pet_animation_overlay.rect)

                        # condition damage overlays
                        if len(drawing_functions.level_up_window) == 0:
                            if burned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_burned.surf, overlay_burned.rect)
                                else:
                                    game_window.blit(overlay_burned.surf, overlay_burned.rect)
                            if poisoned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                else:
                                    game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                            if bleeding:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                else:
                                    game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                            if crushed:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                                else:
                                    game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                        # if player has access to menagerie functions by completing quest and window is open
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(pets_button.surf, pets_button.rect)
                            if hatch_ready:
                                if hatch_show:
                                    screen.blit(pet_hatch_window.surf, pet_hatch_window.rect)
                                    screen.blit(ok_button.surf, ok_button.rect)
                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)
                            if menagerie_window_open:
                                close_button.update(804, 108, graphic_dict["close_button"])
                                screen.blit(close_button.surf, close_button.rect)
                                screen.blit(kasper_stage_overlay.surf, kasper_stage_overlay.rect)
                                screen.blit(torok_stage_overlay.surf, torok_stage_overlay.rect)
                                screen.blit(iriana_stage_overlay.surf, iriana_stage_overlay.rect)

                                for pet in player.pet:
                                    if pet.name == "kasper":
                                        pet_stage_surf = font.render("Stage: " + str(pet.stage), True, "black",
                                                                     "light yellow")
                                        pet_stage_rect = pet_stage_surf.get_rect()
                                        pet_stage_rect.midleft = (25, 165)
                                        screen.blit(pet_stage_surf, pet_stage_rect)
                                        pet_xp_surf = font.render("XP: " + str(pet.experience), True, "purple",
                                                                  "light yellow")
                                        pet_xp_rect = pet_xp_surf.get_rect()
                                        pet_xp_rect.midleft = (220, 165)
                                        screen.blit(pet_xp_surf, pet_xp_rect)
                                    if pet.name == "torok":
                                        pet_stage_surf = font.render("Stage: " + str(pet.stage), True, "black",
                                                                     "light yellow")
                                        pet_stage_rect = pet_stage_surf.get_rect()
                                        pet_stage_rect.midleft = (295, 165)
                                        screen.blit(pet_stage_surf, pet_stage_rect)
                                        pet_xp_surf = font.render("XP: " + str(pet.experience), True, "purple",
                                                                  "light yellow")
                                        pet_xp_rect = pet_xp_surf.get_rect()
                                        pet_xp_rect.midleft = (495, 165)
                                        screen.blit(pet_xp_surf, pet_xp_rect)
                                    if pet.name == "iriana":
                                        pet_stage_surf = font.render("Stage: " + str(pet.stage), True, "black",
                                                                     "light yellow")
                                        pet_stage_rect = pet_stage_surf.get_rect()
                                        pet_stage_rect.midleft = (565, 165)
                                        screen.blit(pet_stage_surf, pet_stage_rect)
                                        pet_xp_surf = font.render("XP: " + str(pet.experience), True, "purple",
                                                                  "light yellow")
                                        pet_xp_rect = pet_xp_surf.get_rect()
                                        pet_xp_rect.midleft = (750, 165)
                                        screen.blit(pet_xp_surf, pet_xp_rect)

                            if show_pet_advancement:
                                screen.blit(pet_advance_popup.surf, pet_advance_popup.rect)

                        else:
                            game_window.blit(pets_button.surf, pets_button.rect)
                            if hatch_ready:
                                if hatch_show:
                                    game_window.blit(pet_hatch_window.surf, pet_hatch_window.rect)
                                    game_window.blit(ok_button.surf, ok_button.rect)
                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)

                            if menagerie_window_open:
                                close_button.update(804, 108, graphic_dict["close_button"])
                                game_window.blit(close_button.surf, close_button.rect)
                                game_window.blit(kasper_stage_overlay.surf, kasper_stage_overlay.rect)
                                game_window.blit(torok_stage_overlay.surf, torok_stage_overlay.rect)
                                game_window.blit(iriana_stage_overlay.surf, iriana_stage_overlay.rect)

                                for pet in player.pet:
                                    if pet.name == "kasper":
                                        pet_stage_surf = font.render("Stage: " + str(pet.stage), True, "black",
                                                                     "light yellow")
                                        pet_stage_rect = pet_stage_surf.get_rect()
                                        pet_stage_rect.midleft = (25, 165)
                                        game_window.blit(pet_stage_surf, pet_stage_rect)
                                        pet_xp_surf = font.render("XP: " + str(pet.experience), True, "purple",
                                                                  "light yellow")
                                        pet_xp_rect = pet_xp_surf.get_rect()
                                        pet_xp_rect.midleft = (220, 165)
                                        game_window.blit(pet_xp_surf, pet_xp_rect)
                                    if pet.name == "torok":
                                        pet_stage_surf = font.render("Stage: " + str(pet.stage), True, "black",
                                                                     "light yellow")
                                        pet_stage_rect = pet_stage_surf.get_rect()
                                        pet_stage_rect.midleft = (295, 165)
                                        game_window.blit(pet_stage_surf, pet_stage_rect)
                                        pet_xp_surf = font.render("XP: " + str(pet.experience), True, "purple",
                                                                  "light yellow")
                                        pet_xp_rect = pet_xp_surf.get_rect()
                                        pet_xp_rect.midleft = (495, 165)
                                        game_window.blit(pet_xp_surf, pet_xp_rect)
                                    if pet.name == "iriana":
                                        pet_stage_surf = font.render("Stage: " + str(pet.stage), True, "black",
                                                                     "light yellow")
                                        pet_stage_rect = pet_stage_surf.get_rect()
                                        pet_stage_rect.midleft = (565, 165)
                                        game_window.blit(pet_stage_surf, pet_stage_rect)
                                        pet_xp_surf = font.render("XP: " + str(pet.experience), True, "purple",
                                                                  "light yellow")
                                        pet_xp_rect = pet_xp_surf.get_rect()
                                        pet_xp_rect.midleft = (750, 165)
                                        game_window.blit(pet_xp_surf, pet_xp_rect)

                            if show_pet_advancement:
                                game_window.blit(pet_advance_popup.surf, pet_advance_popup.rect)

                        if show_cat_card:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(cat_card_portrait, (60, 105))
                            else:
                                game_window.blit(cat_card_portrait, (60, 105))

                        if show_trade_deck:
                            render_card_deck()

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player is in the fishing hut ----------------------------------------------------------------------
                if in_hut and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                        and not in_battle:

                    if not npc_text_reset:
                        info_text_1 = "Press the 'Talk' button to interact"
                        info_text_2 = "with the NPC. "
                        info_text_3 = ""
                        info_text_4 = ""

                    if not over_world_song_set:
                        if pygame.mixer.music.get_busy():
                            pygame.mixer.music.fadeout(50)
                            pygame.mixer.music.load(fishing_music)
                            pygame.mixer.music.play(loops=-1)
                            over_world_song_set = True

                    for event in pygame.event.get():
                        if event.type == KEYDOWN:
                            if event.key == K_ESCAPE:
                                movement_able = True
                                interacted = False
                                encounter_started = False
                                in_hut = False
                                in_over_world = True
                                quest_clicked = False
                                npc_text_reset = False
                                drawing_functions.quest_complete_box_fishing.clear()
                                drawing_functions.quest_box_fishing.clear()
                                drawing_functions.fish_window_container.clear()
                                drawing_functions.quest_accept_box_fishing.clear()
                                fish_window_open = False
                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        button_highlighted = button_highlighter(pos)

                        if overlay_burned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if burned:
                                drawing_functions.condition_description_window.append(overlay_burned_desc)
                        elif overlay_poisoned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if poisoned:
                                drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                        elif overlay_bleeding.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if bleeding:
                                drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                        elif overlay_crushed.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if crushed:
                                drawing_functions.condition_description_window.append(overlay_crushed_desc)
                        else:
                            drawing_functions.condition_description_window.clear()

                        if flower_button.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                        else:
                            drawing_functions.flower_pop_up_window.clear()
                            drawing_functions.flower_pop_up_window_text.clear()

                        if fish_button_count.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                        else:
                            drawing_functions.fish_pop_up_window.clear()
                            drawing_functions.fish_pop_up_window_text.clear()

                        if close_button.rect.collidepoint(pos) and hut_window_open:
                            button_highlight.update(close_button.x_coordinate - 3, close_button.y_coordinate + 3,
                                                    graphic_dict["close high"])
                            button_highlighted = True

                        if event.type == pygame.MOUSEBUTTONUP:
                            if show_cat_card:
                                show_cat_card = False
                            if trading_deck:
                                if (len(drawing_functions.quest_box) == 0 and
                                        len(drawing_functions.quest_box_trading) == 0 and
                                        len(drawing_functions.quest_box_fishing) == 0):
                                    if card_deck_button.rect.collidepoint(pos):
                                        match show_trade_deck:
                                            case True:
                                                show_trade_deck = False
                                            case False:
                                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                                show_trade_deck = True
                            if npc_garan.gift:
                                gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff,
                                                             sword, bow, pressed_keys, sfx_button_role)
                            drawing_functions.quest_complete_box_fishing.clear()
                            if quest_accepted.rect.collidepoint(pos):
                                drawing_functions.quest_accept_box_fishing.clear()
                            if fish_button.rect.collidepoint(pos) and fishing_journal_unlocked:
                                npc_text_reset = True
                                if not hut_window_open:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    hut_window_open = True
                                    drawing_functions.fish_window_container.append(fish_window)
                                else:
                                    drawing_functions.fish_window_container.clear()
                                    hut_window_open = False

                            if close_button.rect.collidepoint(pos) and hut_window_open:
                                pygame.mixer.find_channel(True).play(sfx_button_click)
                                drawing_functions.fish_window_container.clear()
                                hut_window_open = False
                                button_highlighted = False

                            if check_basic_fish_button.rect.collidepoint(pos) and hut_window_open:
                                if basic_fish_counter >= 4:
                                    if not basic_fish_reward:
                                        if fishing_level == 1 or fishing_level == 2.0 or fishing_level == 3.0:
                                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_1"])
                                        else:
                                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_0"])
                                        pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                        fishing_level += 0.5
                                        player.rupees += 200
                                        info_text_1 = "You gained fishing experience"
                                        info_text_2 = "And 200 Rupees!"
                                        basic_fish_reward = True
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_button_click)
                                        info_text_1 = "You already claimed this reward. "
                                        info_text_2 = ""
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    info_text_1 = "You need to catch 4 basic fish. "
                                    info_text_2 = ""
                                button_highlighted = False
                            if check_better_fish_button.rect.collidepoint(pos) and hut_window_open:
                                if better_fish_counter >= 8:
                                    if not better_fish_reward:
                                        if fishing_level == 1 or fishing_level == 2.0 or fishing_level == 3.0:
                                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_1"])
                                        else:
                                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_0"])
                                        pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                        fishing_level += 0.5
                                        player.rupees += 400
                                        info_text_1 = "You gained fishing experience"
                                        info_text_2 = "And 400 Rupees!"
                                        better_fish_reward = True
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_button_click)
                                        info_text_1 = "You already claimed this reward. "
                                        info_text_2 = ""
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    info_text_1 = "You need to catch 8 better fish. "
                                    info_text_2 = ""
                                button_highlighted = False
                            if check_even_better_fish_button.rect.collidepoint(pos) and hut_window_open:
                                if even_better_fish_counter >= 12:
                                    if not even_better_fish_reward:
                                        if fishing_level == 1 or fishing_level == 2 or fishing_level == 3:
                                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_1"])
                                        else:
                                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_0"])
                                        pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                        fishing_level += 0.5
                                        player.rupees += 800
                                        info_text_1 = "You gained fishing experience"
                                        info_text_2 = "And 800 Rupees!"
                                        even_better_fish_reward = True
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_button_click)
                                        info_text_1 = "You already claimed this reward. "
                                        info_text_2 = ""
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    info_text_1 = "You need to catch 12 even better fish. "
                                    info_text_2 = ""
                                button_highlighted = False
                            if check_best_fish_button.rect.collidepoint(pos) and hut_window_open:
                                if best_fish_counter >= 16:
                                    if not best_fish_reward:
                                        if fishing_level == 1 or fishing_level == 2 or fishing_level == 3:
                                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_1"])
                                        else:
                                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_0"])
                                        pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                        fishing_level += 0.5
                                        player.rupees += 1000
                                        info_text_1 = "You gained fishing experience"
                                        info_text_2 = "And 1000 Rupees!"
                                        best_fish_reward = True
                                    else:
                                        pygame.mixer.find_channel(True).play(sfx_button_click)
                                        info_text_1 = "You already claimed this reward. "
                                        info_text_2 = ""
                                else:
                                    pygame.mixer.find_channel(True).play(sfx_button_click)
                                    info_text_1 = "You need to catch 16 best fish. "
                                    info_text_2 = ""
                                button_highlighted = False

                        # npc was interacted with, if quest button clicked get npc name and check quest progress
                        npc_button_fish = click_handlers.npc_event_button_fishing(event, quest_button, leave_button,
                                                                                  pygame, sfx_sheet_paper, SCREEN_WIDTH,
                                                                                  SCREEN_HEIGHT)

                        # in quest window pop-up, if accept or decline buttons are clicked
                        quest_button_fish = click_handlers.quest_event_button_fishing(event, accept_button,
                                                                                      decline_button, pygame,
                                                                                      SCREEN_WIDTH, SCREEN_HEIGHT)

                        # click handlers
                        info_choice = click_handlers.item_info_button(event, item_info_button, pygame, info_items,
                                                                      SCREEN_WIDTH, SCREEN_HEIGHT)
                        if info_choice == "yes":
                            inventory_event = click_handlers.inventory(pygame, player, current_info_item,
                                                                       sfx_item_potion, sfx_item_equip,
                                                                       sfx_item_whistle, sfx_item_snack,
                                                                       graphic_dict, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                       sfx_firework, sfx_skill_learn, poisoned, burned,
                                                                       bleeding, crushed, font, sfx_role_level,
                                                                       role_level_up_popup)
                            try:
                                if inventory_event["cat card"]:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    show_cat_card = True
                            except KeyError:
                                pass
                            try:
                                poisoned = inventory_event["poisoned"]
                            except KeyError:
                                pass
                            try:
                                burned = inventory_event["burned"]
                            except KeyError:
                                pass
                            try:
                                bleeding = inventory_event["bleeding"]
                            except KeyError:
                                pass
                            try:
                                crushed = inventory_event["crushed"]
                            except KeyError:
                                pass
                            if inventory_event["item message"] != "":
                                info_text_1 = inventory_event["item message"]
                                info_text_2 = ""
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        if info_choice == "no":
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        inventory_item_clicked = click_handlers.inventory_event_item(event, pygame, SCREEN_WIDTH,
                                                                                     SCREEN_HEIGHT)
                        if inventory_item_clicked["clicked"]:
                            pygame.mixer.find_channel(True).play(sfx_button_inventory)
                            current_info_item = drawing_functions.item_info_draw(
                                inventory_item_clicked["element"],
                                info_items, item_info_button,
                                graphic_dict)

                        # function to handle equipment item clicks. apply item message to message box if not empty str.
                        if len(drawing_functions.item_info_window) == 0:
                            equipment_event = click_handlers.equipment(player, event, pygame, basic_armor, forged_armor,
                                                                       mythical_armor, legendary_armor, power_gloves,
                                                                       chroma_boots, sfx_item_equip, SCREEN_WIDTH,
                                                                       SCREEN_HEIGHT, graphic_dict, neras_grace,
                                                                       arens_strength, spirit_of_wisdom)
                            if equipment_event["equipment message"] != "":
                                info_text_1 = equipment_event["equipment message"]
                                info_text_2 = ""

                        if npc_button_fish == "quest" and not fishing_journal_unlocked:
                            pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                            npc_text_reset = True
                            if basic_fish_counter >= 4:
                                pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                info_text_1 = "You've completed the fishing task!"
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""
                                fishing_journal_unlocked = True
                                player.reputation["amuna"] += 10

                            if not quest_clicked:
                                if basic_fish_counter < 4:
                                    drawing_functions.quest_box_draw_fishing("jerry", True, jerry_task_window,
                                                                             accept_button, decline_button)
                                    quest_clicked = True
                                else:  # quest complete popup
                                    if not fishing_complete_shown:
                                        drawing_functions.quest_complete_draw_fishing("jerry", True,
                                                                                      jerry_complete_window)
                                        fishing_complete_shown = True
                                        quest_clicked = True
                            else:
                                drawing_functions.quest_box_fishing.clear()
                                quest_clicked = False

                        # options once quest window is open ------------------------------------------------------------
                        if len(drawing_functions.quest_box_fishing) > 1:
                            if quest_button_fish == "accept":
                                drawing_functions.quest_accept_box_fishing.append(task_accepted)
                                pygame.mixer.find_channel(True).play(sfx_quest_start)
                                info_text_1 = "You've accepted the task!"
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""
                                if len(player.items) < 9:
                                    if not bait_given:
                                        for i in range(8):
                                            player.items.append(Item("korlok bait", "bait", 200, 200,
                                                                     graphic_dict["korlok_bait"], 0))
                                        bait_given = True
                                else:
                                    info_text_1 = "Not enough inventory space "
                                    info_text_2 = "To add bait."
                                button_highlighted = False
                                quest_clicked = False
                                drawing_functions.quest_box_fishing.clear()
                                if not fishing_unlocked:
                                    fishing_unlocked = True

                            # if player chooses to decline, just close the quest window
                            if quest_button_fish == "decline":
                                info_text_1 = ""
                                info_text_2 = ""
                                quest_clicked = False
                                button_highlighted = False
                                drawing_functions.quest_box_fishing.clear()

                        if npc_button_fish == "leave":
                            movement_able = True
                            interacted = False
                            encounter_started = False
                            in_hut = False
                            in_over_world = True
                            hut_window_open = False
                            npc_text_reset = False
                            quest_clicked = False
                            drawing_functions.fish_window_container.clear()
                            drawing_functions.quest_complete_box_fishing.clear()
                            drawing_functions.quest_accept_box_fishing.clear()
                            drawing_functions.quest_box_fishing.clear()

                    # outside of inn event loop ------------------------------------------------------------------------
                    if not encounter_started:
                        info_text_1 = ""
                        info_text_2 = ""
                        info_text_3 = ""
                        info_text_4 = ""
                        encounter_started = True

                    # draw objects to screen related to academia scenario ----------------------------------------------
                    if in_hut and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                            and not in_battle:

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(fishing_hut_screen_bg, (0, 0))
                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            screen.blit(leave_button.surf, leave_button.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            screen.blit(quest_button.surf, quest_button.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)

                        else:
                            game_window.blit(fishing_hut_screen_bg, (0, 0))
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)
                            game_window.blit(quest_button.surf, quest_button.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)

                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                        if fishing_level == 1.5 or fishing_level == 2.5 or fishing_level == 3.5:
                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_1"])
                        else:
                            fishing_level_overlay.update(410, 510, graphic_dict["fishing_level_0"])

                        # if player has access to fishing journal by completing task and window is open
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(fish_button.surf, fish_button.rect)
                            if fishing_journal_unlocked:
                                if hut_window_open:
                                    basic_fish_surf = level_up_font.render(str(basic_fish_counter) + " /10",
                                                                           True, "black", "light yellow")
                                    basic_fish_surf_rect = basic_fish_surf.get_rect()
                                    basic_fish_surf_rect.midleft = (40, 150)
                                    screen.blit(basic_fish_surf, basic_fish_surf_rect)
                                    better_fish_surf = level_up_font.render(str(better_fish_counter) + " /15",
                                                                            True, "black", "light yellow")
                                    better_fish_surf_rect = better_fish_surf.get_rect()
                                    better_fish_surf_rect.midleft = (40, 247)
                                    screen.blit(better_fish_surf, better_fish_surf_rect)
                                    even_better_fish_surf = level_up_font.render(str(even_better_fish_counter) + " /20",
                                                                                 True, "black", "light yellow")
                                    even_better_fish_surf_rect = even_better_fish_surf.get_rect()
                                    even_better_fish_surf_rect.midleft = (40, 344)
                                    screen.blit(even_better_fish_surf, even_better_fish_surf_rect)
                                    best_fish_surf = level_up_font.render(str(best_fish_counter) + " /25",
                                                                          True, "black", "light yellow")
                                    best_fish_surf_rect = best_fish_surf.get_rect()
                                    best_fish_surf_rect.midleft = (40, 440)
                                    screen.blit(best_fish_surf, best_fish_surf_rect)
                                    fish_level_surf = level_up_font.render(str(int(fishing_level)),
                                                                           True, "black", "light yellow")
                                    fish_level_surf_rect = fish_level_surf.get_rect()
                                    fish_level_surf_rect.midleft = (162, 510)
                                    screen.blit(fish_level_surf, fish_level_surf_rect)
                                    screen.blit(check_basic_fish_button.surf, check_basic_fish_button.rect)
                                    screen.blit(check_better_fish_button.surf, check_better_fish_button.rect)
                                    screen.blit(check_even_better_fish_button.surf, check_even_better_fish_button.rect)
                                    screen.blit(fishing_level_overlay.surf, fishing_level_overlay.rect)
                                    close_button.update(560, 110, graphic_dict["close_button"])
                                    screen.blit(close_button.surf, close_button.rect)
                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)
                        else:
                            game_window.blit(fish_button.surf, fish_button.rect)
                            if fishing_journal_unlocked:
                                if hut_window_open:
                                    basic_fish_surf = level_up_font.render(str(basic_fish_counter) + " /4",
                                                                           True, "black", "light yellow")
                                    basic_fish_surf_rect = basic_fish_surf.get_rect()
                                    basic_fish_surf_rect.midleft = (40, 150)
                                    game_window.blit(basic_fish_surf, basic_fish_surf_rect)
                                    better_fish_surf = level_up_font.render(str(better_fish_counter) + " /8",
                                                                            True, "black", "light yellow")
                                    better_fish_surf_rect = better_fish_surf.get_rect()
                                    better_fish_surf_rect.midleft = (40, 247)
                                    game_window.blit(better_fish_surf, better_fish_surf_rect)
                                    even_better_fish_surf = level_up_font.render(str(even_better_fish_counter) + " /12",
                                                                                 True, "black", "light yellow")
                                    even_better_fish_surf_rect = even_better_fish_surf.get_rect()
                                    even_better_fish_surf_rect.midleft = (40, 344)
                                    game_window.blit(even_better_fish_surf, even_better_fish_surf_rect)
                                    best_fish_surf = level_up_font.render(str(best_fish_counter) + " /16",
                                                                          True, "black", "light yellow")
                                    best_fish_surf_rect = best_fish_surf.get_rect()
                                    best_fish_surf_rect.midleft = (40, 440)
                                    game_window.blit(best_fish_surf, best_fish_surf_rect)
                                    fish_level_surf = level_up_font.render(str(int(fishing_level)),
                                                                           True, "black", "light yellow")
                                    fish_level_surf_rect = fish_level_surf.get_rect()
                                    fish_level_surf_rect.midleft = (162, 510)
                                    game_window.blit(fish_level_surf, fish_level_surf_rect)
                                    game_window.blit(check_basic_fish_button.surf, check_basic_fish_button.rect)
                                    game_window.blit(check_better_fish_button.surf, check_better_fish_button.rect)
                                    game_window.blit(check_even_better_fish_button.surf,
                                                     check_even_better_fish_button.rect)
                                    game_window.blit(check_best_fish_button.surf, check_best_fish_button.rect)

                                    game_window.blit(fishing_level_overlay.surf, fishing_level_overlay.rect)
                                    close_button.update(560, 110, graphic_dict["close_button"])
                                    game_window.blit(close_button.surf, close_button.rect)
                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)

                        if show_cat_card:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(cat_card_portrait, (60, 105))
                            else:
                                game_window.blit(cat_card_portrait, (60, 105))

                        if show_trade_deck:
                            render_card_deck()

                        if len(drawing_functions.level_up_window) == 0:
                            if burned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_burned.surf, overlay_burned.rect)
                                else:
                                    game_window.blit(overlay_burned.surf, overlay_burned.rect)
                            if poisoned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                else:
                                    game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                            if bleeding:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                else:
                                    game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                            if crushed:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                                else:
                                    game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player is in the card cave ------------------------------------------------------------------------
                if in_card_cave and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                        and not in_battle:

                    if not npc_text_reset:
                        info_text_1 = "Press the 'Talk' button to interact"
                        info_text_2 = "with the NPC. "
                        info_text_3 = ""
                        info_text_4 = ""

                    if not over_world_song_set:
                        if pygame.mixer.music.get_busy():
                            pygame.mixer.music.fadeout(50)
                            pygame.mixer.music.load(card_music)
                            pygame.mixer.music.play(loops=-1)
                            over_world_song_set = True

                    for event in pygame.event.get():
                        if event.type == KEYDOWN:
                            if event.key == K_ESCAPE:
                                movement_able = True
                                interacted = False
                                encounter_started = False
                                in_card_cave = False
                                over_world_song_set = False
                                in_over_world = True
                                npc_text_reset = False
                                quest_clicked = False
                                trade_window_open = False
                                drawing_functions.quest_accept_box_trading.clear()
                                drawing_functions.quest_complete_box_trading.clear()
                                drawing_functions.quest_box_trading.clear()
                                drawing_functions.trade_window_container.clear()
                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        button_highlighted = button_highlighter(pos)

                        if overlay_burned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if burned:
                                drawing_functions.condition_description_window.append(overlay_burned_desc)
                        elif overlay_poisoned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if poisoned:
                                drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                        elif overlay_bleeding.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if bleeding:
                                drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                        elif overlay_crushed.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if crushed:
                                drawing_functions.condition_description_window.append(overlay_crushed_desc)
                        else:
                            drawing_functions.condition_description_window.clear()

                        if flower_button.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                        else:
                            drawing_functions.flower_pop_up_window.clear()
                            drawing_functions.flower_pop_up_window_text.clear()

                        if fish_button_count.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                        else:
                            drawing_functions.fish_pop_up_window.clear()
                            drawing_functions.fish_pop_up_window_text.clear()

                        if event.type == pygame.MOUSEBUTTONUP:
                            if show_cat_card:
                                show_cat_card = False
                            if trading_deck:
                                if (len(drawing_functions.quest_box) == 0 and
                                        len(drawing_functions.quest_box_trading) == 0 and
                                        len(drawing_functions.quest_box_fishing) == 0):
                                    if card_deck_button.rect.collidepoint(pos):
                                        match show_trade_deck:
                                            case True:
                                                show_trade_deck = False
                                            case False:
                                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                                show_trade_deck = True
                            if npc_garan.gift:
                                gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff,
                                                             sword, bow, pressed_keys, sfx_button_role)
                            drawing_functions.quest_complete_box_trading.clear()
                            if quest_accepted.rect.collidepoint(pos) and not trading_task_complete:
                                drawing_functions.quest_accept_box_trading.clear()
                            if trade_button.rect.collidepoint(pos) and trading_task_complete:
                                npc_text_reset = True
                                if not trade_window_open:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    trade_window_open = True
                                    drawing_functions.trade_window_container.append(trade_window)
                                    drawing_functions.trade_window_container.append(trade_snake)
                                    drawing_functions.trade_window_container.append(trade_ghoul)
                                    drawing_functions.trade_window_container.append(trade_bandile)
                                    drawing_functions.trade_window_container.append(trade_magmon)
                                    drawing_functions.trade_window_container.append(trade_necrola)
                                    drawing_functions.trade_window_container.append(trade_osodark)
                                    drawing_functions.trade_window_container.append(trade_atmon)
                                    drawing_functions.trade_window_container.append(trade_jumano)
                                    drawing_functions.trade_window_container.append(trade_chorizon)
                                    drawing_functions.trade_window_container.append(trade_muchador)
                                    drawing_functions.trade_window_container.append(trade_chinzilla)
                                    drawing_functions.trade_window_container.append(trade_erebyth)
                                    close_button.update(988, 115, graphic_dict["close_button"])
                                    drawing_functions.trade_window_container.append(close_button)
                                else:
                                    drawing_functions.trade_window_container.clear()
                                    trade_window_open = False

                            if close_button.rect.collidepoint(pos) and trade_window_open:
                                pygame.mixer.find_channel(True).play(sfx_button_click)
                                drawing_functions.trade_window_container.clear()
                                trade_window_open = False
                                button_highlighted = False

                            if len(drawing_functions.trade_window_container) > 0:
                                if trade_snake.rect.collidepoint(pos):
                                    if card_deck["basic_snake"] >= 4:
                                        card_deck["better_snake"] += 1
                                        card_deck["basic_snake"] -= 4
                                        info_text_1 = "4 C-tier Snake cards traded."
                                        info_text_2 = "1 B-tier Snake card acquired."
                                        info_text_3 = ""
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "4 C-tier Snake cards needed to trade."
                                        info_text_2 = ""
                                        info_text_3 = ""
                                if trade_ghoul.rect.collidepoint(pos):
                                    if card_deck["basic_ghoul"] >= 4:
                                        card_deck["better_ghoul"] += 1
                                        card_deck["basic_ghoul"] -= 4
                                        info_text_1 = "4 C-tier Ghoul cards traded."
                                        info_text_2 = "1 B-tier Ghoul card acquired."
                                        info_text_3 = ""
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "4 C-tier Ghoul cards needed to trade."
                                        info_text_2 = ""
                                        info_text_3 = ""
                                if trade_bandile.rect.collidepoint(pos):
                                    if card_deck["basic_bandile"] >= 4:
                                        card_deck["better_bandile"] += 1
                                        card_deck["basic_bandile"] -= 4
                                        info_text_1 = "4 C-tier Bandile cards traded."
                                        info_text_2 = "1 B-tier Bandile card acquired."
                                        info_text_3 = ""
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "4 C-tier Bandile cards needed to trade."
                                        info_text_2 = ""
                                        info_text_3 = ""
                                if trade_magmon.rect.collidepoint(pos):
                                    if card_deck["basic_magmon"] >= 4:
                                        card_deck["better_magmon"] += 1
                                        card_deck["basic_magmon"] -= 4
                                        info_text_1 = "4 C-tier Magmon cards traded."
                                        info_text_2 = "1 B-tier Magmon card acquired."
                                        info_text_3 = ""
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "4 C-tier Magmon cards needed to trade."
                                        info_text_2 = ""
                                if trade_necrola.rect.collidepoint(pos):
                                    if card_deck["better_necrola"] >= 4:
                                        card_deck["best_necrola"] += 1
                                        card_deck["better_necrola"] -= 4
                                        info_text_1 = "4 B-tier Necrola cards traded."
                                        info_text_2 = "1 A-tier Necrola card acquired."
                                        info_text_3 = ""
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "4 B-tier Necrola cards needed to trade."
                                        info_text_2 = ""
                                        info_text_3 = ""
                                if trade_osodark.rect.collidepoint(pos):
                                    if card_deck["better_osodark"] >= 4:
                                        card_deck["best_osodark"] += 1
                                        card_deck["better_osodark"] -= 4
                                        info_text_1 = "4 B-tier Osodark cards traded."
                                        info_text_2 = "1 A-tier Osodark card acquired."
                                        info_text_3 = ""
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "4 B-tier Osodark cards needed to trade."
                                        info_text_2 = ""
                                        info_text_3 = ""
                                if trade_atmon.rect.collidepoint(pos):
                                    if card_deck["better_atmon"] >= 4:
                                        card_deck["best_atmon"] += 1
                                        card_deck["better_atmon"] -= 4
                                        info_text_1 = "4 B-tier Atmon cards traded."
                                        info_text_2 = "1 A-tier Atmon card acquired."
                                        info_text_3 = ""
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "4 B-tier Atmon cards needed to trade."
                                        info_text_2 = ""
                                        info_text_3 = ""
                                if trade_jumano.rect.collidepoint(pos):
                                    if card_deck["better_jumano"] >= 4:
                                        card_deck["best_jumano"] += 1
                                        card_deck["better_jumano"] -= 4
                                        info_text_1 = "4 B-tier Jumano cards traded."
                                        info_text_2 = "1 A-tier Jumano card acquired."
                                        info_text_3 = ""
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "4 B-tier Jumano cards needed to trade."
                                        info_text_2 = ""
                                        info_text_3 = ""
                                if trade_chorizon.rect.collidepoint(pos):
                                    if card_deck["better_snake"] >= 2 and card_deck["best_necrola"] >= 2:
                                        card_deck["chorizon"] += 1
                                        card_deck["better_snake"] -= 2
                                        card_deck["best_necrola"] -= 2
                                        info_text_1 = "2 B-tier Snake cards traded."
                                        info_text_2 = "2 A-tier Necrola cards traded."
                                        info_text_3 = "1 S-tier Chorizon card acquired."
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "2 B-tier Snake cards needed to trade."
                                        info_text_2 = "2 A-tier Necrola cards needed to trade."
                                        info_text_3 = ""
                                if trade_muchador.rect.collidepoint(pos):
                                    if card_deck["better_ghoul"] >= 2 and card_deck["best_osodark"] >= 2:
                                        card_deck["muchador"] += 1
                                        card_deck["better_ghoul"] -= 2
                                        card_deck["best_osodark"] -= 2
                                        info_text_1 = "2 B-tier Ghoul cards traded."
                                        info_text_2 = "2 A-tier Osodark cards traded."
                                        info_text_3 = "1 S-tier Muchador card acquired."
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "2 B-tier Ghoul cards needed to trade."
                                        info_text_2 = "2 A-tier Osodark cards needed to trade."
                                        info_text_3 = ""
                                if trade_chinzilla.rect.collidepoint(pos):
                                    if card_deck["better_bandile"] >= 2 and card_deck["best_atmon"] >= 2:
                                        card_deck["chinzilla"] += 1
                                        card_deck["better_bandile"] -= 2
                                        card_deck["best_atmon"] -= 2
                                        info_text_1 = "2 B-tier Bandile cards traded."
                                        info_text_2 = "2 A-tier Atmon cards traded."
                                        info_text_3 = "1 S-tier Chinzilla card acquired."
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "2 B-tier Bandile cards needed to trade."
                                        info_text_2 = "2 A-tier Atmon cards needed to trade."
                                        info_text_3 = ""
                                if trade_erebyth.rect.collidepoint(pos):
                                    if card_deck["better_magmon"] >= 2 and card_deck["best_jumano"] >= 2:
                                        card_deck["erebyth"] += 1
                                        card_deck["better_magmon"] -= 2
                                        card_deck["best_jumano"] -= 2
                                        info_text_1 = "2 B-tier Magmon cards traded."
                                        info_text_2 = "2 A-tier Jumano cards traded."
                                        info_text_3 = "1 S-tier Erebyth card acquired."
                                        pygame.mixer.find_channel(True).play(sfx_card_drop)
                                    else:
                                        info_text_1 = "2 B-tier Magmon cards needed to trade."
                                        info_text_2 = "2 A-tier Jumano cards needed to trade."
                                        info_text_3 = ""

                        # npc was interacted with, if quest button clicked get npc name and check quest progress
                        npc_button_trade = click_handlers.npc_event_button(event, quest_button, leave_button, pygame,
                                                                           sfx_sheet_paper, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                           trading_task_complete)
                        # in quest window pop-up, if accept or decline buttons are clicked
                        quest_button_trade = click_handlers.quest_event_button(event, accept_button, decline_button,
                                                                               pygame, SCREEN_WIDTH, SCREEN_HEIGHT)
                        # click handlers
                        info_choice = click_handlers.item_info_button(event, item_info_button, pygame, info_items,
                                                                      SCREEN_WIDTH, SCREEN_HEIGHT)
                        if info_choice == "yes":
                            inventory_event = click_handlers.inventory(pygame, player, current_info_item,
                                                                       sfx_item_potion, sfx_item_equip,
                                                                       sfx_item_whistle, sfx_item_snack,
                                                                       graphic_dict, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                       sfx_firework, sfx_skill_learn, poisoned, burned,
                                                                       bleeding, crushed, font, sfx_role_level,
                                                                       role_level_up_popup)
                            try:
                                if inventory_event["cat card"]:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    show_cat_card = True
                            except KeyError:
                                pass
                            try:
                                poisoned = inventory_event["poisoned"]
                            except KeyError:
                                pass
                            try:
                                burned = inventory_event["burned"]
                            except KeyError:
                                pass
                            try:
                                bleeding = inventory_event["bleeding"]
                            except KeyError:
                                pass
                            try:
                                crushed = inventory_event["crushed"]
                            except KeyError:
                                pass
                            if inventory_event["item message"] != "":
                                info_text_1 = inventory_event["item message"]
                                info_text_2 = ""
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        if info_choice == "no":
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False

                        inventory_item_clicked = click_handlers.inventory_event_item(event, pygame, SCREEN_WIDTH,
                                                                                     SCREEN_HEIGHT)
                        if inventory_item_clicked["clicked"]:
                            pygame.mixer.find_channel(True).play(sfx_button_inventory)
                            current_info_item = drawing_functions.item_info_draw(
                                inventory_item_clicked["element"],
                                info_items, item_info_button,
                                graphic_dict)

                        # function to handle equipment item clicks. apply item message to message box if not empty str.
                        if len(drawing_functions.item_info_window) == 0:
                            equipment_event = click_handlers.equipment(player, event, pygame, basic_armor, forged_armor,
                                                                       mythical_armor, legendary_armor, power_gloves,
                                                                       chroma_boots, sfx_item_equip, SCREEN_WIDTH,
                                                                       SCREEN_HEIGHT, graphic_dict, neras_grace,
                                                                       arens_strength, spirit_of_wisdom)
                            if equipment_event["equipment message"] != "":
                                info_text_1 = equipment_event["equipment message"]
                                info_text_2 = ""

                        if npc_button_trade == "quest" and not trading_task_complete:
                            npc_text_reset = True
                            if any_card_counter >= 4 and not trading_task_complete:
                                info_text_1 = "You've completed the collection task!"
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""
                                trading_task_complete = True
                                player.reputation["nuldar"] += 10

                            if not quest_clicked:
                                if any_card_counter < 4:
                                    drawing_functions.quest_box_draw_trading("prime", True, prime_task_window,
                                                                             accept_button, decline_button)
                                    quest_clicked = True
                                else:  # quest complete popup
                                    if not trading_complete_shown:
                                        pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                        drawing_functions.quest_complete_draw_trading("prime", True,
                                                                                      prime_complete_window)
                                        trading_complete_shown = True
                                        quest_clicked = True
                                        on_card_quest = False
                            else:
                                drawing_functions.quest_box_trading.clear()
                                quest_clicked = False

                        # options once quest window is open ------------------------------------------------------------
                        if len(drawing_functions.quest_box_trading) > 1:
                            if quest_button_trade == "accept":
                                drawing_functions.quest_accept_box_trading.append(task_accepted)
                                pygame.mixer.find_channel(True).play(sfx_quest_start)
                                info_text_1 = "You've accepted the task!"
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""
   
                                if not trading_deck:
                                    drawing_functions.extra_button_container.append(card_deck_button)
                                    trading_deck = True
                                    on_card_quest = True

                                button_highlighted = False
                                quest_clicked = False
                                drawing_functions.quest_box_trading.clear()

                            # if player chooses to decline, just close the quest window
                            if quest_button_trade == "decline":
                                info_text_1 = ""
                                info_text_2 = ""
                                quest_clicked = False
                                button_highlighted = False
                                drawing_functions.quest_box_trading.clear()

                        if npc_button_trade == "leave":
                            movement_able = True
                            interacted = False
                            encounter_started = False
                            in_card_cave = False
                            over_world_song_set = False
                            in_over_world = True
                            npc_text_reset = False
                            quest_clicked = False
                            trade_window_open = False
                            drawing_functions.quest_accept_box_trading.clear()
                            drawing_functions.quest_complete_box_trading.clear()
                            drawing_functions.quest_box_trading.clear()
                            drawing_functions.trade_window_container.clear()

                    # outside of event loop ----------------------------------------------------------------------------
                    if not encounter_started:
                        info_text_1 = ""
                        info_text_2 = ""
                        info_text_3 = ""
                        info_text_4 = ""
                        encounter_started = True

                    # draw objects to screen related to academia scenario ----------------------------------------------
                    if in_card_cave and not in_over_world and not in_shop and not in_inn and not in_npc_interaction \
                            and not in_battle:

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(card_shop_bg, (0, 0))
                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            screen.blit(leave_button.surf, leave_button.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            if not trading_task_complete:
                                screen.blit(quest_button.surf, quest_button.rect)
                            if trading_task_complete:
                                screen.blit(trade_button.surf, trade_button.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)

                        else:
                            game_window.blit(card_shop_bg, (0, 0))
                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if player.alive_status:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)
                            if not trading_task_complete:
                                game_window.blit(quest_button.surf, quest_button.rect)
                            if trading_task_complete:
                                game_window.blit(trade_button.surf, trade_button.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)

                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)
                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)

                        if show_cat_card:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(cat_card_portrait, (60, 105))
                            else:
                                game_window.blit(cat_card_portrait, (60, 105))

                        if show_trade_deck:
                            render_card_deck()

                        if len(drawing_functions.level_up_window) == 0:
                            if burned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_burned.surf, overlay_burned.rect)
                                else:
                                    game_window.blit(overlay_burned.surf, overlay_burned.rect)
                            if poisoned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                else:
                                    game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                            if bleeding:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                else:
                                    game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                            if crushed:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                                else:
                                    game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                # ------------------------------------------------------------------------------------------------------
                # ------------------------------------------------------------------------------------------------------
                # if player interacting with an npc (quest) ------------------------------------------------------------
                if in_npc_interaction and not in_over_world and not in_shop and not in_inn and not in_academia \
                        and not in_battle:

                    if player.current_zone == "korlok":
                        snow_fall_toc = time.perf_counter()
                        if snow_fall_toc - snow_fall_tic > 2:
                            match snow_fall_phase:
                                case 0:
                                    korlok_interaction_snowfall.update(238, 156, graphic_dict["korlok_snowfall_1"])
                                    snow_fall_phase = 1
                                    snow_fall_tic = time.perf_counter()
                                case 1:
                                    korlok_interaction_snowfall.update(238, 156, graphic_dict["korlok_snowfall_2"])
                                    snow_fall_phase = 2
                                    snow_fall_tic = time.perf_counter()
                                case 2:
                                    korlok_interaction_snowfall.update(238, 156, graphic_dict["korlok_snowfall_3"])
                                    snow_fall_phase = 0
                                    snow_fall_tic = time.perf_counter()

                    if not npc_text_reset:
                        info_text_1 = "Press the 'Talk' button to interact"
                        info_text_2 = "with the NPC. "
                        info_text_3 = ""
                        info_text_4 = ""

                    for event in pygame.event.get():
                        if event.type == KEYDOWN:
                            if event.key == K_ESCAPE:
                                movement_able = True
                                interacted = False
                                encounter_started = False
                                in_npc_interaction = False
                                in_over_world = True
                                quest_clicked = False
                                npc_text_reset = False
                                drawing_functions.quest_complete_box.clear()
                                drawing_functions.quest_box.clear()
                                drawing_functions.type_advantage_window.clear()
                                drawing_functions.quest_accept_box.clear()
                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        button_highlighted = button_highlighter(pos)

                        if overlay_burned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if burned:
                                drawing_functions.condition_description_window.append(overlay_burned_desc)
                        elif overlay_poisoned.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if poisoned:
                                drawing_functions.condition_description_window.append(overlay_poisoned_desc)
                        elif overlay_bleeding.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if bleeding:
                                drawing_functions.condition_description_window.append(overlay_bleeding_desc)
                        elif overlay_crushed.rect.collidepoint(pos):
                            drawing_functions.condition_description_window.clear()
                            if crushed:
                                drawing_functions.condition_description_window.append(overlay_crushed_desc)
                        else:
                            drawing_functions.condition_description_window.clear()

                        if flower_button.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.flower_pop_up_window.append(flower_count_overlay)
                        else:
                            drawing_functions.flower_pop_up_window.clear()
                            drawing_functions.flower_pop_up_window_text.clear()

                        if fish_button_count.collidepoint(pos):
                            if (len(drawing_functions.fish_pop_up_window) == 0 and
                                    len(drawing_functions.flower_pop_up_window) == 0):
                                drawing_functions.fish_pop_up_window.append(fish_count_overlay)
                        else:
                            drawing_functions.fish_pop_up_window.clear()
                            drawing_functions.fish_pop_up_window_text.clear()

                        if event.type == pygame.MOUSEBUTTONUP:
                            if show_cat_card:
                                show_cat_card = False
                            if trading_deck:
                                if (len(drawing_functions.quest_box) == 0 and
                                        len(drawing_functions.quest_box_trading) == 0 and
                                        len(drawing_functions.quest_box_fishing) == 0):
                                    if card_deck_button.rect.collidepoint(pos):
                                        match show_trade_deck:
                                            case True:
                                                show_trade_deck = False
                                            case False:
                                                pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                                show_trade_deck = True
                            if npc_garan.gift:
                                gameplay_functions.role_swap(pygame, player, pos, graphic_dict, staff, sword, bow,
                                                             pressed_keys, sfx_button_role)
                            if garan_complete_quest_window.rect.collidepoint(pos):
                                drawing_functions.quest_complete_box.clear()
                            if level_up_win.rect.collidepoint(pos):
                                drawing_functions.level_up_draw(level_up_win, player, font, False)
                            if role_select_overlay.rect.collidepoint(pos):
                                drawing_functions.type_advantage_window.clear()
                            if quest_accepted.rect.collidepoint(pos):
                                drawing_functions.quest_accept_box.clear()
                            if game_guide_overlay.rect.collidepoint(pos):
                                drawing_functions.game_guide_container.clear()

                        # npc was interacted with, if quest button clicked get npc name and check quest progress
                        npc_button = click_handlers.npc_event_button(event, quest_button, leave_button, pygame,
                                                                     sfx_sheet_paper, SCREEN_WIDTH, SCREEN_HEIGHT,
                                                                     False)
                        # in quest window pop-up, if accept or decline buttons are clicked
                        quest_buttons = click_handlers.quest_event_button(event, accept_button, decline_button, pygame,
                                                                          SCREEN_WIDTH, SCREEN_HEIGHT)
                        # options once quest window is open ------------------------------------------------------------
                        if len(drawing_functions.quest_box) > 1:
                            if quest_buttons == "accept":
                                info_text_1 = "You've accepted the quest!"
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""
                                if current_npc_interacting.name != "Garan":
                                    if current_npc_interacting.name != "Artherian":
                                        if current_npc_interacting.name != "Maydria":
                                            drawing_functions.quest_accept_box.append(quest_accepted)
                                        else:
                                            info_text_1 = "You've accepted the quest!"
                                            info_text_2 = ""
                                            info_text_3 = ""
                                            info_text_4 = ""
                                            drawing_functions.quest_accept_box.append(quest_accepted)
                                            task_star_maydria.update(860, 128, graphic_dict["maydria_progress_star"])
                                            npc_maydria.gift = True
                                    else:
                                        info_text_1 = "You've accepted the quest"
                                        info_text_2 = ""
                                        info_text_3 = ""
                                        info_text_4 = ""
                                        drawing_functions.quest_accept_box.append(quest_accepted)
                                        task_star_artherian.update(210, 400, graphic_dict["artherian_progress_star"])
                                        artherian_task_start = True
                                pygame.mixer.find_channel(True).play(sfx_quest_start)
                                button_highlighted = False
                                if current_npc_interacting.name == "Garan":
                                    player.quest_status["sneaky snakes"] = True
                                    player.current_quests["sneaky snakes"] = \
                                        "Garan asked you to defeat snakes near the river."
                                    if not npc_garan.gift:
                                        player.items.append(Item("big health potion",
                                                                 "potion", 200, 200, graphic_dict["health_pot_img"], 0))
                                        player.items.append(Item("cure poison potion",
                                                                 "potion", 200, 200, graphic_dict["poison_cure"], 0))
                                        npc_garan.gift = True
                                        drawing_functions.type_advantage_window.append(role_select_overlay)
                                if current_npc_interacting.name == "Maurelle":
                                    player.quest_status["village repairs"] = True
                                    player.current_quests["village repairs"] = "Maurelle asked you to " \
                                                                               "gather lumber from nearby trees."
                                if current_npc_interacting.name == "Celeste":
                                    player.quest_status["where's nede?"] = True
                                    player.current_quests["where's nede?"] = "Celeste asked you to find her pet " \
                                                                             "dog Nede. "
                                if current_npc_interacting.name == "Torune":
                                    player.quest_status["ghouled again"] = True
                                    player.current_quests["ghouled again"] = "Torune asked you to defeat " \
                                                                             "ghouls nearby the Castle wall."
                                if current_npc_interacting.name == "Voruke":
                                    player.quest_status["band hammer"] = True
                                    player.current_quests["band hammer"] = "Voruke asked you to defeat bandiles " \
                                                                           "in the mines. "
                                if current_npc_interacting.name == "Zerah":
                                    player.quest_status["elementary elementals"] = True
                                    player.current_quests["elementary elementals"] = "Zerah asked you to defeat " \
                                                                                     "magmons near the lava pool. "
                                if current_npc_interacting.name == "Dionte":
                                    player.quest_status["it's dangerous to go alone"] = True
                                    player.current_quests["it's dangerous to go alone"] = "Dionte asked you to face " \
                                                                                          "the monster in the cave."
                                if current_npc_interacting.name == "Omoku":
                                    player.quest_status["kart troubles"] = True
                                    player.current_quests["kart troubles"] = "Omoku asked if you could pick up his " \
                                                                             "stray supplies."
                                if current_npc_interacting.name == "Leyre":
                                    player.quest_status["las escondidas"] = True
                                    player.current_quests["las escondidas"] = "Leyre is playing hide and seek with " \
                                                                              "you! Try to find her."
                                if current_npc_interacting.name == "Everett":
                                    player.quest_status["shades of fear"] = True
                                    player.current_quests["shades of fear"] = "Everett hopes you'll defeat some " \
                                                                              "of the Necrolas around. "
                                if current_npc_interacting.name == "Kuba":
                                    player.quest_status["welcome to consona"] = True
                                    player.current_quests["welcome to consona"] = "Find Nahun in the Korlok District."
                                    player.quest_progress["welcome to consona"] = 1
                                if current_npc_interacting.name == "Nahun":
                                    player.quest_status["disenchanted"] = True
                                    player.current_quests["disenchanted"] = ("Find Illisare within Ectrenos in "
                                                                             "the Eldream District.")
                                    player.quest_progress["disenchanted"] = 1
                                if current_npc_interacting.name == "Illisare":
                                    player.quest_status["madness in marrow"] = True
                                    player.current_quests["madness in marrow"] = "Find the Vanguard in Marrow."
                                    player.quest_progress["madness in marrow"] = 1
                                if current_npc_interacting.name == "Roroc":
                                    player.quest_status["re recycling"] = True
                                    player.current_quests["re recycling"] = ("Look for construct parts inside "
                                                                             "Marrow Castle. ")
                                quest_clicked = False
                                drawing_functions.quest_box.clear()

                            # if player chooses to decline, just close the quest window
                            if quest_buttons == "decline":
                                info_text_1 = ""
                                quest_clicked = False
                                button_highlighted = False
                                drawing_functions.quest_box.clear()

                        # click handlers
                        info_choice = click_handlers.item_info_button(event, item_info_button, pygame, info_items,
                                                                      SCREEN_WIDTH, SCREEN_HEIGHT)
                        if info_choice == "yes":
                            inventory_event = click_handlers.inventory(pygame, player, current_info_item,
                                                                       sfx_item_potion, sfx_item_equip,
                                                                       sfx_item_whistle, sfx_item_snack, graphic_dict,
                                                                       SCREEN_WIDTH, SCREEN_HEIGHT, sfx_firework,
                                                                       sfx_skill_learn, poisoned, burned, bleeding,
                                                                       crushed, font, sfx_role_level,
                                                                       role_level_up_popup)
                            try:
                                if inventory_event["cat card"]:
                                    pygame.mixer.find_channel(True).play(sfx_sheet_paper)
                                    show_cat_card = True
                            except KeyError:
                                pass
                            try:
                                poisoned = inventory_event["poisoned"]
                            except KeyError:
                                pass
                            try:
                                burned = inventory_event["burned"]
                            except KeyError:
                                pass
                            try:
                                bleeding = inventory_event["bleeding"]
                            except KeyError:
                                pass
                            try:
                                crushed = inventory_event["crushed"]
                            except KeyError:
                                pass
                            if inventory_event["item message"] != "":
                                info_text_1 = inventory_event["item message"]
                                info_text_2 = ""
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False
                        if info_choice == "no":
                            drawing_functions.item_info_window.clear()
                            button_highlighted = False
                        inventory_item_clicked = click_handlers.inventory_event_item(event, pygame,
                                                                                     SCREEN_WIDTH, SCREEN_HEIGHT)
                        if inventory_item_clicked["clicked"]:
                            pygame.mixer.find_channel(True).play(sfx_button_inventory)
                            current_info_item = drawing_functions.item_info_draw(inventory_item_clicked["element"],
                                                                                 info_items, item_info_button,
                                                                                 graphic_dict)
                        # function to handle equipment item clicks. apply item message to message box if not empty str.
                        if len(drawing_functions.item_info_window) == 0:
                            equipment_event = click_handlers.equipment(player, event, pygame, basic_armor, forged_armor,
                                                                       mythical_armor, legendary_armor, power_gloves,
                                                                       chroma_boots, sfx_item_equip,
                                                                       SCREEN_WIDTH, SCREEN_HEIGHT, graphic_dict,
                                                                       neras_grace, arens_strength, spirit_of_wisdom)
                            if equipment_event["equipment message"] != "":
                                button_highlighted = False
                                info_text_1 = equipment_event["equipment message"]
                                info_text_2 = ""

                        if npc_button == "quest":
                            npc_text_reset = True
                            if first_npc_cond:
                                first_npc_cond = False
                            # garan npc, check player's quest progress and reward if completed -------------------------
                            if current_npc_interacting.name == "Garan":
                                if player.quest_progress["sneaky snakes"] == 4 and not \
                                        player.quest_complete["sneaky snakes"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["sneaky snakes"] = True
                                    player.current_quests["sneaky snakes"] = "You completed this quest!"
                                    info_text_1 = "You've completed Garan's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    player.rupees += 10
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["amuna"] += 10

                                if not quest_clicked:
                                    if not player.quest_complete["sneaky snakes"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window,
                                                                         maurelle_quest_window, celeste_quest_window,
                                                                         torune_quest_window, voruke_quest_window,
                                                                         zerah_quest_window, kirean_quest_window,
                                                                         dionte_quest_window, accept_button,
                                                                         decline_button, omoku_quest_window,
                                                                         leyre_quest_window, aitor_quest_window,
                                                                         everett_quest_window, artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not garan_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            garan_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # celeste npc, check player's quest progress and reward if completed -----------------------
                            if current_npc_interacting.name == "Celeste":
                                if player.quest_progress["where's nede?"] == 1 and not \
                                        player.quest_complete["where's nede?"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    nede.update(nede.x_coordinate, nede.y_coordinate, graphic_dict["nede_left"])
                                    player.quest_complete["where's nede?"] = True
                                    player.current_quests["where's nede?"] = "You completed this quest!"
                                    info_text_1 = "You've completed Celeste's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["sorae"] += 10
                                if not quest_clicked:
                                    if not player.quest_complete["where's nede?"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window, maurelle_quest_window,
                                                                         celeste_quest_window, torune_quest_window,
                                                                         voruke_quest_window, zerah_quest_window,
                                                                         kirean_quest_window, dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window, everett_quest_window,
                                                                         artherian_task_window, artherian_task_window_2,
                                                                         artherian_1, artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not celeste_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            celeste_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # maurelle npc, check player's quest progress and reward if completed ----------------------
                            if current_npc_interacting.name == "Maurelle":
                                if player.quest_progress["village repairs"] == 4 and not \
                                        player.quest_complete["village repairs"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["village repairs"] = True
                                    player.current_quests["village repairs"] = "You completed this quest!"
                                    info_text_1 = "You've completed Maurelle's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["amuna"] += 10
                                    player.rupees += 10
                                    for item_1 in player.items:
                                        if item_1.name == "pine log":
                                            player.items.remove(item_1)
                                    for item_2 in player.items:
                                        if item_2.name == "pine log":
                                            player.items.remove(item_2)
                                    for item_3 in player.items:
                                        if item_3.name == "pine log":
                                            player.items.remove(item_3)

                                if not quest_clicked:
                                    if not player.quest_complete["village repairs"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window,
                                                                         maurelle_quest_window, celeste_quest_window,
                                                                         torune_quest_window, voruke_quest_window,
                                                                         zerah_quest_window, kirean_quest_window,
                                                                         dionte_quest_window, accept_button,
                                                                         decline_button, omoku_quest_window,
                                                                         leyre_quest_window, aitor_quest_window,
                                                                         everett_quest_window, artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not maurelle_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            maurelle_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # torune npc, check player's quest progress and reward if completed ------------------------
                            if current_npc_interacting.name == "Torune":
                                if player.quest_progress["ghouled again"] == 4 and not \
                                        player.quest_complete["ghouled again"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["ghouled again"] = True
                                    player.current_quests["ghouled again"] = "You completed this quest!"
                                    info_text_1 = "You've completed Torune's quest!"
                                    info_text_2 = "Your game has been saved. "
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["nuldar"] += 10

                                if not quest_clicked:
                                    if not player.quest_complete["ghouled again"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window,
                                                                         maurelle_quest_window, celeste_quest_window,
                                                                         torune_quest_window, voruke_quest_window,
                                                                         zerah_quest_window, kirean_quest_window,
                                                                         dionte_quest_window, accept_button,
                                                                         decline_button, omoku_quest_window,
                                                                         leyre_quest_window, aitor_quest_window,
                                                                         everett_quest_window, artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not torune_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            torune_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # voruke npc, check player's quest progress and reward if completed ------------------------
                            if current_npc_interacting.name == "Voruke":
                                if player.quest_progress["band hammer"] == 4 and not \
                                        player.quest_complete["band hammer"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["band hammer"] = True
                                    player.current_quests["band hammer"] = "You completed this quest!"
                                    info_text_1 = "You've completed Voruke's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["nuldar"] += 10
                                    player.rupees += 20

                                if not quest_clicked:
                                    if not player.quest_complete["band hammer"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window,
                                                                         maurelle_quest_window,
                                                                         celeste_quest_window,
                                                                         torune_quest_window, voruke_quest_window,
                                                                         zerah_quest_window, kirean_quest_window,
                                                                         dionte_quest_window, accept_button,
                                                                         decline_button, omoku_quest_window,
                                                                         leyre_quest_window, aitor_quest_window,
                                                                         everett_quest_window, artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not voruke_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            voruke_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # voruke npc, check player's quest progress and reward if completed ------------------------
                            if current_npc_interacting.name == "Zerah":
                                if player.quest_progress["elementary elementals"] == 4 and not \
                                        player.quest_complete["elementary elementals"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["elementary elementals"] = True
                                    player.current_quests["elementary elementals"] = "You completed this quest!"
                                    info_text_1 = "You've completed Zerah's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["nuldar"] += 10
                                    player.items.append(Item("mage book", "book", 200, 200,
                                                             graphic_dict["mage_book"], 0))
                                if not quest_clicked:
                                    if not player.quest_complete["elementary elementals"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window, maurelle_quest_window,
                                                                         celeste_quest_window, torune_quest_window,
                                                                         voruke_quest_window, zerah_quest_window,
                                                                         kirean_quest_window, dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window, everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not zerah_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            zerah_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # dionte npc, check player's quest progress and reward if completed ------------------------
                            if current_npc_interacting.name == "Dionte":
                                if player.quest_progress["it's dangerous to go alone"] == 1 and not \
                                        player.quest_complete["it's dangerous to go alone"]:

                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["it's dangerous to go alone"] = True
                                    player.current_quests["it's dangerous to go alone"] = "You completed this " \
                                                                                          "quest!"
                                    info_text_1 = "You've completed Dionte's quest!"
                                    info_text_2 = "Your game has been saved. "
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["amuna"] += 10

                                if not quest_clicked:
                                    if not player.quest_complete["it's dangerous to go alone"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window, maurelle_quest_window,
                                                                         celeste_quest_window, torune_quest_window,
                                                                         voruke_quest_window, zerah_quest_window,
                                                                         kirean_quest_window, dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window, everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not dionte_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            dionte_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # omoku npc, check player's quest progress and reward if completed -------------------------
                            if current_npc_interacting.name == "Omoku":
                                if player.quest_progress["kart troubles"] == 4 and not \
                                        player.quest_complete["kart troubles"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["kart troubles"] = True
                                    player.current_quests["kart troubles"] = "You completed this quest!"
                                    info_text_1 = "You've completed Omoku's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["nuldar"] += 10
                                    player.rupees += 30
                                    for item_1 in player.items:
                                        if item_1.name == "supplies":
                                            player.items.remove(item_1)
                                    for item_2 in player.items:
                                        if item_2.name == "supplies":
                                            player.items.remove(item_2)
                                    for item_3 in player.items:
                                        if item_3.name == "supplies":
                                            player.items.remove(item_3)
                                if not quest_clicked:
                                    if not player.quest_complete["kart troubles"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window, maurelle_quest_window,
                                                                         celeste_quest_window, torune_quest_window,
                                                                         voruke_quest_window, zerah_quest_window,
                                                                         kirean_quest_window, dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window, everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not omoku_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            omoku_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # leyre npc, check player's quest progress and reward if completed -------------------------
                            if current_npc_interacting.name == "Leyre":
                                if player.quest_progress["las escondidas"] == 4 and not \
                                        player.quest_complete["las escondidas"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["las escondidas"] = True
                                    player.current_quests["las escondidas"] = "You completed this quest!"
                                    info_text_1 = "You've completed Leyre's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["sorae"] += 10
                                    player.items.append(Item("eldream firework", "firework", 200, 200,
                                                             graphic_dict["eldream_firework"], 0))
                                if not quest_clicked:
                                    if not player.quest_complete["las escondidas"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window, maurelle_quest_window,
                                                                         celeste_quest_window, torune_quest_window,
                                                                         voruke_quest_window, zerah_quest_window,
                                                                         kirean_quest_window, dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window, everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not leyre_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            leyre_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # everett npc, check player's quest progress and reward if completed -----------------------
                            if current_npc_interacting.name == "Everett":
                                if player.quest_progress["shades of fear"] == 4 and not \
                                        player.quest_complete["shades of fear"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["shades of fear"] = True
                                    player.current_quests["shades of fear"] = "You completed this quest!"
                                    info_text_1 = "You've completed Everett's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["amuna"] += 10
                                    player.items.append(Item("scout book", "book", 200, 200,
                                                             graphic_dict["scout_book"], 0))
                                if not quest_clicked:
                                    if not player.quest_complete["shades of fear"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window, maurelle_quest_window,
                                                                         celeste_quest_window, torune_quest_window,
                                                                         voruke_quest_window, zerah_quest_window,
                                                                         kirean_quest_window, dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window, everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not everett_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window)
                                            everett_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # artherian npc, check player's task progress and reward if completed ----------------------
                            if current_npc_interacting.name == "Artherian":
                                shard_counter = 0
                                for item in player.items:
                                    if item.name == "bone shard":
                                        shard_counter += 1
                                if shard_counter >= 4 and not npc_artherian.gift:
                                    if len(player.items) < 17:
                                        for item_x in player.items:
                                            if item_x.name == "bone shard":
                                                player.items.remove(item_x)
                                        for item_y in player.items:
                                            if item_y.name == "bone shard":
                                                player.items.remove(item_y)
                                        for item_z in player.items:
                                            if item_z.name == "bone shard":
                                                player.items.remove(item_z)
                                        for x in range(shard_counter - 4):
                                            player.items.append(
                                                Item("bone shard", "shard", 200, 200, graphic_dict["bone_shard"], 0))
                                        pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                        info_text_1 = "You've completed Legends Never Die 1!"
                                        info_text_2 = ""
                                        info_text_3 = ""
                                        info_text_4 = ""
                                        player.items.append(Item("casing", "casing", 200, 200, graphic_dict["casing"],
                                                                 0))
                                        npc_artherian.gift = True
                                        task_star_artherian.update(210, 400, graphic_dict["artherian_progress_star"])
                                    else:
                                        info_text_1 = "You completed the quest, but "
                                        info_text_2 = "Your inventory is full!"
                                if not quest_clicked:
                                    if not npc_artherian.gift:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window,
                                                                         maurelle_quest_window,
                                                                         celeste_quest_window,
                                                                         torune_quest_window,
                                                                         voruke_quest_window,
                                                                         zerah_quest_window,
                                                                         kirean_quest_window,
                                                                         dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window,
                                                                         everett_quest_window, artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         kuba_quest_window, nahun_quest_window,
                                                                         illisare_quest_window,
                                                                         illisare_quest_window)
                                        quest_clicked = True
                                    else:  # artherian task 2
                                        if not artherian_2:
                                            drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                             garan_quest_window,
                                                                             maurelle_quest_window,
                                                                             celeste_quest_window,
                                                                             torune_quest_window,
                                                                             voruke_quest_window,
                                                                             zerah_quest_window,
                                                                             kirean_quest_window,
                                                                             dionte_quest_window,
                                                                             accept_button, decline_button,
                                                                             omoku_quest_window, leyre_quest_window,
                                                                             aitor_quest_window,
                                                                             everett_quest_window,
                                                                             artherian_task_window,
                                                                             artherian_task_window_2,
                                                                             npc_artherian.gift,
                                                                             artherian_task_window_2,
                                                                             kuba_quest_window,
                                                                             nahun_quest_window,
                                                                             illisare_quest_window,
                                                                             illisare_quest_window)
                                            quest_clicked = True
                                        else:
                                            if not npc_artherian.quest_complete:
                                                for item in player.items:
                                                    if item.name == "enchanted casing":
                                                        player.items.remove(item)
                                                player.items.append(Item("legendary armor", "armor", 200, 200,
                                                                         graphic_dict["legendary_armor"], 4))
                                                player.reputation["amuna"] += 10
                                                player.star_power += 1
                                                player.experience += 50
                                                if player.experience >= 100:
                                                    gameplay_functions.level_up(player, level_up_win, level_up_font)
                                                    leveled = True
                                                    level_visual = True
                                                    loot_level_tic = time.perf_counter()
                                                    level_visual_tic = time.perf_counter()
                                                    loot_timer_reset = False
                                                npc_artherian.quest_complete = True
                                            if not artherian_complete_shown:
                                                pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                                drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                      garan_complete_quest_window,
                                                                                      maurelle_complete_quest_window,
                                                                                      celeste_complete_quest_window,
                                                                                      torune_complete_quest_window,
                                                                                      voruke_complete_quest_window,
                                                                                      zerah_complete_quest_window,
                                                                                      kirean_complete_quest_window,
                                                                                      dionte_complete_quest_window,
                                                                                      omoku_complete_quest_window,
                                                                                      leyre_complete_quest_window,
                                                                                      aitor_complete_quest_window,
                                                                                      everett_complete_quest_window,
                                                                                      artherian_complete_window,
                                                                                      artherian_complete_window,
                                                                                      kuba_complete_window,
                                                                                      nahun_complete_window,
                                                                                      illisare_complete_window,
                                                                                      illisare_complete_window)
                                                artherian_complete_shown = True
                                                quest_clicked = True

                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # maydria npc, check player's quest progress and reward if completed -----------------------
                            if current_npc_interacting.name == "Maydria":
                                if (player.quest_progress["madness in marrow"] == 1
                                        and not player.quest_complete["madness in marrow"]):
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["madness in marrow"] = True
                                    player.current_quests["madness in marrow"] = "You completed this quest!"
                                    info_text_1 = "You've completed Illisare's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.reputation["sorae"] += 10
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False

                                if (npc_boro.quest_complete and npc_noren.quest_complete
                                        and not npc_maydria.quest_complete):
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    npc_maydria.quest_complete = True
                                    info_text_1 = "You've completed Maydria's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.reputation["amuna"] += 10
                                    player.reputation["sorae"] += 10
                                    player.reputation["nuldar"] += 10
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False

                                if not quest_clicked:
                                    if not kuba_complete_shown and player.quest_complete["madness in marrow"]:
                                        drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                              garan_complete_quest_window,
                                                                              maurelle_complete_quest_window,
                                                                              celeste_complete_quest_window,
                                                                              torune_complete_quest_window,
                                                                              voruke_complete_quest_window,
                                                                              zerah_complete_quest_window,
                                                                              kirean_complete_quest_window,
                                                                              dionte_complete_quest_window,
                                                                              omoku_complete_quest_window,
                                                                              leyre_complete_quest_window,
                                                                              aitor_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              everett_complete_quest_window,
                                                                              illisare_complete_window,
                                                                              illisare_complete_window,
                                                                              illisare_complete_window,
                                                                              illisare_complete_window,
                                                                              illisare_complete_window)
                                        kuba_complete_shown = True
                                        quest_clicked = True

                                    if not npc_maydria.quest_complete:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window, maurelle_quest_window,
                                                                         celeste_quest_window, torune_quest_window,
                                                                         voruke_quest_window, zerah_quest_window,
                                                                         kirean_quest_window, dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window, everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         maydria_task_window,
                                                                         maydria_task_window,
                                                                         maydria_task_window,
                                                                         maydria_task_window,
                                                                         maydria_task_window)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not maydria_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  maydria_complete_window,
                                                                                  maydria_complete_window,
                                                                                  maydria_complete_window,
                                                                                  maydria_complete_window,
                                                                                  maydria_complete_window)
                                            maydria_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # everett npc, check player's quest progress and reward if completed -----------------------
                            if current_npc_interacting.name == "Kuba":
                                if not quest_clicked:
                                    if not player.quest_complete["welcome to consona"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window,
                                                                         maurelle_quest_window,
                                                                         celeste_quest_window,
                                                                         torune_quest_window,
                                                                         voruke_quest_window,
                                                                         zerah_quest_window,
                                                                         kirean_quest_window,
                                                                         dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window,
                                                                         everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         kuba_quest_window,
                                                                         nahun_quest_window,
                                                                         illisare_quest_window,
                                                                         illisare_quest_window)
                                        quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # nahun npc, check player's quest progress and reward if completed -------------------------
                            if current_npc_interacting.name == "Nahun":
                                if player.quest_progress["welcome to consona"] == 1 and not \
                                        player.quest_complete["welcome to consona"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["welcome to consona"] = True
                                    player.current_quests["welcome to consona"] = "You completed this quest!"
                                    info_text_1 = "You've completed Kuba's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["nuldar"] += 10

                                if not quest_clicked:
                                    if not player.quest_complete["disenchanted"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window,
                                                                         maurelle_quest_window,
                                                                         celeste_quest_window,
                                                                         torune_quest_window,
                                                                         voruke_quest_window,
                                                                         zerah_quest_window,
                                                                         kirean_quest_window,
                                                                         dionte_quest_window, accept_button,
                                                                         decline_button, omoku_quest_window,
                                                                         leyre_quest_window, aitor_quest_window,
                                                                         everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         kuba_quest_window,
                                                                         nahun_quest_window,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2)
                                        quest_clicked = True
                                    if player.quest_complete["welcome to consona"]:
                                        if not nahun_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  nahun_complete_window,
                                                                                  kuba_complete_window,
                                                                                  nahun_complete_window,
                                                                                  nahun_complete_window,
                                                                                  nahun_complete_window)
                                            nahun_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # nahun npc, check player's quest progress and reward if completed -------------------------
                            if current_npc_interacting.name == "Illisare":
                                if player.quest_progress["disenchanted"] == 1 and not \
                                        player.quest_complete["disenchanted"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["disenchanted"] = True
                                    player.current_quests["disenchanted"] = "You completed this quest!"
                                    info_text_1 = "You've completed Nahun's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["nuldar"] += 10

                                if not quest_clicked:
                                    if not player.quest_complete["madness in marrow"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window,
                                                                         maurelle_quest_window,
                                                                         celeste_quest_window,
                                                                         torune_quest_window,
                                                                         voruke_quest_window,
                                                                         zerah_quest_window,
                                                                         kirean_quest_window,
                                                                         dionte_quest_window, accept_button,
                                                                         decline_button, omoku_quest_window,
                                                                         leyre_quest_window, aitor_quest_window,
                                                                         everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         kuba_quest_window,
                                                                         nahun_quest_window,
                                                                         illisare_quest_window,
                                                                         illisare_quest_window)
                                        quest_clicked = True
                                    if player.quest_complete["disenchanted"]:
                                        if not illisare_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  nahun_complete_window,
                                                                                  kuba_complete_window,
                                                                                  nahun_complete_window,
                                                                                  nahun_complete_window,
                                                                                  nahun_complete_window)
                                            illisare_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                            # roroc npc, check player's quest progress and reward if completed -------------------------
                            if current_npc_interacting.name == "Roroc":
                                if player.quest_progress["re recycling"] == 4 and not \
                                        player.quest_complete["re recycling"]:
                                    pygame.mixer.find_channel(True).play(sfx_quest_complete)
                                    player.quest_complete["re recycling"] = True
                                    player.current_quests["re recycling"] = "You completed this quest!"
                                    info_text_1 = "You've completed Roroc's quest!"
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    player.star_power += 1
                                    player.experience += 50
                                    player.rupees += 40
                                    recycle_crate.update(recycle_crate.x_coordinate, recycle_crate.y_coordinate,
                                                         graphic_dict["recycle_crate_full"])
                                    recycle_crate_overlay.update(recycle_crate_overlay.x_coordinate,
                                                                 recycle_crate_overlay.y_coordinate,
                                                                 graphic_dict["recycle_crate_overlay_full"])
                                    if player.experience >= 100:
                                        gameplay_functions.level_up(player, level_up_win, level_up_font)
                                        leveled = True
                                        level_visual = True
                                        loot_level_tic = time.perf_counter()
                                        level_visual_tic = time.perf_counter()
                                        loot_timer_reset = False
                                    player.reputation["nuldar"] += 10
                                    for item_1 in player.items:
                                        if item_1.name == "construct part":
                                            player.items.remove(item_1)
                                    for item_2 in player.items:
                                        if item_2.name == "construct part":
                                            player.items.remove(item_2)
                                    for item_3 in player.items:
                                        if item_3.name == "construct part":
                                            player.items.remove(item_3)

                                if not quest_clicked:
                                    if not player.quest_complete["re recycling"]:
                                        drawing_functions.quest_box_draw(current_npc_interacting, True,
                                                                         garan_quest_window,
                                                                         maurelle_quest_window,
                                                                         celeste_quest_window,
                                                                         torune_quest_window,
                                                                         voruke_quest_window,
                                                                         zerah_quest_window,
                                                                         kirean_quest_window,
                                                                         dionte_quest_window,
                                                                         accept_button, decline_button,
                                                                         omoku_quest_window, leyre_quest_window,
                                                                         aitor_quest_window,
                                                                         everett_quest_window,
                                                                         artherian_task_window,
                                                                         artherian_task_window_2, artherian_1,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         artherian_task_window_2,
                                                                         roroc_quest_window)
                                        quest_clicked = True
                                    else:  # quest complete popup
                                        if not roroc_complete_shown:
                                            drawing_functions.quest_complete_draw(current_npc_interacting, True,
                                                                                  garan_complete_quest_window,
                                                                                  maurelle_complete_quest_window,
                                                                                  celeste_complete_quest_window,
                                                                                  torune_complete_quest_window,
                                                                                  voruke_complete_quest_window,
                                                                                  zerah_complete_quest_window,
                                                                                  kirean_complete_quest_window,
                                                                                  dionte_complete_quest_window,
                                                                                  omoku_complete_quest_window,
                                                                                  leyre_complete_quest_window,
                                                                                  aitor_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  everett_complete_quest_window,
                                                                                  roroc_complete_window)
                                            roroc_complete_shown = True
                                            quest_clicked = True
                                else:
                                    drawing_functions.quest_box.clear()
                                    quest_clicked = False

                        if npc_button == "leave":
                            movement_able = True
                            interacted = False
                            encounter_started = False
                            in_npc_interaction = False
                            in_over_world = True
                            quest_clicked = False
                            npc_text_reset = False
                            drawing_functions.quest_complete_box.clear()
                            drawing_functions.quest_box.clear()
                            drawing_functions.type_advantage_window.clear()
                            drawing_functions.quest_accept_box.clear()

                    # outside event loop -------------------------------------------------------------------------------
                    if not encounter_started:
                        info_text_1 = ""
                        info_text_2 = ""
                        info_text_3 = ""
                        info_text_4 = ""
                        encounter_started = True

                    # draw objects to screen related to npc interaction scenario ---------------------------------------
                    if in_npc_interaction and not in_over_world and not in_shop and not in_inn and not \
                            in_academia and not in_battle:

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if player.current_zone == "nascent":
                                screen.blit(nascent_interaction_screen, (0, 0))
                            if player.current_zone == "seldon":
                                screen.blit(seldon_district_battle, (0, 0))
                            if player.current_zone == "korlok":
                                screen.blit(korlok_district_battle, (0, 0))
                                screen.blit(korlok_interaction_snowfall.surf,
                                            korlok_interaction_snowfall.rect)
                            if player.current_zone == "terra trail":
                                screen.blit(terra_trail_screen, (0, 0))
                            if player.current_zone == "eldream":
                                screen.blit(eldream_interaction_bg, (0, 0))
                            if player.current_zone == "ectrenos":
                                screen.blit(ectrenos_interaction_bg, (0, 0))
                            if player.current_zone == "ectrenos front":
                                screen.blit(ectrenos_front_interaction_bg, (0, 0))
                            if player.current_zone == "marrow":
                                screen.blit(marrow_interaction_bg, (0, 0))

                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            combat_scenario.battle_animation_player(player, player_battle_sprite, barrier_active,
                                                                    sharp_sense_active, graphic_dict,
                                                                    kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                    kasper_battle_sprite, torok_battle_sprite,
                                                                    iriana_battle_sprite)
                            # noinspection PyUnboundLocalVariable
                            if current_npc_interacting.name == "Garan":
                                screen.blit(npc_garan_interaction.surf, npc_garan_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Maurelle":
                                if player.quest_complete["village repairs"]:
                                    quest_visual.update(880, 250, graphic_dict["pine_logs_big_pile_img"])
                                    screen.blit(quest_visual.surf, quest_visual.rect)
                                else:
                                    quest_visual.update(880, 250, graphic_dict["pine_logs_big_img"])
                                    screen.blit(quest_visual.surf, quest_visual.rect)
                                screen.blit(npc_maurelle_interaction.surf, npc_maurelle_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Celeste":
                                if player.quest_progress["where's nede?"] == 1:
                                    screen.blit(nede_big.surf, nede_big.rect)
                                screen.blit(npc_celeste_interaction.surf, npc_celeste_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Torune":
                                screen.blit(npc_torune_interaction.surf, npc_torune_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Voruke":
                                screen.blit(npc_voruke_interaction.surf, npc_voruke_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Zerah":
                                screen.blit(npc_zerah_interaction.surf, npc_zerah_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Dionte":
                                screen.blit(npc_dionte_interaction.surf, npc_dionte_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Omoku":
                                if player.quest_complete["kart troubles"]:
                                    quest_visual.update(862, 295, graphic_dict["kart_full"])
                                    screen.blit(quest_visual.surf, quest_visual.rect)
                                screen.blit(npc_omoku_interaction.surf, npc_omoku_interaction.rect)
                                npc_name_plate.update(606, 193, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Leyre":
                                screen.blit(npc_leyre_interaction.surf, npc_leyre_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Everett":
                                screen.blit(npc_everett_interaction.surf, npc_everett_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Artherian":
                                screen.blit(npc_artherian_interaction.surf, npc_artherian_interaction.rect)
                                npc_name_plate.update(680, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Maydria":
                                screen.blit(npc_maydria_interaction.surf, npc_maydria_interaction.rect)
                                npc_name_plate.update(685, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Kuba":
                                screen.blit(npc_kuba_interaction.surf, npc_kuba_interaction.rect)
                                npc_name_plate.update(678, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Nahun":
                                screen.blit(npc_nahun_interaction.surf, npc_nahun_interaction.rect)
                                npc_name_plate.update(678, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Illisare":
                                screen.blit(npc_illisare_interaction.surf, npc_illisare_interaction.rect)
                                npc_name_plate.update(678, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Roroc":
                                screen.blit(recycle_crate_overlay.surf, recycle_crate_overlay.rect)
                                screen.blit(npc_roroc_interaction.surf, npc_roroc_interaction.rect)
                                npc_name_plate.update(678, 175, graphic_dict["npc_name_plate"])

                            screen.blit(player_battle_sprite.surf, player_battle_sprite.rect)

                            if player.current_zone != "ectrenos":
                                if time_of_day == 0:
                                    screen.blit(dawn, (0, 0))
                                if time_of_day == 1:
                                    screen.blit(early_morning, (0, 0))
                                if time_of_day == 2:
                                    screen.blit(morning, (0, 0))
                                if time_of_day == 4:
                                    screen.blit(early_afternoon, (0, 0))
                                if time_of_day == 5:
                                    screen.blit(afternoon, (0, 0))
                                if time_of_day == 6:
                                    screen.blit(dusk, (0, 0))
                                if time_of_day == 7:
                                    screen.blit(night, (0, 0))

                            if current_npc_interacting.name == "Kuba":
                                if not player.quest_complete["welcome to consona"]:
                                    if player.quest_status["welcome to consona"]:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Garan":
                                if not player.quest_complete["sneaky snakes"]:
                                    if (player.quest_status["sneaky snakes"] and
                                            player.quest_progress["sneaky snakes"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["sneaky snakes"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Maurelle":
                                if not player.quest_complete["village repairs"]:
                                    if (player.quest_status["village repairs"] and
                                            player.quest_progress["village repairs"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["village repairs"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Celeste":
                                if not player.quest_complete["where's nede?"]:
                                    if (player.quest_status["where's nede?"] and
                                            player.quest_progress["where's nede?"] != 1):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["where's nede?"] == 1:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Torune":
                                if not player.quest_complete["ghouled again"]:
                                    if (player.quest_status["ghouled again"] and
                                            player.quest_progress["ghouled again"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["ghouled again"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Voruke":
                                if not player.quest_complete["band hammer"]:
                                    if player.quest_status["band hammer"] and player.quest_progress["band hammer"] != 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["band hammer"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Zerah":
                                if not player.quest_complete["elementary elementals"]:
                                    if (player.quest_status["elementary elementals"] and
                                            player.quest_progress["elementary elementals"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["elementary elementals"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Dionte":
                                if not player.quest_complete["it's dangerous to go alone"]:
                                    if (player.quest_status["it's dangerous to go alone"] and
                                            player.quest_progress["it's dangerous to go alone"] != 1):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["it's dangerous to go alone"] == 1:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Omoku":
                                if not player.quest_complete["kart troubles"]:
                                    if (player.quest_status["kart troubles"] and
                                            player.quest_progress["kart troubles"] != 4):
                                        npc_interaction_star.update(608, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["kart troubles"] == 4:
                                        npc_interaction_star.update(608, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(608, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Leyre":
                                if not player.quest_complete["las escondidas"]:
                                    if (player.quest_status["las escondidas"] and
                                            player.quest_progress["las escondidas"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["las escondidas"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Everett":
                                if not player.quest_complete["shades of fear"]:
                                    if (player.quest_status["shades of fear"] and
                                            player.quest_progress["shades of fear"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["shades of fear"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Artherian":
                                if not npc_artherian.quest_complete:
                                    if artherian_task_start and not artherian_2:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif artherian_2:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Maydria":
                                if not npc_maydria.quest_complete:
                                    if (player.quest_status["madness in marrow"]
                                            and not player.quest_complete["madness in marrow"]):
                                        npc_interaction_star.update(688, 90, graphic_dict["interaction_complete_star"])
                                    if (npc_maydria.gift and not npc_boro.quest_complete
                                            and not npc_noren.quest_complete):
                                        npc_interaction_star.update(688, 90, graphic_dict["interaction_progress_star"])
                                    elif npc_boro.quest_complete and npc_noren.quest_complete:
                                        npc_interaction_star.update(688, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        if player.quest_complete["madness in marrow"]:
                                            npc_interaction_star.update(688, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Nahun":
                                if not player.quest_complete["disenchanted"]:
                                    if player.quest_progress["welcome to consona"] == 1:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    if player.quest_status["disenchanted"]:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    else:
                                        if player.quest_complete["welcome to consona"]:
                                            npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Illisare":
                                if not player.quest_complete["madness in marrow"]:
                                    if player.quest_progress["disenchanted"] == 1:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    if player.quest_status["madness in marrow"]:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    else:
                                        if player.quest_complete["disenchanted"]:
                                            npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Roroc":
                                if not player.quest_complete["re recycling"]:
                                    if (player.quest_status["re recycling"] and
                                            player.quest_progress["re recycling"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["re recycling"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    screen.blit(npc_interaction_star.surf, npc_interaction_star.rect)

                            screen.blit(equipment_screen.surf, equipment_screen.rect)
                            screen.blit(offense_meter.surf, offense_meter.rect)
                            screen.blit(defense_meter.surf, defense_meter.rect)
                            if player.alive_status:
                                screen.blit(bar_backdrop.surf, bar_backdrop.rect)
                                screen.blit(hp_bar.surf, hp_bar.rect)
                                screen.blit(en_bar.surf, en_bar.rect)
                                screen.blit(xp_bar.surf, xp_bar.rect)
                            screen.blit(leave_button.surf, leave_button.rect)
                            screen.blit(quest_button.surf, quest_button.rect)
                            screen.blit(npc_name_plate.surf, npc_name_plate.rect)
                            screen.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                screen.blit(star_power_meter.surf, star_power_meter.rect)

                        else:
                            if player.current_zone == "nascent":
                                game_window.blit(nascent_interaction_screen, (0, 0))
                            if player.current_zone == "seldon":
                                game_window.blit(seldon_district_battle, (0, 0))
                            if player.current_zone == "korlok":
                                game_window.blit(korlok_district_battle, (0, 0))
                                game_window.blit(korlok_interaction_snowfall.surf,
                                                 korlok_interaction_snowfall.rect)
                            if player.current_zone == "terra trail":
                                game_window.blit(terra_trail_screen, (0, 0))
                            if player.current_zone == "eldream":
                                game_window.blit(eldream_interaction_bg, (0, 0))
                            if player.current_zone == "ectrenos":
                                game_window.blit(ectrenos_interaction_bg, (0, 0))
                            if player.current_zone == "ectrenos front":
                                game_window.blit(ectrenos_front_interaction_bg, (0, 0))
                            if player.current_zone == "marrow":
                                game_window.blit(marrow_interaction_bg, (0, 0))

                            drawing_functions.weapon_draw(player, graphic_dict, staff, sword, bow, npc_garan,
                                                          weapon_select, apothis_upgrade)
                            combat_scenario.battle_animation_player(player, player_battle_sprite, barrier_active,
                                                                    sharp_sense_active, graphic_dict,
                                                                    kasper_unlocked, torok_unlocked, iriana_unlocked,
                                                                    kasper_battle_sprite, torok_battle_sprite,
                                                                    iriana_battle_sprite)
                            # noinspection PyUnboundLocalVariable
                            if current_npc_interacting.name == "Garan":
                                game_window.blit(npc_garan_interaction.surf, npc_garan_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Maurelle":
                                if player.quest_complete["village repairs"]:
                                    quest_visual.update(880, 250, graphic_dict["pine_logs_big_pile_img"])
                                    game_window.blit(quest_visual.surf, quest_visual.rect)
                                else:
                                    quest_visual.update(880, 250, graphic_dict["pine_logs_big_img"])
                                    game_window.blit(quest_visual.surf, quest_visual.rect)
                                game_window.blit(npc_maurelle_interaction.surf, npc_maurelle_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Celeste":
                                if player.quest_progress["where's nede?"] == 1:
                                    game_window.blit(nede_big.surf, nede_big.rect)
                                game_window.blit(npc_celeste_interaction.surf, npc_celeste_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Torune":
                                game_window.blit(npc_torune_interaction.surf, npc_torune_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Voruke":
                                game_window.blit(npc_voruke_interaction.surf, npc_voruke_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Zerah":
                                game_window.blit(npc_zerah_interaction.surf, npc_zerah_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Dionte":
                                game_window.blit(npc_dionte_interaction.surf, npc_dionte_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Omoku":
                                if player.quest_complete["kart troubles"]:
                                    quest_visual.update(865, 295, graphic_dict["kart_full"])
                                    game_window.blit(quest_visual.surf, quest_visual.rect)
                                game_window.blit(npc_omoku_interaction.surf, npc_omoku_interaction.rect)
                                npc_name_plate.update(606, 193, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Leyre":
                                game_window.blit(npc_leyre_interaction.surf, npc_leyre_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Everett":
                                game_window.blit(npc_everett_interaction.surf, npc_everett_interaction.rect)
                                npc_name_plate.update(675, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Artherian":
                                game_window.blit(npc_artherian_interaction.surf, npc_artherian_interaction.rect)
                                npc_name_plate.update(680, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Maydria":
                                game_window.blit(npc_maydria_interaction.surf, npc_maydria_interaction.rect)
                                npc_name_plate.update(685, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Kuba":
                                game_window.blit(npc_kuba_interaction.surf, npc_kuba_interaction.rect)
                                npc_name_plate.update(678, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Nahun":
                                game_window.blit(npc_nahun_interaction.surf, npc_nahun_interaction.rect)
                                npc_name_plate.update(678, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Illisare":
                                game_window.blit(npc_illisare_interaction.surf, npc_illisare_interaction.rect)
                                npc_name_plate.update(678, 175, graphic_dict["npc_name_plate"])
                            if current_npc_interacting.name == "Roroc":
                                game_window.blit(recycle_crate_overlay.surf, recycle_crate_overlay.rect)
                                game_window.blit(npc_roroc_interaction.surf, npc_roroc_interaction.rect)
                                npc_name_plate.update(678, 175, graphic_dict["npc_name_plate"])

                            game_window.blit(player_battle_sprite.surf, player_battle_sprite.rect)

                            if player.current_zone != "ectrenos":
                                if time_of_day == 0:
                                    game_window.blit(dawn, (0, 0))
                                if time_of_day == 1:
                                    game_window.blit(early_morning, (0, 0))
                                if time_of_day == 2:
                                    game_window.blit(morning, (0, 0))
                                if time_of_day == 4:
                                    game_window.blit(early_afternoon, (0, 0))
                                if time_of_day == 5:
                                    game_window.blit(afternoon, (0, 0))
                                if time_of_day == 6:
                                    game_window.blit(dusk, (0, 0))
                                if time_of_day == 7:
                                    game_window.blit(night, (0, 0))

                            if current_npc_interacting.name == "Kuba":
                                if not player.quest_complete["welcome to consona"]:
                                    if player.quest_status["welcome to consona"]:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Garan":
                                if not player.quest_complete["sneaky snakes"]:
                                    if (player.quest_status["sneaky snakes"] and
                                            player.quest_progress["sneaky snakes"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["sneaky snakes"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Maurelle":
                                if not player.quest_complete["village repairs"]:
                                    if (player.quest_status["village repairs"] and
                                            player.quest_progress["village repairs"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["village repairs"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Celeste":
                                if not player.quest_complete["where's nede?"]:
                                    if (player.quest_status["where's nede?"] and
                                            player.quest_progress["where's nede?"] != 1):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["where's nede?"] == 1:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Torune":
                                if not player.quest_complete["ghouled again"]:
                                    if (player.quest_status["ghouled again"] and
                                            player.quest_progress["ghouled again"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["ghouled again"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Voruke":
                                if not player.quest_complete["band hammer"]:
                                    if player.quest_status["band hammer"] and player.quest_progress["band hammer"] != 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["band hammer"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Zerah":
                                if not player.quest_complete["elementary elementals"]:
                                    if (player.quest_status["elementary elementals"] and
                                            player.quest_progress["elementary elementals"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["elementary elementals"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Dionte":
                                if not player.quest_complete["it's dangerous to go alone"]:
                                    if (player.quest_status["it's dangerous to go alone"] and
                                            player.quest_progress["it's dangerous to go alone"] != 1):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["it's dangerous to go alone"] == 1:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Omoku":
                                if not player.quest_complete["kart troubles"]:
                                    if (player.quest_status["kart troubles"] and
                                            player.quest_progress["kart troubles"] != 4):
                                        npc_interaction_star.update(608, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["kart troubles"] == 4:
                                        npc_interaction_star.update(608, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(608, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Leyre":
                                if not player.quest_complete["las escondidas"]:
                                    if (player.quest_status["las escondidas"] and
                                            player.quest_progress["las escondidas"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["las escondidas"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Everett":
                                if not player.quest_complete["shades of fear"]:
                                    if (player.quest_status["shades of fear"] and
                                            player.quest_progress["shades of fear"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["shades of fear"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Artherian":
                                if not npc_artherian.quest_complete:
                                    if artherian_task_start and not artherian_2:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif artherian_2:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Maydria":
                                if not npc_maydria.quest_complete:
                                    if (player.quest_status["madness in marrow"]
                                            and not player.quest_complete["madness in marrow"]):
                                        npc_interaction_star.update(688, 90, graphic_dict["interaction_complete_star"])
                                    if (npc_maydria.gift and not npc_boro.quest_complete
                                            and not npc_noren.quest_complete):
                                        npc_interaction_star.update(688, 90, graphic_dict["interaction_progress_star"])
                                    elif npc_boro.quest_complete and npc_noren.quest_complete:
                                        npc_interaction_star.update(688, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        if player.quest_complete["madness in marrow"]:
                                            npc_interaction_star.update(688, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Nahun":
                                if not player.quest_complete["disenchanted"]:
                                    if player.quest_progress["welcome to consona"] == 1:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    if player.quest_status["disenchanted"]:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    else:
                                        if player.quest_complete["welcome to consona"]:
                                            npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Illisare":
                                if not player.quest_complete["madness in marrow"]:
                                    if player.quest_progress["disenchanted"] == 1:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    if player.quest_status["madness in marrow"]:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    else:
                                        if player.quest_complete["disenchanted"]:
                                            npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)
                            if current_npc_interacting.name == "Roroc":
                                if not player.quest_complete["re recycling"]:
                                    if (player.quest_status["re recycling"] and
                                            player.quest_progress["re recycling"] != 4):
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_progress_star"])
                                    elif player.quest_progress["re recycling"] == 4:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_complete_star"])
                                    else:
                                        npc_interaction_star.update(680, 90, graphic_dict["interaction_start_star"])
                                    game_window.blit(npc_interaction_star.surf, npc_interaction_star.rect)

                            game_window.blit(equipment_screen.surf, equipment_screen.rect)
                            game_window.blit(offense_meter.surf, offense_meter.rect)
                            game_window.blit(defense_meter.surf, defense_meter.rect)
                            if player.alive_status:
                                game_window.blit(bar_backdrop.surf, bar_backdrop.rect)
                                game_window.blit(hp_bar.surf, hp_bar.rect)
                                game_window.blit(en_bar.surf, en_bar.rect)
                                game_window.blit(xp_bar.surf, xp_bar.rect)
                            game_window.blit(leave_button.surf, leave_button.rect)
                            game_window.blit(quest_button.surf, quest_button.rect)
                            game_window.blit(npc_name_plate.surf, npc_name_plate.rect)
                            game_window.blit(message_box.surf, message_box.rect)
                            if len(drawing_functions.item_info_window) == 0:
                                game_window.blit(star_power_meter.surf, star_power_meter.rect)
                        # draw texts to the screen, like message box, player rupees and level, inv and equ updates
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            drawing_functions.text_info_draw(screen, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(screen, in_battle)
                        else:
                            drawing_functions.text_info_draw(game_window, player, font, info_text_1, info_text_2,
                                                             info_text_3, info_text_4, in_over_world,
                                                             basic_fish_counter, better_fish_counter,
                                                             even_better_fish_counter, best_fish_counter)
                            drawing_functions.draw_it(game_window, in_battle)

                        if (len(drawing_functions.type_advantage_window) == 0 and
                                len(drawing_functions.game_guide_container) == 0):
                            text_npc_name_surf = font.render(str(current_npc_interacting.name), True, "black",
                                                             (203, 195, 227))
                            text_npc_name_rect = text_npc_name_surf.get_rect()
                            if current_npc_interacting.name == "Omoku":
                                text_npc_name_rect.center = (605, 193)
                            if current_npc_interacting.name != "Omoku":
                                text_npc_name_rect.center = (675, 175)
                                if current_npc_interacting.name == "Artherian":
                                    text_npc_name_rect.center = (680, 175)
                                if current_npc_interacting.name == "Maydria":
                                    text_npc_name_rect.center = (685, 175)
                                if current_npc_interacting.name == "Kuba":
                                    text_npc_name_rect.center = (677, 175)

                        if (len(drawing_functions.type_advantage_window) == 0 and
                                len(drawing_functions.game_guide_container) == 0):
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(text_npc_name_surf, text_npc_name_rect)
                                if button_highlighted:
                                    screen.blit(button_highlight.surf, button_highlight.rect)
                                if first_npc_cond:
                                    directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                    screen.blit(directional_arrow.surf, directional_arrow.rect)
                            else:
                                game_window.blit(text_npc_name_surf, text_npc_name_rect)
                                if button_highlighted:
                                    game_window.blit(button_highlight.surf, button_highlight.rect)
                                if first_npc_cond:
                                    directional_arrow.update(855, 620, graphic_dict["arrow_down"])
                                    game_window.blit(directional_arrow.surf, directional_arrow.rect)

                        if show_cat_card:
                            if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                screen.blit(cat_card_portrait, (60, 105))
                            else:
                                game_window.blit(cat_card_portrait, (60, 105))

                        if show_trade_deck:
                            render_card_deck()

                        if len(drawing_functions.level_up_window) == 0:
                            if burned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_burned.surf, overlay_burned.rect)
                                else:
                                    game_window.blit(overlay_burned.surf, overlay_burned.rect)
                            if poisoned:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                                else:
                                    game_window.blit(overlay_poisoned.surf, overlay_poisoned.rect)
                            if bleeding:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                                else:
                                    game_window.blit(overlay_bleeding.surf, overlay_bleeding.rect)
                            if crushed:
                                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                                    screen.blit(overlay_crushed.surf, overlay_crushed.rect)
                                else:
                                    game_window.blit(overlay_crushed.surf, overlay_crushed.rect)

                # ------------------------------------------------------------------------------------------------------
                # end of whole iteration -------------------------------------------------------------------------------

                # keep track of time of day, switch when enough time has elapsed
                day_timer_toc = time.perf_counter()
                if day_timer_toc - day_timer > 25:
                    match time_of_day:
                        case 0:  # dawn
                            if (player.current_zone != "reservoir a" and player.current_zone != "reservoir b"
                                    and player.current_zone != "reservoir c" and player.current_zone != "castle one"
                                    and player.current_zone != "castle two" and player.current_zone != "castle three"
                                    and player.current_zone != "caldera" and player.current_zone != "castle lair"
                                    and player.current_zone != "marrow entrance"
                                    and player.current_zone != "marrow ramps west"
                                    and player.current_zone != "marrow tower west"
                                    and player.current_zone != "marrow ramps west end"
                                    and player.current_zone != "marrow ramps east"
                                    and player.current_zone != "marrow tower east"
                                    and player.current_zone != "marrow ramps east end"
                                    and player.current_zone != "sub marrow" and not in_card_cave
                                    and player.current_zone != "ectrenos"
                                    and player.current_zone != "ectrenos alcove"
                                    and player.current_zone != "mines"):
                                over_world_song_set = False
                            message_box.update(173, 650, graphic_dict["message_box_dawn"])
                            pygame.mixer.find_channel(True).play(sfx_chirp)
                            time_of_day = 1
                            day_timer = time.perf_counter()
                            if player.current_zone == "seldon":
                                for snake in snakes:
                                    if (player.quest_status["sneaky snakes"]
                                            and not player.quest_complete["sneaky snakes"]):
                                        snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                           graphic_dict["snake_high"])
                                    else:
                                        snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                           graphic_dict["snake"])
                                if player.quest_progress["where's nede?"] == 1:
                                    nede.update(809, 390, graphic_dict["nede_left"])
                            if player.current_zone == "stardust":
                                for stelli in stardust_stelli:
                                    if stelli.name == "Stellia":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_a"])
                                    if stelli.name == "Stellib":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_b"])
                                    if stelli.name == "Stellic":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_c"])
                            if player.current_zone == "korlok":
                                for magmon in magmons:
                                    if (player.quest_status["elementary elementals"]
                                            and not player.quest_complete["elementary elementals"]):
                                        magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                            graphic_dict["magmon_high"])
                                    else:
                                        magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                            graphic_dict["magmon"])
                            if player.current_zone == "mines":
                                for bandile in bandiles:
                                    if (player.quest_status["band hammer"]
                                            and not player.quest_complete["band hammer"]):
                                        bandile.update_image(bandile.x_coordinate, bandile.y_coordinate,
                                                             graphic_dict["bandile_high"])
                                    else:
                                        bandile.update_image(bandile.x_coordinate, bandile.y_coordinate,
                                                             graphic_dict["bandile"])
                            if player.current_zone == "ectrenos alcove":
                                for osodark in ectrenos_alcove_enemies:
                                    osodark.update_image(osodark.x_coordinate, osodark.y_coordinate,
                                                         graphic_dict["osodark"])
                            if player.current_zone == "sub marrow":
                                for atmon in atmons:
                                    if npc_maydria.gift and not prism_received:
                                        atmon.update_image(atmon.x_coordinate, atmon.y_coordinate,
                                                           graphic_dict["atmon_high"])
                                    else:
                                        atmon.update_image(atmon.x_coordinate, atmon.y_coordinate,
                                                           graphic_dict["atmon"])
                        case 1:  # early morning
                            message_box.update(173, 650, graphic_dict["message_box_dawn"])
                            time_of_day = 2
                            day_timer = time.perf_counter()
                        case 2:  # morning
                            message_box.update(173, 650, graphic_dict["message_box_day"])
                            time_of_day = 3
                            day_timer = time.perf_counter()
                        case 3:  # day
                            if day_timer_toc - day_timer > 50:
                                message_box.update(173, 650, graphic_dict["message_box_day"])
                                time_of_day = 4
                                day_timer = time.perf_counter()
                        case 4:  # early afternoon
                            message_box.update(173, 650, graphic_dict["message_box_dusk"])
                            time_of_day = 5
                            day_timer = time.perf_counter()
                        case 5:  # afternoon
                            message_box.update(173, 650, graphic_dict["message_box_dusk"])
                            time_of_day = 6
                            day_timer = time.perf_counter()
                        case 6:  # dusk
                            if (player.current_zone != "reservoir a" and player.current_zone != "reservoir b"
                                    and player.current_zone != "reservoir c" and player.current_zone != "castle one"
                                    and player.current_zone != "castle two" and player.current_zone != "castle three"
                                    and player.current_zone != "caldera" and player.current_zone != "castle lair"
                                    and player.current_zone != "marrow entrance"
                                    and player.current_zone != "marrow ramps west"
                                    and player.current_zone != "marrow tower west"
                                    and player.current_zone != "marrow ramps west end"
                                    and player.current_zone != "marrow ramps east"
                                    and player.current_zone != "marrow tower east"
                                    and player.current_zone != "marrow ramps east end"
                                    and player.current_zone != "sub marrow" and not in_card_cave
                                    and player.current_zone != "ectrenos"
                                    and player.current_zone != "ectrenos alcove"
                                    and player.current_zone != "mines"):
                                over_world_song_set = False
                            message_box.update(173, 650, graphic_dict["message_box_night"])
                            pygame.mixer.find_channel(True).play(sfx_howl)
                            time_of_day = 7
                            day_timer = time.perf_counter()
                            if player.current_zone == "seldon":
                                for snake in snakes:
                                    if (player.quest_status["sneaky snakes"]
                                            and not player.quest_complete["sneaky snakes"]):
                                        snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                           graphic_dict["snake_high_night"])
                                    else:
                                        snake.update_image(snake.x_coordinate, snake.y_coordinate,
                                                           graphic_dict["snake_night"])
                                if player.quest_progress["where's nede?"] == 1:
                                    nede.update(809, 390, graphic_dict["nede_sleep"])
                            if player.current_zone == "stardust":
                                for stelli in stardust_stelli:
                                    if stelli.name == "Stellia":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_a_night"])
                                    if stelli.name == "Stellib":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_b_night"])
                                    if stelli.name == "Stellic":
                                        stelli.update_image(stelli.x_coordinate, stelli.y_coordinate,
                                                            graphic_dict["stelli_c_night"])
                            if player.current_zone == "korlok":
                                for magmon in magmons:
                                    if (player.quest_status["elementary elementals"]
                                            and not player.quest_complete["elementary elementals"]):
                                        magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                            graphic_dict["magmon_high_night"])
                                    else:
                                        magmon.update_image(magmon.x_coordinate, magmon.y_coordinate,
                                                            graphic_dict["magmon_night"])
                            if player.current_zone == "mines":
                                for bandile in bandiles:
                                    if (player.quest_status["band hammer"]
                                            and not player.quest_complete["band hammer"]):
                                        bandile.update_image(bandile.x_coordinate, bandile.y_coordinate,
                                                             graphic_dict["bandile_high_night"])
                                    else:
                                        bandile.update_image(bandile.x_coordinate, bandile.y_coordinate,
                                                             graphic_dict["bandile_night"])
                            if player.current_zone == "ectrenos alcove":
                                for osodark in ectrenos_alcove_enemies:
                                    osodark.update_image(osodark.x_coordinate, osodark.y_coordinate,
                                                         graphic_dict["osodark_night"])
                            if player.current_zone == "sub marrow":
                                for atmon in atmons:
                                    if npc_maydria.gift and not prism_received:
                                        atmon.update_image(atmon.x_coordinate, atmon.y_coordinate,
                                                           graphic_dict["atmon_high_night"])
                                    else:
                                        atmon.update_image(atmon.x_coordinate, atmon.y_coordinate,
                                                           graphic_dict["atmon_night"])

                        case 7:  # night
                            if day_timer_toc - day_timer > 50:
                                message_box.update(173, 650, graphic_dict["message_box_night"])
                                time_of_day = 0
                                day_timer = time.perf_counter()

                # check each iteration if creature seed is ready to hatch from counters
                hatch_ready = gameplay_functions.creature_update(player, seed_scout_count, seed_fighter_count,
                                                                 seed_mage_count, hatch_ready,
                                                                 graphic_dict["seed_ready_img"])

                if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                    frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH, SCREEN_HEIGHT))
                    game_window.blit(frame, frame.get_rect())
                    pygame.display.flip()
                else:
                    pygame.display.flip()

                clock.tick(60)

            # ----------------------------------------------------------------------------------------------------------
            # player has died, show game over and give continue option -------------------------------------------------
            else:
                if current_enemy_battling.name == "Dreth":
                    if not apothis_gift:
                        cutscene_tic = time.perf_counter()
                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            cutscenes.cutscenes_final_dreth(pygame, final_music, screen, final_scene_1,
                                                            final_scene_2, final_scene_3, final_scene_4, final_scene_5,
                                                            final_scene_6, final_scene_7, final_scene_8, final_scene_9,
                                                            final_scene_10, final_scene_11, final_scene_12,
                                                            final_scene_13, final_scene_14, cutscene_tic, skip_button,
                                                            SCREEN_WIDTH, SCREEN_HEIGHT, game_window, big_hp_bar,
                                                            graphic_dict["big_hp_2"], graphic_dict["big_hp_3"],
                                                            graphic_dict["big_hp_4"], graphic_dict["big_hp_5"],
                                                            graphic_dict["big_hp_6"], graphic_dict["big_hp_7"],
                                                            graphic_dict["big_hp_8"], graphic_dict["big_hp_9"],
                                                            graphic_dict["big_hp_10"], graphic_dict["big_hp_11"],
                                                            graphic_dict["big_hp_12"], graphic_dict["big_hp_13"],
                                                            graphic_dict["big_hp_14"], graphic_dict["big_hp_15"],
                                                            graphic_dict["big_hp_16"], graphic_dict["big_hp_17"],
                                                            graphic_dict["big_hp_18"], graphic_dict["big_hp_19"],
                                                            graphic_dict["big_hp_20"], graphic_dict["big_hp_21"],
                                                            graphic_dict["big_hp_22"], graphic_dict["big_hp_23"],
                                                            graphic_dict["big_hp_24"], graphic_dict["big_hp_25"])
                        else:
                            cutscenes.cutscenes_final_dreth(pygame, final_music, screen, final_scene_1,
                                                            final_scene_2, final_scene_3, final_scene_4, final_scene_5,
                                                            final_scene_6, final_scene_7, final_scene_8, final_scene_9,
                                                            final_scene_10, final_scene_11, final_scene_12,
                                                            final_scene_13, final_scene_14, cutscene_tic, skip_button,
                                                            SCREEN_WIDTH, SCREEN_HEIGHT, game_window, big_hp_bar,
                                                            graphic_dict["big_hp_2"], graphic_dict["big_hp_3"],
                                                            graphic_dict["big_hp_4"], graphic_dict["big_hp_5"],
                                                            graphic_dict["big_hp_6"], graphic_dict["big_hp_7"],
                                                            graphic_dict["big_hp_8"], graphic_dict["big_hp_9"],
                                                            graphic_dict["big_hp_10"], graphic_dict["big_hp_11"],
                                                            graphic_dict["big_hp_12"], graphic_dict["big_hp_13"],
                                                            graphic_dict["big_hp_14"], graphic_dict["big_hp_15"],
                                                            graphic_dict["big_hp_16"], graphic_dict["big_hp_17"],
                                                            graphic_dict["big_hp_18"], graphic_dict["big_hp_19"],
                                                            graphic_dict["big_hp_20"], graphic_dict["big_hp_21"],
                                                            graphic_dict["big_hp_22"], graphic_dict["big_hp_23"],
                                                            graphic_dict["big_hp_24"], graphic_dict["big_hp_25"])
                        player.current_zone = "stardust"
                        player.x_coordinate = 530
                        player.y_coordinate = 480
                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate, player.y_coordinate))
                        player.health = 25
                        player.energy = 25
                        player.alive_status = True
                        over_world_song_set = False
                        info_text_1 = ""
                        info_text_2 = ""
                        info_text_3 = ""
                        info_text_4 = ""
                        button_highlighted = False
                        movement_able = True
                        interacted = False
                        buy_clicked = False
                        encounter_started = False
                        in_battle = False
                        combat_cooldown = False
                        combat_happened = False
                        in_over_world = True
                        barrier_active = False
                        sharp_sense_active = False
                        fire_active = False
                        arrow_active = False
                        show_arrow = False
                        show_poison_arrow = False
                        edge_active = False
                        show_edge = False
                        strike_active = False
                        if mirror_image:
                            if transpose_orb == 0 or transpose_orb == 1:
                                info_text_1 = "Gained 20 energy from Transposition."
                                player.energy += 20
                                if player.energy > 100:
                                    player.energy = 100
                                transpose_orb = 0
                            if transpose_orb == 2 or transpose_orb == 3:
                                info_text_1 = "Gained 30 energy from Transposition."
                                player.energy += 30
                                if player.energy > 100:
                                    player.energy = 100
                                transpose_orb = 0
                            if transpose_orb >= 4:
                                info_text_1 = "Gained 40 energy from Transposition."
                                player.energy += 40
                                if player.energy > 100:
                                    player.energy = 100
                                transpose_orb = 0
                        mirror_image = False
                        cleared = False
                        loot_timer_reset = False
                        loot_level_tic = time.perf_counter()
                        apothis_gift = True
                        first_attack = True
                        dreth.health = 75
                        combat_scenario.enemy_health_bar(dreth, graphic_dict)
                        turn_counter = 0

                    else:
                        if not game_over_sound_played:
                            pygame.mixer.find_channel(True).play(sfx_game_over)
                            game_over_sound_played = True
                        if pygame.mixer.music.get_busy():
                            pygame.mixer.music.fadeout(50)
                            pygame.mixer.music.load(nascent_music)
                            pygame.mixer.music.play(loops=-1)
                            over_world_song_set = True

                        button_highlight.update(lets_go_button.x_coordinate, lets_go_button.y_coordinate,
                                                graphic_dict["lets_go_button_high"])

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            screen.blit(game_over_screen, (0, 0))
                            screen.blit(lets_go_button.surf, lets_go_button.rect)
                        else:
                            game_window.blit(game_over_screen, (0, 0))
                            game_window.blit(lets_go_button.surf, lets_go_button.rect)

                        for event in pygame.event.get():
                            init_pos = list(pygame.mouse.get_pos())
                            ratio_x = (SCREEN_WIDTH / screen.get_width())
                            ratio_y = (SCREEN_HEIGHT / screen.get_height())
                            pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                            if lets_go_button.rect.collidepoint(pos):
                                button_highlighted = True
                            else:
                                button_highlighted = False
                            if event.type == pygame.MOUSEBUTTONUP:
                                if lets_go_button.rect.collidepoint(pos):
                                    over_world_song_set = False
                                    game_over_sound_played = False
                                    pygame.mixer.find_channel(True).play(sfx_button_start)
                                    info_text_1 = ""
                                    info_text_2 = ""
                                    info_text_3 = ""
                                    info_text_4 = ""
                                    button_highlighted = False
                                    movement_able = True
                                    interacted = False
                                    buy_clicked = False
                                    encounter_started = False
                                    in_battle = False
                                    combat_cooldown = False
                                    combat_happened = False
                                    in_over_world = True
                                    if mini_boss_1:
                                        mini_boss_1 = False
                                    if mini_boss_2:
                                        mini_boss_2 = False
                                    if not switch_3:
                                        switch_1 = False
                                        switch_2 = False
                                    barrier_active = False
                                    sharp_sense_active = False
                                    fire_active = False
                                    arrow_active = False
                                    show_arrow = False
                                    show_poison_arrow = False
                                    edge_active = False
                                    show_edge = False
                                    strike_active = False
                                    if mirror_image:
                                        if transpose_orb == 0 or transpose_orb == 1:
                                            info_text_1 = "Gained 20 energy from Transposition."
                                            player.energy += 20
                                            if player.energy > 100:
                                                player.energy = 100
                                            transpose_orb = 0
                                        if transpose_orb == 2 or transpose_orb == 3:
                                            info_text_1 = "Gained 30 energy from Transposition."
                                            player.energy += 30
                                            if player.energy > 100:
                                                player.energy = 100
                                            transpose_orb = 0
                                        if transpose_orb >= 4:
                                            info_text_1 = "Gained 40 energy from Transposition."
                                            player.energy += 40
                                            if player.energy > 100:
                                                player.energy = 100
                                            transpose_orb = 0
                                    mirror_image = False
                                    cleared = False
                                    cloaked = False
                                    turn_counter = 0
                                    loot_timer_reset = False
                                    loot_level_tic = time.perf_counter()
                                    first_attack = True
                                    player.current_zone = "castle one"
                                    player.x_coordinate = 515
                                    player.y_coordinate = 150
                                    player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                  player.y_coordinate))
                                    player.health = 25
                                    player.energy = 25
                                    player.alive_status = True
                                    rest_recover_show = True
                                    dreth.health = 100
                                    combat_scenario.enemy_health_bar(dreth, graphic_dict)

                            elif event.type == QUIT:
                                pygame.mixer.quit()
                                sys.exit()

                        if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                            if button_highlighted:
                                screen.blit(button_highlight.surf, button_highlight.rect)
                            frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH, SCREEN_HEIGHT))
                            game_window.blit(frame, frame.get_rect())
                            pygame.display.flip()
                        else:
                            if button_highlighted:
                                game_window.blit(button_highlight.surf, button_highlight.rect)
                            pygame.display.flip()

                else:
                    if not game_over_sound_played:
                        pygame.mixer.find_channel(True).play(sfx_game_over)
                        game_over_sound_played = True
                    if pygame.mixer.music.get_busy():
                        pygame.mixer.music.fadeout(50)
                        pygame.mixer.music.load(nascent_music)
                        pygame.mixer.music.play(loops=-1)
                        over_world_song_set = True

                    button_highlight.update(lets_go_button.x_coordinate, lets_go_button.y_coordinate,
                                            graphic_dict["lets_go_button_high"])

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        screen.blit(game_over_screen, (0, 0))
                        screen.blit(lets_go_button.surf, lets_go_button.rect)
                    else:
                        game_window.blit(game_over_screen, (0, 0))
                        game_window.blit(lets_go_button.surf, lets_go_button.rect)

                    for event in pygame.event.get():
                        init_pos = list(pygame.mouse.get_pos())
                        ratio_x = (SCREEN_WIDTH / screen.get_width())
                        ratio_y = (SCREEN_HEIGHT / screen.get_height())
                        pos = (init_pos[0] / ratio_x, init_pos[1] / ratio_y)
                        if lets_go_button.rect.collidepoint(pos):
                            button_highlighted = True
                        else:
                            button_highlighted = False
                        if event.type == pygame.MOUSEBUTTONUP:
                            # player chooses to continue, reset character experience and half health and energy
                            if lets_go_button.rect.collidepoint(pos):
                                over_world_song_set = False
                                game_over_sound_played = False
                                pygame.mixer.find_channel(True).play(sfx_button_start)
                                info_text_1 = ""
                                info_text_2 = ""
                                info_text_3 = ""
                                info_text_4 = ""
                                button_highlighted = False
                                movement_able = True
                                interacted = False
                                buy_clicked = False
                                encounter_started = False
                                in_battle = False
                                combat_cooldown = False
                                combat_happened = False
                                in_over_world = True
                                if mini_boss_1:
                                    mini_boss_1 = False
                                if mini_boss_2:
                                    mini_boss_2 = False
                                if not switch_3:
                                    switch_1 = False
                                    switch_2 = False
                                if barrier_active:
                                    barrier_active = False
                                if sharp_sense_active:
                                    sharp_sense_active = False
                                fire_active = False
                                arrow_active = False
                                show_arrow = False
                                show_poison_arrow = False
                                edge_active = False
                                show_edge = False
                                strike_active = False
                                if mirror_image:
                                    if transpose_orb == 0 or transpose_orb == 1:
                                        info_text_1 = "Gained 20 energy from Transposition."
                                        player.energy += 20
                                        if player.energy > 100:
                                            player.energy = 100
                                        transpose_orb = 0
                                    if transpose_orb == 2 or transpose_orb == 3:
                                        info_text_1 = "Gained 30 energy from Transposition."
                                        player.energy += 30
                                        if player.energy > 100:
                                            player.energy = 100
                                        transpose_orb = 0
                                    if transpose_orb >= 4:
                                        info_text_1 = "Gained 40 energy from Transposition."
                                        player.energy += 40
                                        if player.energy > 100:
                                            player.energy = 100
                                        transpose_orb = 0
                                mirror_image = False
                                cleared = False
                                cloaked = False
                                turn_counter = 0
                                loot_timer_reset = False
                                loot_level_tic = time.perf_counter()
                                first_attack = True

                                if (player.current_zone == "korlok" or player.current_zone == "mines" or
                                        player.current_zone == "terra trail"):
                                    if korlok_attuned:
                                        player.current_zone = "korlok"
                                        player.x_coordinate = 895
                                        player.y_coordinate = 325
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                    else:
                                        player.current_zone = "seldon"
                                        player.x_coordinate = 860
                                        player.y_coordinate = 655
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                        dungeon_teleporter.update(519, 316, graphic_dict["dungeon_teleporter"])

                                elif (player.current_zone == "ectrenos front" or
                                      player.current_zone == "ectrenos alcove" or
                                      player.current_zone == "marrow tower east" or
                                      player.current_zone == "marrow tower west" or
                                      player.current_zone == "marrow ramps east end"):
                                    if eldream_attuned:
                                        player.current_zone = "eldream"
                                        player.x_coordinate = 890
                                        player.y_coordinate = 635
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                    elif korlok_attuned:
                                        player.current_zone = "korlok"
                                        player.x_coordinate = 895
                                        player.y_coordinate = 325
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                 player.y_coordinate))
                                    else:
                                        player.current_zone = "seldon"
                                        player.x_coordinate = 860
                                        player.y_coordinate = 655
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                        dungeon_teleporter.update(519, 316, graphic_dict["dungeon_teleporter"])

                                elif (player.current_zone == "marrow" or player.current_zone == "sub marrow"
                                      or player.current_zone == "castle one" or player.current_zone == "castle two"
                                      or player.current_zone == "castle three" or player.current_zone == "castle lair"):
                                    if marrow_attuned:
                                        player.current_zone = "marrow"
                                        player.x_coordinate = 890
                                        player.y_coordinate = 390
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                    elif eldream_attuned:
                                        player.current_zone = "eldream"
                                        player.x_coordinate = 890
                                        player.y_coordinate = 635
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                    elif korlok_attuned:
                                        player.current_zone = "korlok"
                                        player.x_coordinate = 895
                                        player.y_coordinate = 325
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                    else:
                                        player.current_zone = "seldon"
                                        player.x_coordinate = 860
                                        player.y_coordinate = 655
                                        player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                      player.y_coordinate))
                                        dungeon_teleporter.update(519, 316, graphic_dict["dungeon_teleporter"])

                                else:
                                    player.current_zone = "seldon"
                                    player.x_coordinate = 860
                                    player.y_coordinate = 655
                                    player.rect = player.surf.get_rect(midbottom=(player.x_coordinate,
                                                                                  player.y_coordinate))
                                    dungeon_teleporter.update(519, 316, graphic_dict["dungeon_teleporter"])

                                # player returns in a weakened state
                                player.health = 25
                                player.energy = 25
                                player.alive_status = True
                                rest_recover_show = True

                                # bring enemies back to full health
                                for enemy in seldon_enemies:
                                    enemy.health = 100
                                    # noinspection PyTypeChecker
                                    combat_scenario.enemy_health_bar(enemy, graphic_dict)
                                for enemy in korlok_enemies:
                                    enemy.health = 100
                                    # noinspection PyTypeChecker
                                    combat_scenario.enemy_health_bar(enemy, graphic_dict)
                                for enemy in bandiles:
                                    enemy.health = 100
                                    # noinspection PyTypeChecker
                                    combat_scenario.enemy_health_bar(enemy, graphic_dict)
                                for enemy in ectrenos_front_enemies:
                                    enemy.health = 100
                                    # noinspection PyTypeChecker
                                    combat_scenario.enemy_health_bar(enemy, graphic_dict)
                                for enemy in ectrenos_alcove_enemies:
                                    enemy.health = 100
                                    # noinspection PyTypeChecker
                                    combat_scenario.enemy_health_bar(enemy, graphic_dict)
                                for enemy in stardust_stelli:
                                    enemy.health = 100
                                    # noinspection PyTypeChecker
                                    combat_scenario.enemy_health_bar(enemy, graphic_dict)
                                for enemy in atmons:
                                    enemy.health = 100
                                    # noinspection PyTypeChecker
                                    combat_scenario.enemy_health_bar(enemy, graphic_dict)
                                for enemy in ghouls_marrow:
                                    enemy.health = 100
                                    # noinspection PyTypeChecker
                                    combat_scenario.enemy_health_bar(enemy, graphic_dict)
                                for enemy in jumanos:
                                    enemy.health = 100
                                    # noinspection PyTypeChecker
                                    combat_scenario.enemy_health_bar(enemy, graphic_dict)

                                atmon_castle.health = 100
                                combat_scenario.enemy_health_bar(atmon_castle, graphic_dict)
                                jumano_hall.health = 100
                                combat_scenario.enemy_health_bar(jumano_hall, graphic_dict)
                                ghoul_nede.health = 100
                                combat_scenario.enemy_health_bar(ghoul_nede, graphic_dict)
                                chorizon_1.health = 100
                                combat_scenario.enemy_health_bar(chorizon_1, graphic_dict)
                                chorizon_2.health = 100
                                combat_scenario.enemy_health_bar(chorizon_2, graphic_dict)
                                muchador.health = 100
                                combat_scenario.enemy_health_bar(muchador, graphic_dict)
                                chinzilla.health = 100
                                combat_scenario.enemy_health_bar(chinzilla, graphic_dict)
                                erebyth.health = 100
                                combat_scenario.enemy_health_bar(erebyth, graphic_dict)
                                turn_counter = 0
                                necrola_ramps_1.health = 100
                                combat_scenario.enemy_health_bar(necrola_ramps_1, graphic_dict)
                                necrola_ramps_2.health = 100
                                combat_scenario.enemy_health_bar(necrola_ramps_2, graphic_dict)
                                necrola_ramps_3.health = 100
                                combat_scenario.enemy_health_bar(necrola_ramps_3, graphic_dict)
                                dreth.health = 100
                                combat_scenario.enemy_health_bar(dreth, graphic_dict)

                        elif event.type == QUIT:
                            pygame.mixer.quit()
                            sys.exit()

                    if SCREEN_WIDTH != 1280 and SCREEN_HEIGHT != 720:
                        if button_highlighted:
                            screen.blit(button_highlight.surf, button_highlight.rect)
                        frame = pygame.transform.smoothscale(screen, (SCREEN_WIDTH, SCREEN_HEIGHT))
                        game_window.blit(frame, frame.get_rect())
                        pygame.display.flip()

                    else:
                        if button_highlighted:
                            game_window.blit(button_highlight.surf, button_highlight.rect)
                        pygame.display.flip()
